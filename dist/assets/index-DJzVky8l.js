function JE(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function pw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ch={exports:{}},pa={},uh={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function YE(){if(uv)return Oe;uv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function k(N,U,Y){this.props=N,this.context=U,this.refs=_,this.updater=Y||x}k.prototype.isReactComponent={},k.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=k.prototype;function C(N,U,Y){this.props=N,this.context=U,this.refs=_,this.updater=Y||x}var I=C.prototype=new T;I.constructor=C,E(I,k.prototype),I.isPureReactComponent=!0;var j=Array.isArray,$=Object.prototype.hasOwnProperty,V={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function z(N,U,Y){var Z,_e={},ne=null,H=null;if(U!=null)for(Z in U.ref!==void 0&&(H=U.ref),U.key!==void 0&&(ne=""+U.key),U)$.call(U,Z)&&!B.hasOwnProperty(Z)&&(_e[Z]=U[Z]);var se=arguments.length-2;if(se===1)_e.children=Y;else if(1<se){for(var ce=Array(se),xe=0;xe<se;xe++)ce[xe]=arguments[xe+2];_e.children=ce}if(N&&N.defaultProps)for(Z in se=N.defaultProps,se)_e[Z]===void 0&&(_e[Z]=se[Z]);return{$$typeof:t,type:N,key:ne,ref:H,props:_e,_owner:V.current}}function te(N,U){return{$$typeof:t,type:N.type,key:U,ref:N.ref,props:N.props,_owner:N._owner}}function fe(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function me(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return U[Y]})}var ge=/\/+/g;function ve(N,U){return typeof N=="object"&&N!==null&&N.key!=null?me(""+N.key):U.toString(36)}function ye(N,U,Y,Z,_e){var ne=typeof N;(ne==="undefined"||ne==="boolean")&&(N=null);var H=!1;if(N===null)H=!0;else switch(ne){case"string":case"number":H=!0;break;case"object":switch(N.$$typeof){case t:case e:H=!0}}if(H)return H=N,_e=_e(H),N=Z===""?"."+ve(H,0):Z,j(_e)?(Y="",N!=null&&(Y=N.replace(ge,"$&/")+"/"),ye(_e,U,Y,"",function(xe){return xe})):_e!=null&&(fe(_e)&&(_e=te(_e,Y+(!_e.key||H&&H.key===_e.key?"":(""+_e.key).replace(ge,"$&/")+"/")+N)),U.push(_e)),1;if(H=0,Z=Z===""?".":Z+":",j(N))for(var se=0;se<N.length;se++){ne=N[se];var ce=Z+ve(ne,se);H+=ye(ne,U,Y,ce,_e)}else if(ce=w(N),typeof ce=="function")for(N=ce.call(N),se=0;!(ne=N.next()).done;)ne=ne.value,ce=Z+ve(ne,se++),H+=ye(ne,U,Y,ce,_e);else if(ne==="object")throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return H}function we(N,U,Y){if(N==null)return N;var Z=[],_e=0;return ye(N,Z,"","",function(ne){return U.call(Y,ne,_e++)}),Z}function K(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var ee={current:null},O={transition:null},F={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function q(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:we,forEach:function(N,U,Y){we(N,function(){U.apply(this,arguments)},Y)},count:function(N){var U=0;return we(N,function(){U++}),U},toArray:function(N){return we(N,function(U){return U})||[]},only:function(N){if(!fe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=k,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=C,Oe.StrictMode=s,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Oe.act=q,Oe.cloneElement=function(N,U,Y){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Z=E({},N.props),_e=N.key,ne=N.ref,H=N._owner;if(U!=null){if(U.ref!==void 0&&(ne=U.ref,H=V.current),U.key!==void 0&&(_e=""+U.key),N.type&&N.type.defaultProps)var se=N.type.defaultProps;for(ce in U)$.call(U,ce)&&!B.hasOwnProperty(ce)&&(Z[ce]=U[ce]===void 0&&se!==void 0?se[ce]:U[ce])}var ce=arguments.length-2;if(ce===1)Z.children=Y;else if(1<ce){se=Array(ce);for(var xe=0;xe<ce;xe++)se[xe]=arguments[xe+2];Z.children=se}return{$$typeof:t,type:N.type,key:_e,ref:ne,props:Z,_owner:H}},Oe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Oe.createElement=z,Oe.createFactory=function(N){var U=z.bind(null,N);return U.type=N,U},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:h,render:N}},Oe.isValidElement=fe,Oe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:K}},Oe.memo=function(N,U){return{$$typeof:m,type:N,compare:U===void 0?null:U}},Oe.startTransition=function(N){var U=O.transition;O.transition={};try{N()}finally{O.transition=U}},Oe.unstable_act=q,Oe.useCallback=function(N,U){return ee.current.useCallback(N,U)},Oe.useContext=function(N){return ee.current.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N){return ee.current.useDeferredValue(N)},Oe.useEffect=function(N,U){return ee.current.useEffect(N,U)},Oe.useId=function(){return ee.current.useId()},Oe.useImperativeHandle=function(N,U,Y){return ee.current.useImperativeHandle(N,U,Y)},Oe.useInsertionEffect=function(N,U){return ee.current.useInsertionEffect(N,U)},Oe.useLayoutEffect=function(N,U){return ee.current.useLayoutEffect(N,U)},Oe.useMemo=function(N,U){return ee.current.useMemo(N,U)},Oe.useReducer=function(N,U,Y){return ee.current.useReducer(N,U,Y)},Oe.useRef=function(N){return ee.current.useRef(N)},Oe.useState=function(N){return ee.current.useState(N)},Oe.useSyncExternalStore=function(N,U,Y){return ee.current.useSyncExternalStore(N,U,Y)},Oe.useTransition=function(){return ee.current.useTransition()},Oe.version="18.3.1",Oe}var dv;function Df(){return dv||(dv=1,uh.exports=YE()),uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function XE(){if(hv)return pa;hv=1;var t=Df(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var y,g={},w=null,x=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(y in f)s.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:h,key:w,ref:x,props:g,_owner:o.current}}return pa.Fragment=n,pa.jsx=c,pa.jsxs=c,pa}var fv;function QE(){return fv||(fv=1,ch.exports=XE()),ch.exports}var d=QE(),uc={},dh={exports:{}},Jt={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function ZE(){return pv||(pv=1,(function(t){function e(O,F){var q=O.length;O.push(F);e:for(;0<q;){var N=q-1>>>1,U=O[N];if(0<o(U,F))O[N]=F,O[q]=U,q=N;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var F=O[0],q=O.pop();if(q!==F){O[0]=q;e:for(var N=0,U=O.length,Y=U>>>1;N<Y;){var Z=2*(N+1)-1,_e=O[Z],ne=Z+1,H=O[ne];if(0>o(_e,q))ne<U&&0>o(H,_e)?(O[N]=H,O[ne]=q,N=ne):(O[N]=_e,O[Z]=q,N=Z);else if(ne<U&&0>o(H,q))O[N]=H,O[ne]=q,N=ne;else break e}}return F}function o(O,F){var q=O.sortIndex-F.sortIndex;return q!==0?q:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,g=null,w=3,x=!1,E=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(O){for(var F=n(m);F!==null;){if(F.callback===null)s(m);else if(F.startTime<=O)s(m),F.sortIndex=F.expirationTime,e(f,F);else break;F=n(m)}}function j(O){if(_=!1,I(O),!E)if(n(f)!==null)E=!0,K($);else{var F=n(m);F!==null&&ee(j,F.startTime-O)}}function $(O,F){E=!1,_&&(_=!1,T(z),z=-1),x=!0;var q=w;try{for(I(F),g=n(f);g!==null&&(!(g.expirationTime>F)||O&&!me());){var N=g.callback;if(typeof N=="function"){g.callback=null,w=g.priorityLevel;var U=N(g.expirationTime<=F);F=t.unstable_now(),typeof U=="function"?g.callback=U:g===n(f)&&s(f),I(F)}else s(f);g=n(f)}if(g!==null)var Y=!0;else{var Z=n(m);Z!==null&&ee(j,Z.startTime-F),Y=!1}return Y}finally{g=null,w=q,x=!1}}var V=!1,B=null,z=-1,te=5,fe=-1;function me(){return!(t.unstable_now()-fe<te)}function ge(){if(B!==null){var O=t.unstable_now();fe=O;var F=!0;try{F=B(!0,O)}finally{F?ve():(V=!1,B=null)}}else V=!1}var ve;if(typeof C=="function")ve=function(){C(ge)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,we=ye.port2;ye.port1.onmessage=ge,ve=function(){we.postMessage(null)}}else ve=function(){k(ge,0)};function K(O){B=O,V||(V=!0,ve())}function ee(O,F){z=k(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){E||x||(E=!0,K($))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(O){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var q=w;w=F;try{return O()}finally{w=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=w;w=O;try{return F()}finally{w=q}},t.unstable_scheduleCallback=function(O,F,q){var N=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,O={id:y++,callback:F,priorityLevel:O,startTime:q,expirationTime:U,sortIndex:-1},q>N?(O.sortIndex=q,e(m,O),n(f)===null&&O===n(m)&&(_?(T(z),z=-1):_=!0,ee(j,q-N))):(O.sortIndex=U,e(f,O),E||x||(E=!0,K($))),O},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(O){var F=w;return function(){var q=w;w=F;try{return O.apply(this,arguments)}finally{w=q}}}})(fh)),fh}var mv;function ek(){return mv||(mv=1,hh.exports=ZE()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function tk(){if(gv)return Jt;gv=1;var t=Df(),e=ek();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function w(r){return f.call(g,r)?!0:f.call(y,r)?!1:m.test(r)?g[r]=!0:(y[r]=!0,!1)}function x(r,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,i,l,u){if(i===null||typeof i>"u"||x(r,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(r,i,l,u,p,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new _(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,C);k[i]=new _(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,C);k[i]=new _(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,C);k[i]=new _(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function I(r,i,l,u){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,l,p,u)&&(l=null),u||p===null?w(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,u=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,u?r.setAttributeNS(u,i,l):r.setAttribute(i,l))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),me=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),O=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,N;function U(r){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var Y=!1;function Z(r,i){if(!r||Y)return"";Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(L){var u=L}Reflect.construct(r,[],i)}else{try{i.call()}catch(L){u=L}r.call(i.prototype)}else{try{throw Error()}catch(L){u=L}r()}}catch(L){if(L&&u&&typeof L.stack=="string"){for(var p=L.stack.split(`
`),v=u.stack.split(`
`),b=p.length-1,R=v.length-1;1<=b&&0<=R&&p[b]!==v[R];)R--;for(;1<=b&&0<=R;b--,R--)if(p[b]!==v[R]){if(b!==1||R!==1)do if(b--,R--,0>R||p[b]!==v[R]){var A=`
`+p[b].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=b&&0<=R);break}}}finally{Y=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?U(r):""}function _e(r){switch(r.tag){case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case V:return"Portal";case te:return"Profiler";case z:return"StrictMode";case ve:return"Suspense";case ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case me:return(r.displayName||"Context")+".Consumer";case fe:return(r._context.displayName||"Context")+".Provider";case ge:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case we:return i=r.displayName||null,i!==null?i:ne(r.type)||"Memo";case K:i=r._payload,r=r._init;try{return ne(r(i))}catch{}}return null}function H(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ce(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xe(r){var i=ce(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){u=""+b,v.call(this,b)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ae(r){r._valueTracker||(r._valueTracker=xe(r))}function Pe(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=ce(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _t(r,i){var l=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Vn(r,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=se(i.value!=null?i.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function En(r,i){i=i.checked,i!=null&&I(r,"checked",i,!1)}function Lt(r,i){En(r,i);var l=se(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?xt(r,i.type,l):i.hasOwnProperty("defaultValue")&&xt(r,i.type,se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Cs(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function xt(r,i,l){(i!=="number"||ut(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Rs=Array.isArray;function Ar(r,i,l,u){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+se(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Tt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function or(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Rs(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:se(l)}}function el(r,i){var l=se(i.value),u=se(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function tl(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Is(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Is(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ns,_i=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,u,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ns.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function dn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(r){jr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Pr[i]=Pr[r]})});function nl(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Pr.hasOwnProperty(r)&&Pr[r]?(""+i).trim():i+"px"}function rl(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,p=nl(l,i[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,p):r[l]=p}}var sl=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xi(r,i){if(i){if(sl[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ao(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var As=null;function hn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Po=null,Or=null,ar=null;function jo(r){if(r=Zo(r)){if(typeof Po!="function")throw Error(n(280));var i=r.stateNode;i&&(i=kl(i),Po(r.stateNode,r.type,i))}}function Re(r){Or?ar?ar.push(r):ar=[r]:Or=r}function rt(){if(Or){var r=Or,i=ar;if(ar=Or=null,jo(r),i)for(r=0;r<i.length;r++)jo(i[r])}}function pt(r,i){return r(i)}function Pt(){}var Dr=!1;function dt(r,i,l){if(Dr)return r(i,l);Dr=!0;try{return pt(r,i,l)}finally{Dr=!1,(Or!==null||ar!==null)&&(Pt(),rt())}}function bt(r,i){var l=r.stateNode;if(l===null)return null;var u=kl(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Mr=!1;if(h)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Mr=!1}function Zt(r,i,l,u,p,v,b,R,A){var L=Array.prototype.slice.call(arguments,3);try{i.apply(l,L)}catch(G){this.onError(G)}}var Lr=!1,fn=null,Oo=!1,Ru=null,nS={onError:function(r){Lr=!0,fn=r}};function rS(r,i,l,u,p,v,b,R,A){Lr=!1,fn=null,Zt.apply(nS,arguments)}function sS(r,i,l,u,p,v,b,R,A){if(rS.apply(this,arguments),Lr){if(Lr){var L=fn;Lr=!1,fn=null}else throw Error(n(198));Oo||(Oo=!0,Ru=L)}}function Ps(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function jp(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Op(r){if(Ps(r)!==r)throw Error(n(188))}function iS(r){var i=r.alternate;if(!i){if(i=Ps(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Op(p),r;if(v===u)return Op(p),i;v=v.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=v;else{for(var b=!1,R=p.child;R;){if(R===l){b=!0,l=p,u=v;break}if(R===u){b=!0,u=p,l=v;break}R=R.sibling}if(!b){for(R=v.child;R;){if(R===l){b=!0,l=v,u=p;break}if(R===u){b=!0,u=v,l=p;break}R=R.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function Dp(r){return r=iS(r),r!==null?Mp(r):null}function Mp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Mp(r);if(i!==null)return i;r=r.sibling}return null}var Lp=e.unstable_scheduleCallback,Up=e.unstable_cancelCallback,oS=e.unstable_shouldYield,aS=e.unstable_requestPaint,st=e.unstable_now,lS=e.unstable_getCurrentPriorityLevel,Iu=e.unstable_ImmediatePriority,$p=e.unstable_UserBlockingPriority,il=e.unstable_NormalPriority,cS=e.unstable_LowPriority,Fp=e.unstable_IdlePriority,ol=null,Hn=null;function uS(r){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(ol,r,void 0,(r.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:fS,dS=Math.log,hS=Math.LN2;function fS(r){return r>>>=0,r===0?32:31-(dS(r)/hS|0)|0}var al=64,ll=4194304;function Do(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cl(r,i){var l=r.pendingLanes;if(l===0)return 0;var u=0,p=r.suspendedLanes,v=r.pingedLanes,b=l&268435455;if(b!==0){var R=b&~p;R!==0?u=Do(R):(v&=b,v!==0&&(u=Do(v)))}else b=l&~p,b!==0?u=Do(b):v!==0&&(u=Do(v));if(u===0)return 0;if(i!==0&&i!==u&&(i&p)===0&&(p=u&-u,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((u&4)!==0&&(u|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)l=31-kn(i),p=1<<l,u|=r[l],i&=~p;return u}function pS(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var b=31-kn(v),R=1<<b,A=p[b];A===-1?((R&l)===0||(R&u)!==0)&&(p[b]=pS(R,i)):A<=i&&(r.expiredLanes|=R),v&=~R}}function Nu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bp(){var r=al;return al<<=1,(al&4194240)===0&&(al=64),r}function Au(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Mo(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-kn(i),r[i]=l}function gS(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-kn(l),v=1<<p;i[p]=0,u[p]=-1,r[p]=-1,l&=~v}}function Pu(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-kn(l),p=1<<u;p&i|r[u]&i&&(r[u]|=i),l&=~p}}var ze=0;function zp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Vp,ju,Hp,Wp,qp,Ou=!1,ul=[],Ur=null,$r=null,Fr=null,Lo=new Map,Uo=new Map,Br=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(r,i){switch(r){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Lo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(i.pointerId)}}function $o(r,i,l,u,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Zo(i),i!==null&&ju(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function yS(r,i,l,u,p){switch(i){case"focusin":return Ur=$o(Ur,r,i,l,u,p),!0;case"dragenter":return $r=$o($r,r,i,l,u,p),!0;case"mouseover":return Fr=$o(Fr,r,i,l,u,p),!0;case"pointerover":var v=p.pointerId;return Lo.set(v,$o(Lo.get(v)||null,r,i,l,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Uo.set(v,$o(Uo.get(v)||null,r,i,l,u,p)),!0}return!1}function Gp(r){var i=js(r.target);if(i!==null){var l=Ps(i);if(l!==null){if(i=l.tag,i===13){if(i=jp(l),i!==null){r.blockedOn=i,qp(r.priority,function(){Hp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function dl(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Mu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);As=u,l.target.dispatchEvent(u),As=null}else return i=Zo(l),i!==null&&ju(i),r.blockedOn=l,!1;i.shift()}return!0}function Jp(r,i,l){dl(r)&&l.delete(i)}function wS(){Ou=!1,Ur!==null&&dl(Ur)&&(Ur=null),$r!==null&&dl($r)&&($r=null),Fr!==null&&dl(Fr)&&(Fr=null),Lo.forEach(Jp),Uo.forEach(Jp)}function Fo(r,i){r.blockedOn===i&&(r.blockedOn=null,Ou||(Ou=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wS)))}function Bo(r){function i(p){return Fo(p,r)}if(0<ul.length){Fo(ul[0],r);for(var l=1;l<ul.length;l++){var u=ul[l];u.blockedOn===r&&(u.blockedOn=null)}}for(Ur!==null&&Fo(Ur,r),$r!==null&&Fo($r,r),Fr!==null&&Fo(Fr,r),Lo.forEach(i),Uo.forEach(i),l=0;l<Br.length;l++)u=Br[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<Br.length&&(l=Br[0],l.blockedOn===null);)Gp(l),l.blockedOn===null&&Br.shift()}var bi=j.ReactCurrentBatchConfig,hl=!0;function _S(r,i,l,u){var p=ze,v=bi.transition;bi.transition=null;try{ze=1,Du(r,i,l,u)}finally{ze=p,bi.transition=v}}function xS(r,i,l,u){var p=ze,v=bi.transition;bi.transition=null;try{ze=4,Du(r,i,l,u)}finally{ze=p,bi.transition=v}}function Du(r,i,l,u){if(hl){var p=Mu(r,i,l,u);if(p===null)Zu(r,i,u,fl,l),Kp(r,u);else if(yS(p,r,i,l,u))u.stopPropagation();else if(Kp(r,u),i&4&&-1<vS.indexOf(r)){for(;p!==null;){var v=Zo(p);if(v!==null&&Vp(v),v=Mu(r,i,l,u),v===null&&Zu(r,i,u,fl,l),v===p)break;p=v}p!==null&&u.stopPropagation()}else Zu(r,i,u,null,l)}}var fl=null;function Mu(r,i,l,u){if(fl=null,r=hn(u),r=js(r),r!==null)if(i=Ps(r),i===null)r=null;else if(l=i.tag,l===13){if(r=jp(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return fl=r,null}function Yp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lS()){case Iu:return 1;case $p:return 4;case il:case cS:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var zr=null,Lu=null,pl=null;function Xp(){if(pl)return pl;var r,i=Lu,l=i.length,u,p="value"in zr?zr.value:zr.textContent,v=p.length;for(r=0;r<l&&i[r]===p[r];r++);var b=l-r;for(u=1;u<=b&&i[l-u]===p[v-u];u++);return pl=p.slice(r,1<u?1-u:void 0)}function ml(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function gl(){return!0}function Qp(){return!1}function en(r){function i(l,u,p,v,b){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gl:Qp,this.isPropagationStopped=Qp,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=en(Si),zo=q({},Si,{view:0,detail:0}),bS=en(zo),$u,Fu,Vo,vl=q({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vo&&(Vo&&r.type==="mousemove"?($u=r.screenX-Vo.screenX,Fu=r.screenY-Vo.screenY):Fu=$u=0,Vo=r),$u)},movementY:function(r){return"movementY"in r?r.movementY:Fu}}),Zp=en(vl),SS=q({},vl,{dataTransfer:0}),ES=en(SS),kS=q({},zo,{relatedTarget:0}),Bu=en(kS),TS=q({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=en(TS),RS=q({},Si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),IS=en(RS),NS=q({},Si,{data:0}),em=en(NS),AS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=jS[r])?!!i[r]:!1}function zu(){return OS}var DS=q({},zo,{key:function(r){if(r.key){var i=AS[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ml(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?PS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(r){return r.type==="keypress"?ml(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ml(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),MS=en(DS),LS=q({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=en(LS),US=q({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),$S=en(US),FS=q({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),BS=en(FS),zS=q({},vl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=en(zS),HS=[9,13,27,32],Vu=h&&"CompositionEvent"in window,Ho=null;h&&"documentMode"in document&&(Ho=document.documentMode);var WS=h&&"TextEvent"in window&&!Ho,nm=h&&(!Vu||Ho&&8<Ho&&11>=Ho),rm=" ",sm=!1;function im(r,i){switch(r){case"keyup":return HS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ei=!1;function qS(r,i){switch(r){case"compositionend":return om(i);case"keypress":return i.which!==32?null:(sm=!0,rm);case"textInput":return r=i.data,r===rm&&sm?null:r;default:return null}}function KS(r,i){if(Ei)return r==="compositionend"||!Vu&&im(r,i)?(r=Xp(),pl=Lu=zr=null,Ei=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return nm&&i.locale!=="ko"?null:i.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!GS[r.type]:i==="textarea"}function lm(r,i,l,u){Re(u),i=bl(i,"onChange"),0<i.length&&(l=new Uu("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var Wo=null,qo=null;function JS(r){Tm(r,0)}function yl(r){var i=Ii(r);if(Pe(i))return r}function YS(r,i){if(r==="change")return i}var cm=!1;if(h){var Hu;if(h){var Wu="oninput"in document;if(!Wu){var um=document.createElement("div");um.setAttribute("oninput","return;"),Wu=typeof um.oninput=="function"}Hu=Wu}else Hu=!1;cm=Hu&&(!document.documentMode||9<document.documentMode)}function dm(){Wo&&(Wo.detachEvent("onpropertychange",hm),qo=Wo=null)}function hm(r){if(r.propertyName==="value"&&yl(qo)){var i=[];lm(i,qo,r,hn(r)),dt(JS,i)}}function XS(r,i,l){r==="focusin"?(dm(),Wo=i,qo=l,Wo.attachEvent("onpropertychange",hm)):r==="focusout"&&dm()}function QS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yl(qo)}function ZS(r,i){if(r==="click")return yl(i)}function eE(r,i){if(r==="input"||r==="change")return yl(i)}function tE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Tn=typeof Object.is=="function"?Object.is:tE;function Ko(r,i){if(Tn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!f.call(i,p)||!Tn(r[p],i[p]))return!1}return!0}function fm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pm(r,i){var l=fm(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fm(l)}}function mm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?mm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function gm(){for(var r=window,i=ut();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ut(r.document)}return i}function qu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function nE(r){var i=gm(),l=r.focusedElem,u=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&mm(l.ownerDocument.documentElement,l)){if(u!==null&&qu(l)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(u.start,p);u=u.end===void 0?v:Math.min(u.end,p),!r.extend&&v>u&&(p=u,u=v,v=p),p=pm(l,v);var b=pm(l,u);p&&b&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),v>u?(r.addRange(i),r.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rE=h&&"documentMode"in document&&11>=document.documentMode,ki=null,Ku=null,Go=null,Gu=!1;function vm(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gu||ki==null||ki!==ut(u)||(u=ki,"selectionStart"in u&&qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Go&&Ko(Go,u)||(Go=u,u=bl(Ku,"onSelect"),0<u.length&&(i=new Uu("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=ki)))}function wl(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Ti={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Ju={},ym={};h&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function _l(r){if(Ju[r])return Ju[r];if(!Ti[r])return r;var i=Ti[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in ym)return Ju[r]=i[l];return r}var wm=_l("animationend"),_m=_l("animationiteration"),xm=_l("animationstart"),bm=_l("transitionend"),Sm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(r,i){Sm.set(r,i),a(i,[r])}for(var Yu=0;Yu<Em.length;Yu++){var Xu=Em[Yu],sE=Xu.toLowerCase(),iE=Xu[0].toUpperCase()+Xu.slice(1);Vr(sE,"on"+iE)}Vr(wm,"onAnimationEnd"),Vr(_m,"onAnimationIteration"),Vr(xm,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(bm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function km(r,i,l){var u=r.type||"unknown-event";r.currentTarget=l,sS(u,i,void 0,r),r.currentTarget=null}function Tm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var b=u.length-1;0<=b;b--){var R=u[b],A=R.instance,L=R.currentTarget;if(R=R.listener,A!==v&&p.isPropagationStopped())break e;km(p,R,L),v=A}else for(b=0;b<u.length;b++){if(R=u[b],A=R.instance,L=R.currentTarget,R=R.listener,A!==v&&p.isPropagationStopped())break e;km(p,R,L),v=A}}}if(Oo)throw r=Ru,Oo=!1,Ru=null,r}function Ke(r,i){var l=i[id];l===void 0&&(l=i[id]=new Set);var u=r+"__bubble";l.has(u)||(Cm(i,r,2,!1),l.add(u))}function Qu(r,i,l){var u=0;i&&(u|=4),Cm(l,r,u,i)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Yo(r){if(!r[xl]){r[xl]=!0,s.forEach(function(l){l!=="selectionchange"&&(oE.has(l)||Qu(l,!1,r),Qu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[xl]||(i[xl]=!0,Qu("selectionchange",!1,i))}}function Cm(r,i,l,u){switch(Yp(i)){case 1:var p=_S;break;case 4:p=xS;break;default:p=Du}l=p.bind(null,i,l,r),p=void 0,!Mr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function Zu(r,i,l,u,p){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(b===4)for(b=u.return;b!==null;){var A=b.tag;if((A===3||A===4)&&(A=b.stateNode.containerInfo,A===p||A.nodeType===8&&A.parentNode===p))return;b=b.return}for(;R!==null;){if(b=js(R),b===null)return;if(A=b.tag,A===5||A===6){u=v=b;continue e}R=R.parentNode}}u=u.return}dt(function(){var L=v,G=hn(l),J=[];e:{var W=Sm.get(r);if(W!==void 0){var re=Uu,oe=r;switch(r){case"keypress":if(ml(l)===0)break e;case"keydown":case"keyup":re=MS;break;case"focusin":oe="focus",re=Bu;break;case"focusout":oe="blur",re=Bu;break;case"beforeblur":case"afterblur":re=Bu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ES;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=$S;break;case wm:case _m:case xm:re=CS;break;case bm:re=BS;break;case"scroll":re=bS;break;case"wheel":re=VS;break;case"copy":case"cut":case"paste":re=IS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=tm}var ue=(i&4)!==0,it=!ue&&r==="scroll",D=ue?W!==null?W+"Capture":null:W;ue=[];for(var P=L,M;P!==null;){M=P;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,D!==null&&(X=bt(P,D),X!=null&&ue.push(Xo(P,X,M)))),it)break;P=P.return}0<ue.length&&(W=new re(W,oe,null,l,G),J.push({event:W,listeners:ue}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",W&&l!==As&&(oe=l.relatedTarget||l.fromElement)&&(js(oe)||oe[lr]))break e;if((re||W)&&(W=G.window===G?G:(W=G.ownerDocument)?W.defaultView||W.parentWindow:window,re?(oe=l.relatedTarget||l.toElement,re=L,oe=oe?js(oe):null,oe!==null&&(it=Ps(oe),oe!==it||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(re=null,oe=L),re!==oe)){if(ue=Zp,X="onMouseLeave",D="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(ue=tm,X="onPointerLeave",D="onPointerEnter",P="pointer"),it=re==null?W:Ii(re),M=oe==null?W:Ii(oe),W=new ue(X,P+"leave",re,l,G),W.target=it,W.relatedTarget=M,X=null,js(G)===L&&(ue=new ue(D,P+"enter",oe,l,G),ue.target=M,ue.relatedTarget=it,X=ue),it=X,re&&oe)t:{for(ue=re,D=oe,P=0,M=ue;M;M=Ci(M))P++;for(M=0,X=D;X;X=Ci(X))M++;for(;0<P-M;)ue=Ci(ue),P--;for(;0<M-P;)D=Ci(D),M--;for(;P--;){if(ue===D||D!==null&&ue===D.alternate)break t;ue=Ci(ue),D=Ci(D)}ue=null}else ue=null;re!==null&&Rm(J,W,re,ue,!1),oe!==null&&it!==null&&Rm(J,it,oe,ue,!0)}}e:{if(W=L?Ii(L):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var he=YS;else if(am(W))if(cm)he=eE;else{he=QS;var be=XS}else(re=W.nodeName)&&re.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=ZS);if(he&&(he=he(r,L))){lm(J,he,l,G);break e}be&&be(r,W,L),r==="focusout"&&(be=W._wrapperState)&&be.controlled&&W.type==="number"&&xt(W,"number",W.value)}switch(be=L?Ii(L):window,r){case"focusin":(am(be)||be.contentEditable==="true")&&(ki=be,Ku=L,Go=null);break;case"focusout":Go=Ku=ki=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,vm(J,l,G);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":vm(J,l,G)}var Se;if(Vu)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ei?im(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(nm&&l.locale!=="ko"&&(Ei||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ei&&(Se=Xp()):(zr=G,Lu="value"in zr?zr.value:zr.textContent,Ei=!0)),be=bl(L,Ce),0<be.length&&(Ce=new em(Ce,r,null,l,G),J.push({event:Ce,listeners:be}),Se?Ce.data=Se:(Se=om(l),Se!==null&&(Ce.data=Se)))),(Se=WS?qS(r,l):KS(r,l))&&(L=bl(L,"onBeforeInput"),0<L.length&&(G=new em("onBeforeInput","beforeinput",null,l,G),J.push({event:G,listeners:L}),G.data=Se))}Tm(J,i)})}function Xo(r,i,l){return{instance:r,listener:i,currentTarget:l}}function bl(r,i){for(var l=i+"Capture",u=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=bt(r,l),v!=null&&u.unshift(Xo(r,v,p)),v=bt(r,i),v!=null&&u.push(Xo(r,v,p))),r=r.return}return u}function Ci(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rm(r,i,l,u,p){for(var v=i._reactName,b=[];l!==null&&l!==u;){var R=l,A=R.alternate,L=R.stateNode;if(A!==null&&A===u)break;R.tag===5&&L!==null&&(R=L,p?(A=bt(l,v),A!=null&&b.unshift(Xo(l,A,R))):p||(A=bt(l,v),A!=null&&b.push(Xo(l,A,R)))),l=l.return}b.length!==0&&r.push({event:i,listeners:b})}var aE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function Im(r){return(typeof r=="string"?r:""+r).replace(aE,`
`).replace(lE,"")}function Sl(r,i,l){if(i=Im(i),Im(r)!==i&&l)throw Error(n(425))}function El(){}var ed=null,td=null;function nd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(r){return Nm.resolve(null).then(r).catch(dE)}:rd;function dE(r){setTimeout(function(){throw r})}function sd(r,i){var l=i,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){r.removeChild(p),Bo(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);Bo(i)}function Hr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Am(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Ri,Qo="__reactProps$"+Ri,lr="__reactContainer$"+Ri,id="__reactEvents$"+Ri,hE="__reactListeners$"+Ri,fE="__reactHandles$"+Ri;function js(r){var i=r[Wn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[lr]||l[Wn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Am(r);r!==null;){if(l=r[Wn])return l;r=Am(r)}return i}r=l,l=r.parentNode}return null}function Zo(r){return r=r[Wn]||r[lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ii(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function kl(r){return r[Qo]||null}var od=[],Ni=-1;function Wr(r){return{current:r}}function Ge(r){0>Ni||(r.current=od[Ni],od[Ni]=null,Ni--)}function We(r,i){Ni++,od[Ni]=r.current,r.current=i}var qr={},jt=Wr(qr),Ht=Wr(!1),Os=qr;function Ai(r,i){var l=r.type.contextTypes;if(!l)return qr;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=i[v];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Wt(r){return r=r.childContextTypes,r!=null}function Tl(){Ge(Ht),Ge(jt)}function Pm(r,i,l){if(jt.current!==qr)throw Error(n(168));We(jt,i),We(Ht,l)}function jm(r,i,l){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var p in u)if(!(p in i))throw Error(n(108,H(r)||"Unknown",p));return q({},l,u)}function Cl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||qr,Os=jt.current,We(jt,r),We(Ht,Ht.current),!0}function Om(r,i,l){var u=r.stateNode;if(!u)throw Error(n(169));l?(r=jm(r,i,Os),u.__reactInternalMemoizedMergedChildContext=r,Ge(Ht),Ge(jt),We(jt,r)):Ge(Ht),We(Ht,l)}var cr=null,Rl=!1,ad=!1;function Dm(r){cr===null?cr=[r]:cr.push(r)}function pE(r){Rl=!0,Dm(r)}function Kr(){if(!ad&&cr!==null){ad=!0;var r=0,i=ze;try{var l=cr;for(ze=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}cr=null,Rl=!1}catch(p){throw cr!==null&&(cr=cr.slice(r+1)),Lp(Iu,Kr),p}finally{ze=i,ad=!1}}return null}var Pi=[],ji=0,Il=null,Nl=0,pn=[],mn=0,Ds=null,ur=1,dr="";function Ms(r,i){Pi[ji++]=Nl,Pi[ji++]=Il,Il=r,Nl=i}function Mm(r,i,l){pn[mn++]=ur,pn[mn++]=dr,pn[mn++]=Ds,Ds=r;var u=ur;r=dr;var p=32-kn(u)-1;u&=~(1<<p),l+=1;var v=32-kn(i)+p;if(30<v){var b=p-p%5;v=(u&(1<<b)-1).toString(32),u>>=b,p-=b,ur=1<<32-kn(i)+p|l<<p|u,dr=v+r}else ur=1<<v|l<<p|u,dr=r}function ld(r){r.return!==null&&(Ms(r,1),Mm(r,1,0))}function cd(r){for(;r===Il;)Il=Pi[--ji],Pi[ji]=null,Nl=Pi[--ji],Pi[ji]=null;for(;r===Ds;)Ds=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null,ur=pn[--mn],pn[mn]=null}var tn=null,nn=null,Ye=!1,Cn=null;function Lm(r,i){var l=wn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Um(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,tn=r,nn=Hr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,tn=r,nn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ds!==null?{id:ur,overflow:dr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=wn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,tn=r,nn=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function dd(r){if(Ye){var i=nn;if(i){var l=i;if(!Um(r,i)){if(ud(r))throw Error(n(418));i=Hr(l.nextSibling);var u=tn;i&&Um(r,i)?Lm(u,l):(r.flags=r.flags&-4097|2,Ye=!1,tn=r)}}else{if(ud(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ye=!1,tn=r}}}function $m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;tn=r}function Al(r){if(r!==tn)return!1;if(!Ye)return $m(r),Ye=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!nd(r.type,r.memoizedProps)),i&&(i=nn)){if(ud(r))throw Fm(),Error(n(418));for(;i;)Lm(r,i),i=Hr(i.nextSibling)}if($m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){nn=Hr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}nn=null}}else nn=tn?Hr(r.stateNode.nextSibling):null;return!0}function Fm(){for(var r=nn;r;)r=Hr(r.nextSibling)}function Oi(){nn=tn=null,Ye=!1}function hd(r){Cn===null?Cn=[r]:Cn.push(r)}var mE=j.ReactCurrentBatchConfig;function ea(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,r));var p=u,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var R=p.refs;b===null?delete R[v]:R[v]=b},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Pl(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Bm(r){var i=r._init;return i(r._payload)}function zm(r){function i(D,P){if(r){var M=D.deletions;M===null?(D.deletions=[P],D.flags|=16):M.push(P)}}function l(D,P){if(!r)return null;for(;P!==null;)i(D,P),P=P.sibling;return null}function u(D,P){for(D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function p(D,P){return D=ts(D,P),D.index=0,D.sibling=null,D}function v(D,P,M){return D.index=M,r?(M=D.alternate,M!==null?(M=M.index,M<P?(D.flags|=2,P):M):(D.flags|=2,P)):(D.flags|=1048576,P)}function b(D){return r&&D.alternate===null&&(D.flags|=2),D}function R(D,P,M,X){return P===null||P.tag!==6?(P=rh(M,D.mode,X),P.return=D,P):(P=p(P,M),P.return=D,P)}function A(D,P,M,X){var he=M.type;return he===B?G(D,P,M.props.children,X,M.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&Bm(he)===P.type)?(X=p(P,M.props),X.ref=ea(D,P,M),X.return=D,X):(X=nc(M.type,M.key,M.props,null,D.mode,X),X.ref=ea(D,P,M),X.return=D,X)}function L(D,P,M,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=sh(M,D.mode,X),P.return=D,P):(P=p(P,M.children||[]),P.return=D,P)}function G(D,P,M,X,he){return P===null||P.tag!==7?(P=Hs(M,D.mode,X,he),P.return=D,P):(P=p(P,M),P.return=D,P)}function J(D,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=rh(""+P,D.mode,M),P.return=D,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return M=nc(P.type,P.key,P.props,null,D.mode,M),M.ref=ea(D,null,P),M.return=D,M;case V:return P=sh(P,D.mode,M),P.return=D,P;case K:var X=P._init;return J(D,X(P._payload),M)}if(Rs(P)||F(P))return P=Hs(P,D.mode,M,null),P.return=D,P;Pl(D,P)}return null}function W(D,P,M,X){var he=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return he!==null?null:R(D,P,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $:return M.key===he?A(D,P,M,X):null;case V:return M.key===he?L(D,P,M,X):null;case K:return he=M._init,W(D,P,he(M._payload),X)}if(Rs(M)||F(M))return he!==null?null:G(D,P,M,X,null);Pl(D,M)}return null}function re(D,P,M,X,he){if(typeof X=="string"&&X!==""||typeof X=="number")return D=D.get(M)||null,R(P,D,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case $:return D=D.get(X.key===null?M:X.key)||null,A(P,D,X,he);case V:return D=D.get(X.key===null?M:X.key)||null,L(P,D,X,he);case K:var be=X._init;return re(D,P,M,be(X._payload),he)}if(Rs(X)||F(X))return D=D.get(M)||null,G(P,D,X,he,null);Pl(P,X)}return null}function oe(D,P,M,X){for(var he=null,be=null,Se=P,Ce=P=0,kt=null;Se!==null&&Ce<M.length;Ce++){Se.index>Ce?(kt=Se,Se=null):kt=Se.sibling;var Fe=W(D,Se,M[Ce],X);if(Fe===null){Se===null&&(Se=kt);break}r&&Se&&Fe.alternate===null&&i(D,Se),P=v(Fe,P,Ce),be===null?he=Fe:be.sibling=Fe,be=Fe,Se=kt}if(Ce===M.length)return l(D,Se),Ye&&Ms(D,Ce),he;if(Se===null){for(;Ce<M.length;Ce++)Se=J(D,M[Ce],X),Se!==null&&(P=v(Se,P,Ce),be===null?he=Se:be.sibling=Se,be=Se);return Ye&&Ms(D,Ce),he}for(Se=u(D,Se);Ce<M.length;Ce++)kt=re(Se,D,Ce,M[Ce],X),kt!==null&&(r&&kt.alternate!==null&&Se.delete(kt.key===null?Ce:kt.key),P=v(kt,P,Ce),be===null?he=kt:be.sibling=kt,be=kt);return r&&Se.forEach(function(ns){return i(D,ns)}),Ye&&Ms(D,Ce),he}function ue(D,P,M,X){var he=F(M);if(typeof he!="function")throw Error(n(150));if(M=he.call(M),M==null)throw Error(n(151));for(var be=he=null,Se=P,Ce=P=0,kt=null,Fe=M.next();Se!==null&&!Fe.done;Ce++,Fe=M.next()){Se.index>Ce?(kt=Se,Se=null):kt=Se.sibling;var ns=W(D,Se,Fe.value,X);if(ns===null){Se===null&&(Se=kt);break}r&&Se&&ns.alternate===null&&i(D,Se),P=v(ns,P,Ce),be===null?he=ns:be.sibling=ns,be=ns,Se=kt}if(Fe.done)return l(D,Se),Ye&&Ms(D,Ce),he;if(Se===null){for(;!Fe.done;Ce++,Fe=M.next())Fe=J(D,Fe.value,X),Fe!==null&&(P=v(Fe,P,Ce),be===null?he=Fe:be.sibling=Fe,be=Fe);return Ye&&Ms(D,Ce),he}for(Se=u(D,Se);!Fe.done;Ce++,Fe=M.next())Fe=re(Se,D,Ce,Fe.value,X),Fe!==null&&(r&&Fe.alternate!==null&&Se.delete(Fe.key===null?Ce:Fe.key),P=v(Fe,P,Ce),be===null?he=Fe:be.sibling=Fe,be=Fe);return r&&Se.forEach(function(GE){return i(D,GE)}),Ye&&Ms(D,Ce),he}function it(D,P,M,X){if(typeof M=="object"&&M!==null&&M.type===B&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case $:e:{for(var he=M.key,be=P;be!==null;){if(be.key===he){if(he=M.type,he===B){if(be.tag===7){l(D,be.sibling),P=p(be,M.props.children),P.return=D,D=P;break e}}else if(be.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&Bm(he)===be.type){l(D,be.sibling),P=p(be,M.props),P.ref=ea(D,be,M),P.return=D,D=P;break e}l(D,be);break}else i(D,be);be=be.sibling}M.type===B?(P=Hs(M.props.children,D.mode,X,M.key),P.return=D,D=P):(X=nc(M.type,M.key,M.props,null,D.mode,X),X.ref=ea(D,P,M),X.return=D,D=X)}return b(D);case V:e:{for(be=M.key;P!==null;){if(P.key===be)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){l(D,P.sibling),P=p(P,M.children||[]),P.return=D,D=P;break e}else{l(D,P);break}else i(D,P);P=P.sibling}P=sh(M,D.mode,X),P.return=D,D=P}return b(D);case K:return be=M._init,it(D,P,be(M._payload),X)}if(Rs(M))return oe(D,P,M,X);if(F(M))return ue(D,P,M,X);Pl(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(l(D,P.sibling),P=p(P,M),P.return=D,D=P):(l(D,P),P=rh(M,D.mode,X),P.return=D,D=P),b(D)):l(D,P)}return it}var Di=zm(!0),Vm=zm(!1),jl=Wr(null),Ol=null,Mi=null,fd=null;function pd(){fd=Mi=Ol=null}function md(r){var i=jl.current;Ge(jl),r._currentValue=i}function gd(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Li(r,i){Ol=r,fd=Mi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(qt=!0),r.firstContext=null)}function gn(r){var i=r._currentValue;if(fd!==r)if(r={context:r,memoizedValue:i,next:null},Mi===null){if(Ol===null)throw Error(n(308));Mi=r,Ol.dependencies={lanes:0,firstContext:r}}else Mi=Mi.next=r;return i}var Ls=null;function vd(r){Ls===null?Ls=[r]:Ls.push(r)}function Hm(r,i,l,u){var p=i.interleaved;return p===null?(l.next=l,vd(i)):(l.next=p.next,p.next=l),i.interleaved=l,hr(r,u)}function hr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Gr=!1;function yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,hr(r,l)}return p=u.interleaved,p===null?(i.next=i,vd(u)):(i.next=p.next,p.next=i),u.interleaved=i,hr(r,l)}function Dl(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Pu(r,l)}}function qm(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Ml(r,i,l,u){var p=r.updateQueue;Gr=!1;var v=p.firstBaseUpdate,b=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var A=R,L=A.next;A.next=null,b===null?v=L:b.next=L,b=A;var G=r.alternate;G!==null&&(G=G.updateQueue,R=G.lastBaseUpdate,R!==b&&(R===null?G.firstBaseUpdate=L:R.next=L,G.lastBaseUpdate=A))}if(v!==null){var J=p.baseState;b=0,G=L=A=null,R=v;do{var W=R.lane,re=R.eventTime;if((u&W)===W){G!==null&&(G=G.next={eventTime:re,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var oe=r,ue=R;switch(W=i,re=l,ue.tag){case 1:if(oe=ue.payload,typeof oe=="function"){J=oe.call(re,J,W);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ue.payload,W=typeof oe=="function"?oe.call(re,J,W):oe,W==null)break e;J=q({},J,W);break e;case 2:Gr=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,W=p.effects,W===null?p.effects=[R]:W.push(R))}else re={eventTime:re,lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},G===null?(L=G=re,A=J):G=G.next=re,b|=W;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;W=R,R=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);if(G===null&&(A=J),p.baseState=A,p.firstBaseUpdate=L,p.lastBaseUpdate=G,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);Fs|=b,r.lanes=b,r.memoizedState=J}}function Km(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],p=u.callback;if(p!==null){if(u.callback=null,u=l,typeof p!="function")throw Error(n(191,p));p.call(u)}}}var ta={},qn=Wr(ta),na=Wr(ta),ra=Wr(ta);function Us(r){if(r===ta)throw Error(n(174));return r}function wd(r,i){switch(We(ra,i),We(na,r),We(qn,ta),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:No(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=No(i,r)}Ge(qn),We(qn,i)}function Ui(){Ge(qn),Ge(na),Ge(ra)}function Gm(r){Us(ra.current);var i=Us(qn.current),l=No(i,r.type);i!==l&&(We(na,r),We(qn,l))}function _d(r){na.current===r&&(Ge(qn),Ge(na))}var Xe=Wr(0);function Ll(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xd=[];function bd(){for(var r=0;r<xd.length;r++)xd[r]._workInProgressVersionPrimary=null;xd.length=0}var Ul=j.ReactCurrentDispatcher,Sd=j.ReactCurrentBatchConfig,$s=0,Qe=null,mt=null,St=null,$l=!1,sa=!1,ia=0,gE=0;function Ot(){throw Error(n(321))}function Ed(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Tn(r[l],i[l]))return!1;return!0}function kd(r,i,l,u,p,v){if($s=v,Qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ul.current=r===null||r.memoizedState===null?_E:xE,r=l(u,p),sa){v=0;do{if(sa=!1,ia=0,25<=v)throw Error(n(301));v+=1,St=mt=null,i.updateQueue=null,Ul.current=bE,r=l(u,p)}while(sa)}if(Ul.current=zl,i=mt!==null&&mt.next!==null,$s=0,St=mt=Qe=null,$l=!1,i)throw Error(n(300));return r}function Td(){var r=ia!==0;return ia=0,r}function Kn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Qe.memoizedState=St=r:St=St.next=r,St}function vn(){if(mt===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=St===null?Qe.memoizedState:St.next;if(i!==null)St=i,mt=r;else{if(r===null)throw Error(n(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?Qe.memoizedState=St=r:St=St.next=r}return St}function oa(r,i){return typeof i=="function"?i(r):i}function Cd(r){var i=vn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=mt,p=u.baseQueue,v=l.pending;if(v!==null){if(p!==null){var b=p.next;p.next=v.next,v.next=b}u.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,u=u.baseState;var R=b=null,A=null,L=v;do{var G=L.lane;if(($s&G)===G)A!==null&&(A=A.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),u=L.hasEagerState?L.eagerState:r(u,L.action);else{var J={lane:G,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};A===null?(R=A=J,b=u):A=A.next=J,Qe.lanes|=G,Fs|=G}L=L.next}while(L!==null&&L!==v);A===null?b=u:A.next=R,Tn(u,i.memoizedState)||(qt=!0),i.memoizedState=u,i.baseState=b,i.baseQueue=A,l.lastRenderedState=u}if(r=l.interleaved,r!==null){p=r;do v=p.lane,Qe.lanes|=v,Fs|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Rd(r){var i=vn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do v=r(v,b.action),b=b.next;while(b!==p);Tn(v,i.memoizedState)||(qt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,u]}function Jm(){}function Ym(r,i){var l=Qe,u=vn(),p=i(),v=!Tn(u.memoizedState,p);if(v&&(u.memoizedState=p,qt=!0),u=u.queue,Id(Zm.bind(null,l,u,r),[r]),u.getSnapshot!==i||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,aa(9,Qm.bind(null,l,u,p,i),void 0,null),Et===null)throw Error(n(349));($s&30)!==0||Xm(l,i,p)}return p}function Xm(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Qe.updateQueue,i===null?(i={lastEffect:null,stores:null},Qe.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Qm(r,i,l,u){i.value=l,i.getSnapshot=u,eg(i)&&tg(r)}function Zm(r,i,l){return l(function(){eg(i)&&tg(r)})}function eg(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Tn(r,l)}catch{return!0}}function tg(r){var i=hr(r,1);i!==null&&An(i,r,1,-1)}function ng(r){var i=Kn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:r},i.queue=r,r=r.dispatch=wE.bind(null,Qe,r),[i.memoizedState,r]}function aa(r,i,l,u){return r={tag:r,create:i,destroy:l,deps:u,next:null},i=Qe.updateQueue,i===null?(i={lastEffect:null,stores:null},Qe.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r)),r}function rg(){return vn().memoizedState}function Fl(r,i,l,u){var p=Kn();Qe.flags|=r,p.memoizedState=aa(1|i,l,void 0,u===void 0?null:u)}function Bl(r,i,l,u){var p=vn();u=u===void 0?null:u;var v=void 0;if(mt!==null){var b=mt.memoizedState;if(v=b.destroy,u!==null&&Ed(u,b.deps)){p.memoizedState=aa(i,l,v,u);return}}Qe.flags|=r,p.memoizedState=aa(1|i,l,v,u)}function sg(r,i){return Fl(8390656,8,r,i)}function Id(r,i){return Bl(2048,8,r,i)}function ig(r,i){return Bl(4,2,r,i)}function og(r,i){return Bl(4,4,r,i)}function ag(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function lg(r,i,l){return l=l!=null?l.concat([r]):null,Bl(4,4,ag.bind(null,i,r),l)}function Nd(){}function cg(r,i){var l=vn();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&Ed(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function ug(r,i){var l=vn();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&Ed(i,u[1])?u[0]:(r=r(),l.memoizedState=[r,i],r)}function dg(r,i,l){return($s&21)===0?(r.baseState&&(r.baseState=!1,qt=!0),r.memoizedState=l):(Tn(l,i)||(l=Bp(),Qe.lanes|=l,Fs|=l,r.baseState=!0),i)}function vE(r,i){var l=ze;ze=l!==0&&4>l?l:4,r(!0);var u=Sd.transition;Sd.transition={};try{r(!1),i()}finally{ze=l,Sd.transition=u}}function hg(){return vn().memoizedState}function yE(r,i,l){var u=Zr(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},fg(r))pg(i,l);else if(l=Hm(r,i,l,u),l!==null){var p=$t();An(l,r,u,p),mg(l,i,u)}}function wE(r,i,l){var u=Zr(r),p={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(fg(r))pg(i,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,R=v(b,l);if(p.hasEagerState=!0,p.eagerState=R,Tn(R,b)){var A=i.interleaved;A===null?(p.next=p,vd(i)):(p.next=A.next,A.next=p),i.interleaved=p;return}}catch{}finally{}l=Hm(r,i,p,u),l!==null&&(p=$t(),An(l,r,u,p),mg(l,i,u))}}function fg(r){var i=r.alternate;return r===Qe||i!==null&&i===Qe}function pg(r,i){sa=$l=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function mg(r,i,l){if((l&4194240)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Pu(r,l)}}var zl={readContext:gn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},_E={readContext:gn,useCallback:function(r,i){return Kn().memoizedState=[r,i===void 0?null:i],r},useContext:gn,useEffect:sg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Fl(4194308,4,ag.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Fl(4194308,4,r,i)},useInsertionEffect:function(r,i){return Fl(4,2,r,i)},useMemo:function(r,i){var l=Kn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var u=Kn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=yE.bind(null,Qe,r),[u.memoizedState,r]},useRef:function(r){var i=Kn();return r={current:r},i.memoizedState=r},useState:ng,useDebugValue:Nd,useDeferredValue:function(r){return Kn().memoizedState=r},useTransition:function(){var r=ng(!1),i=r[0];return r=vE.bind(null,r[1]),Kn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var u=Qe,p=Kn();if(Ye){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Et===null)throw Error(n(349));($s&30)!==0||Xm(u,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,sg(Zm.bind(null,u,v,r),[r]),u.flags|=2048,aa(9,Qm.bind(null,u,v,l,i),void 0,null),l},useId:function(){var r=Kn(),i=Et.identifierPrefix;if(Ye){var l=dr,u=ur;l=(u&~(1<<32-kn(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=ia++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=gE++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},xE={readContext:gn,useCallback:cg,useContext:gn,useEffect:Id,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:ug,useReducer:Cd,useRef:rg,useState:function(){return Cd(oa)},useDebugValue:Nd,useDeferredValue:function(r){var i=vn();return dg(i,mt.memoizedState,r)},useTransition:function(){var r=Cd(oa)[0],i=vn().memoizedState;return[r,i]},useMutableSource:Jm,useSyncExternalStore:Ym,useId:hg,unstable_isNewReconciler:!1},bE={readContext:gn,useCallback:cg,useContext:gn,useEffect:Id,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:ug,useReducer:Rd,useRef:rg,useState:function(){return Rd(oa)},useDebugValue:Nd,useDeferredValue:function(r){var i=vn();return mt===null?i.memoizedState=r:dg(i,mt.memoizedState,r)},useTransition:function(){var r=Rd(oa)[0],i=vn().memoizedState;return[r,i]},useMutableSource:Jm,useSyncExternalStore:Ym,useId:hg,unstable_isNewReconciler:!1};function Rn(r,i){if(r&&r.defaultProps){i=q({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Ad(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:q({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Vl={isMounted:function(r){return(r=r._reactInternals)?Ps(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var u=$t(),p=Zr(r),v=fr(u,p);v.payload=i,l!=null&&(v.callback=l),i=Jr(r,v,p),i!==null&&(An(i,r,p,u),Dl(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=$t(),p=Zr(r),v=fr(u,p);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Jr(r,v,p),i!==null&&(An(i,r,p,u),Dl(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=$t(),u=Zr(r),p=fr(l,u);p.tag=2,i!=null&&(p.callback=i),i=Jr(r,p,u),i!==null&&(An(i,r,u,l),Dl(i,r,u))}};function gg(r,i,l,u,p,v,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,v,b):i.prototype&&i.prototype.isPureReactComponent?!Ko(l,u)||!Ko(p,v):!0}function vg(r,i,l){var u=!1,p=qr,v=i.contextType;return typeof v=="object"&&v!==null?v=gn(v):(p=Wt(i)?Os:jt.current,u=i.contextTypes,v=(u=u!=null)?Ai(r,p):qr),i=new i(l,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vl,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),i}function yg(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&Vl.enqueueReplaceState(i,i.state,null)}function Pd(r,i,l,u){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},yd(r);var v=i.contextType;typeof v=="object"&&v!==null?p.context=gn(v):(v=Wt(i)?Os:jt.current,p.context=Ai(r,v)),p.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Ad(r,i,v,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Vl.enqueueReplaceState(p,p.state,null),Ml(r,l,p,u),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function $i(r,i){try{var l="",u=i;do l+=_e(u),u=u.return;while(u);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:p,digest:null}}function jd(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Od(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var SE=typeof WeakMap=="function"?WeakMap:Map;function wg(r,i,l){l=fr(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){Yl||(Yl=!0,Jd=u),Od(r,i)},l}function _g(r,i,l){l=fr(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var p=i.value;l.payload=function(){return u(p)},l.callback=function(){Od(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Od(r,i),typeof u!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function xg(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new SE;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(p.add(l),r=LE.bind(null,r,i,l),i.then(r,r))}function bg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Sg(r,i,l,u,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=fr(-1,1),i.tag=2,Jr(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var EE=j.ReactCurrentOwner,qt=!1;function Ut(r,i,l,u){i.child=r===null?Vm(i,null,l,u):Di(i,r.child,l,u)}function Eg(r,i,l,u,p){l=l.render;var v=i.ref;return Li(i,p),u=kd(r,i,l,u,v,p),l=Td(),r!==null&&!qt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,pr(r,i,p)):(Ye&&l&&ld(i),i.flags|=1,Ut(r,i,u,p),i.child)}function kg(r,i,l,u,p){if(r===null){var v=l.type;return typeof v=="function"&&!nh(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Tg(r,i,v,u,p)):(r=nc(l.type,null,u,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&p)===0){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ko,l(b,u)&&r.ref===i.ref)return pr(r,i,p)}return i.flags|=1,r=ts(v,u),r.ref=i.ref,r.return=i,i.child=r}function Tg(r,i,l,u,p){if(r!==null){var v=r.memoizedProps;if(Ko(v,u)&&r.ref===i.ref)if(qt=!1,i.pendingProps=u=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(qt=!0);else return i.lanes=r.lanes,pr(r,i,p)}return Dd(r,i,l,u,p)}function Cg(r,i,l){var u=i.pendingProps,p=u.children,v=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Bi,rn),rn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,We(Bi,rn),rn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:l,We(Bi,rn),rn|=u}else v!==null?(u=v.baseLanes|l,i.memoizedState=null):u=l,We(Bi,rn),rn|=u;return Ut(r,i,p,l),i.child}function Rg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Dd(r,i,l,u,p){var v=Wt(l)?Os:jt.current;return v=Ai(i,v),Li(i,p),l=kd(r,i,l,u,v,p),u=Td(),r!==null&&!qt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,pr(r,i,p)):(Ye&&u&&ld(i),i.flags|=1,Ut(r,i,l,p),i.child)}function Ig(r,i,l,u,p){if(Wt(l)){var v=!0;Cl(i)}else v=!1;if(Li(i,p),i.stateNode===null)Wl(r,i),vg(i,l,u),Pd(i,l,u,p),u=!0;else if(r===null){var b=i.stateNode,R=i.memoizedProps;b.props=R;var A=b.context,L=l.contextType;typeof L=="object"&&L!==null?L=gn(L):(L=Wt(l)?Os:jt.current,L=Ai(i,L));var G=l.getDerivedStateFromProps,J=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function";J||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==u||A!==L)&&yg(i,b,u,L),Gr=!1;var W=i.memoizedState;b.state=W,Ml(i,u,b,p),A=i.memoizedState,R!==u||W!==A||Ht.current||Gr?(typeof G=="function"&&(Ad(i,l,G,u),A=i.memoizedState),(R=Gr||gg(i,l,R,u,W,A,L))?(J||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=A),b.props=u,b.state=A,b.context=L,u=R):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,Wm(r,i),R=i.memoizedProps,L=i.type===i.elementType?R:Rn(i.type,R),b.props=L,J=i.pendingProps,W=b.context,A=l.contextType,typeof A=="object"&&A!==null?A=gn(A):(A=Wt(l)?Os:jt.current,A=Ai(i,A));var re=l.getDerivedStateFromProps;(G=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==J||W!==A)&&yg(i,b,u,A),Gr=!1,W=i.memoizedState,b.state=W,Ml(i,u,b,p);var oe=i.memoizedState;R!==J||W!==oe||Ht.current||Gr?(typeof re=="function"&&(Ad(i,l,re,u),oe=i.memoizedState),(L=Gr||gg(i,l,L,u,W,oe,A)||!1)?(G||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,oe,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,oe,A)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=oe),b.props=u,b.state=oe,b.context=A,u=L):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),u=!1)}return Md(r,i,l,u,v,p)}function Md(r,i,l,u,p,v){Rg(r,i);var b=(i.flags&128)!==0;if(!u&&!b)return p&&Om(i,l,!1),pr(r,i,v);u=i.stateNode,EE.current=i;var R=b&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&b?(i.child=Di(i,r.child,null,v),i.child=Di(i,null,R,v)):Ut(r,i,R,v),i.memoizedState=u.state,p&&Om(i,l,!0),i.child}function Ng(r){var i=r.stateNode;i.pendingContext?Pm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Pm(r,i.context,!1),wd(r,i.containerInfo)}function Ag(r,i,l,u,p){return Oi(),hd(p),i.flags|=256,Ut(r,i,l,u),i.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function Ud(r){return{baseLanes:r,cachePool:null,transitions:null}}function Pg(r,i,l){var u=i.pendingProps,p=Xe.current,v=!1,b=(i.flags&128)!==0,R;if((R=b)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),We(Xe,p&1),r===null)return dd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=u.children,r=u.fallback,v?(u=i.mode,v=i.child,b={mode:"hidden",children:b},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=rc(b,u,0,null),r=Hs(r,u,l,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=Ud(l),i.memoizedState=Ld,r):$d(i,b));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return kE(r,i,b,u,R,p,l);if(v){v=u.fallback,b=i.mode,p=r.child,R=p.sibling;var A={mode:"hidden",children:u.children};return(b&1)===0&&i.child!==p?(u=i.child,u.childLanes=0,u.pendingProps=A,i.deletions=null):(u=ts(p,A),u.subtreeFlags=p.subtreeFlags&14680064),R!==null?v=ts(R,v):(v=Hs(v,b,l,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,u=v,v=i.child,b=r.child.memoizedState,b=b===null?Ud(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=r.childLanes&~l,i.memoizedState=Ld,u}return v=r.child,r=v.sibling,u=ts(v,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=l),u.return=i,u.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=u,i.memoizedState=null,u}function $d(r,i){return i=rc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Hl(r,i,l,u){return u!==null&&hd(u),Di(i,r.child,null,l),r=$d(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function kE(r,i,l,u,p,v,b){if(l)return i.flags&256?(i.flags&=-257,u=jd(Error(n(422))),Hl(r,i,b,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=u.fallback,p=i.mode,u=rc({mode:"visible",children:u.children},p,0,null),v=Hs(v,p,b,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,(i.mode&1)!==0&&Di(i,r.child,null,b),i.child.memoizedState=Ud(b),i.memoizedState=Ld,v);if((i.mode&1)===0)return Hl(r,i,b,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var R=u.dgst;return u=R,v=Error(n(419)),u=jd(v,u,void 0),Hl(r,i,b,u)}if(R=(b&r.childLanes)!==0,qt||R){if(u=Et,u!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|b))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,hr(r,p),An(u,r,p,-1))}return th(),u=jd(Error(n(421))),Hl(r,i,b,u)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=UE.bind(null,r),p._reactRetry=i,null):(r=v.treeContext,nn=Hr(p.nextSibling),tn=i,Ye=!0,Cn=null,r!==null&&(pn[mn++]=ur,pn[mn++]=dr,pn[mn++]=Ds,ur=r.id,dr=r.overflow,Ds=i),i=$d(i,u.children),i.flags|=4096,i)}function jg(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),gd(r.return,i,l)}function Fd(r,i,l,u,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=p)}function Og(r,i,l){var u=i.pendingProps,p=u.revealOrder,v=u.tail;if(Ut(r,i,u.children,l),u=Xe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jg(r,l,i);else if(r.tag===19)jg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(We(Xe,u),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&Ll(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Fd(i,!1,p,l,v);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Ll(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Fd(i,!0,l,null,v);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wl(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function pr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Fs|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=ts(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ts(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function TE(r,i,l){switch(i.tag){case 3:Ng(i),Oi();break;case 5:Gm(i);break;case 1:Wt(i.type)&&Cl(i);break;case 4:wd(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,p=i.memoizedProps.value;We(jl,u._currentValue),u._currentValue=p;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(We(Xe,Xe.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Pg(r,i,l):(We(Xe,Xe.current&1),r=pr(r,i,l),r!==null?r.sibling:null);We(Xe,Xe.current&1);break;case 19:if(u=(l&i.childLanes)!==0,(r.flags&128)!==0){if(u)return Og(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),We(Xe,Xe.current),u)break;return null;case 22:case 23:return i.lanes=0,Cg(r,i,l)}return pr(r,i,l)}var Dg,Bd,Mg,Lg;Dg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Bd=function(){},Mg=function(r,i,l,u){var p=r.memoizedProps;if(p!==u){r=i.stateNode,Us(qn.current);var v=null;switch(l){case"input":p=_t(r,p),u=_t(r,u),v=[];break;case"select":p=q({},p,{value:void 0}),u=q({},u,{value:void 0}),v=[];break;case"textarea":p=Tt(r,p),u=Tt(r,u),v=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=El)}xi(l,u);var b;l=null;for(L in p)if(!u.hasOwnProperty(L)&&p.hasOwnProperty(L)&&p[L]!=null)if(L==="style"){var R=p[L];for(b in R)R.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?v||(v=[]):(v=v||[]).push(L,null));for(L in u){var A=u[L];if(R=p!=null?p[L]:void 0,u.hasOwnProperty(L)&&A!==R&&(A!=null||R!=null))if(L==="style")if(R){for(b in R)!R.hasOwnProperty(b)||A&&A.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in A)A.hasOwnProperty(b)&&R[b]!==A[b]&&(l||(l={}),l[b]=A[b])}else l||(v||(v=[]),v.push(L,l)),l=A;else L==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,R=R?R.__html:void 0,A!=null&&R!==A&&(v=v||[]).push(L,A)):L==="children"?typeof A!="string"&&typeof A!="number"||(v=v||[]).push(L,""+A):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(A!=null&&L==="onScroll"&&Ke("scroll",r),v||R===A||(v=[])):(v=v||[]).push(L,A))}l&&(v=v||[]).push("style",l);var L=v;(i.updateQueue=L)&&(i.flags|=4)}},Lg=function(r,i,l,u){l!==u&&(i.flags|=4)};function la(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function CE(r,i,l){var u=i.pendingProps;switch(cd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Wt(i.type)&&Tl(),Dt(i),null;case 3:return u=i.stateNode,Ui(),Ge(Ht),Ge(jt),bd(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Al(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cn!==null&&(Qd(Cn),Cn=null))),Bd(r,i),Dt(i),null;case 5:_d(i);var p=Us(ra.current);if(l=i.type,r!==null&&i.stateNode!=null)Mg(r,i,l,u,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}if(r=Us(qn.current),Al(i)){u=i.stateNode,l=i.type;var v=i.memoizedProps;switch(u[Wn]=i,u[Qo]=v,r=(i.mode&1)!==0,l){case"dialog":Ke("cancel",u),Ke("close",u);break;case"iframe":case"object":case"embed":Ke("load",u);break;case"video":case"audio":for(p=0;p<Jo.length;p++)Ke(Jo[p],u);break;case"source":Ke("error",u);break;case"img":case"image":case"link":Ke("error",u),Ke("load",u);break;case"details":Ke("toggle",u);break;case"input":Vn(u,v),Ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},Ke("invalid",u);break;case"textarea":or(u,v),Ke("invalid",u)}xi(l,v),p=null;for(var b in v)if(v.hasOwnProperty(b)){var R=v[b];b==="children"?typeof R=="string"?u.textContent!==R&&(v.suppressHydrationWarning!==!0&&Sl(u.textContent,R,r),p=["children",R]):typeof R=="number"&&u.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Sl(u.textContent,R,r),p=["children",""+R]):o.hasOwnProperty(b)&&R!=null&&b==="onScroll"&&Ke("scroll",u)}switch(l){case"input":Ae(u),Cs(u,v,!0);break;case"textarea":Ae(u),tl(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=El)}u=p,i.updateQueue=u,u!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Is(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=b.createElement(l,{is:u.is}):(r=b.createElement(l),l==="select"&&(b=r,u.multiple?b.multiple=!0:u.size&&(b.size=u.size))):r=b.createElementNS(r,l),r[Wn]=i,r[Qo]=u,Dg(r,i,!1,!1),i.stateNode=r;e:{switch(b=Ao(l,u),l){case"dialog":Ke("cancel",r),Ke("close",r),p=u;break;case"iframe":case"object":case"embed":Ke("load",r),p=u;break;case"video":case"audio":for(p=0;p<Jo.length;p++)Ke(Jo[p],r);p=u;break;case"source":Ke("error",r),p=u;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),p=u;break;case"details":Ke("toggle",r),p=u;break;case"input":Vn(r,u),p=_t(r,u),Ke("invalid",r);break;case"option":p=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},p=q({},u,{value:void 0}),Ke("invalid",r);break;case"textarea":or(r,u),p=Tt(r,u),Ke("invalid",r);break;default:p=u}xi(l,p),R=p;for(v in R)if(R.hasOwnProperty(v)){var A=R[v];v==="style"?rl(r,A):v==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&_i(r,A)):v==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&dn(r,A):typeof A=="number"&&dn(r,""+A):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?A!=null&&v==="onScroll"&&Ke("scroll",r):A!=null&&I(r,v,A,b))}switch(l){case"input":Ae(r),Cs(r,u,!1);break;case"textarea":Ae(r),tl(r);break;case"option":u.value!=null&&r.setAttribute("value",""+se(u.value));break;case"select":r.multiple=!!u.multiple,v=u.value,v!=null?Ar(r,!!u.multiple,v,!1):u.defaultValue!=null&&Ar(r,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=El)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Dt(i),null;case 6:if(r&&i.stateNode!=null)Lg(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(l=Us(ra.current),Us(qn.current),Al(i)){if(u=i.stateNode,l=i.memoizedProps,u[Wn]=i,(v=u.nodeValue!==l)&&(r=tn,r!==null))switch(r.tag){case 3:Sl(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Sl(u.nodeValue,l,(r.mode&1)!==0)}v&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[Wn]=i,i.stateNode=u}return Dt(i),null;case 13:if(Ge(Xe),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&nn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Fm(),Oi(),i.flags|=98560,v=!1;else if(v=Al(i),u!==null&&u.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Wn]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),v=!1}else Cn!==null&&(Qd(Cn),Cn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Xe.current&1)!==0?gt===0&&(gt=3):th())),i.updateQueue!==null&&(i.flags|=4),Dt(i),null);case 4:return Ui(),Bd(r,i),r===null&&Yo(i.stateNode.containerInfo),Dt(i),null;case 10:return md(i.type._context),Dt(i),null;case 17:return Wt(i.type)&&Tl(),Dt(i),null;case 19:if(Ge(Xe),v=i.memoizedState,v===null)return Dt(i),null;if(u=(i.flags&128)!==0,b=v.rendering,b===null)if(u)la(v,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=Ll(r),b!==null){for(i.flags|=128,la(v,!1),u=b.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)v=l,r=u,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,r=b.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return We(Xe,Xe.current&1|2),i.child}r=r.sibling}v.tail!==null&&st()>zi&&(i.flags|=128,u=!0,la(v,!1),i.lanes=4194304)}else{if(!u)if(r=Ll(b),r!==null){if(i.flags|=128,u=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),la(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ye)return Dt(i),null}else 2*st()-v.renderingStartTime>zi&&l!==1073741824&&(i.flags|=128,u=!0,la(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(l=v.last,l!==null?l.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=st(),i.sibling=null,l=Xe.current,We(Xe,u?l&1|2:l&1),i):(Dt(i),null);case 22:case 23:return eh(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(rn&1073741824)!==0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function RE(r,i){switch(cd(i),i.tag){case 1:return Wt(i.type)&&Tl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ui(),Ge(Ht),Ge(jt),bd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return _d(i),null;case 13:if(Ge(Xe),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Oi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ge(Xe),null;case 4:return Ui(),null;case 10:return md(i.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var ql=!1,Mt=!1,IE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Fi(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){tt(r,i,u)}else l.current=null}function zd(r,i,l){try{l()}catch(u){tt(r,i,u)}}var Ug=!1;function NE(r,i){if(ed=hl,r=gm(),qu(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,R=-1,A=-1,L=0,G=0,J=r,W=null;t:for(;;){for(var re;J!==l||p!==0&&J.nodeType!==3||(R=b+p),J!==v||u!==0&&J.nodeType!==3||(A=b+u),J.nodeType===3&&(b+=J.nodeValue.length),(re=J.firstChild)!==null;)W=J,J=re;for(;;){if(J===r)break t;if(W===l&&++L===p&&(R=b),W===v&&++G===u&&(A=b),(re=J.nextSibling)!==null)break;J=W,W=J.parentNode}J=re}l=R===-1||A===-1?null:{start:R,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(td={focusedElem:r,selectionRange:l},hl=!1,ie=i;ie!==null;)if(i=ie,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ie=r;else for(;ie!==null;){i=ie;try{var oe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ue=oe.memoizedProps,it=oe.memoizedState,D=i.stateNode,P=D.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Rn(i.type,ue),it);D.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){tt(i,i.return,X)}if(r=i.sibling,r!==null){r.return=i.return,ie=r;break}ie=i.return}return oe=Ug,Ug=!1,oe}function ca(r,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&zd(i,l,v)}p=p.next}while(p!==u)}}function Kl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function Vd(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function $g(r){var i=r.alternate;i!==null&&(r.alternate=null,$g(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Wn],delete i[Qo],delete i[id],delete i[hE],delete i[fE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fg(r){return r.tag===5||r.tag===3||r.tag===4}function Bg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=El));else if(u!==4&&(r=r.child,r!==null))for(Hd(r,i,l),r=r.sibling;r!==null;)Hd(r,i,l),r=r.sibling}function Wd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Wd(r,i,l),r=r.sibling;r!==null;)Wd(r,i,l),r=r.sibling}var Rt=null,In=!1;function Yr(r,i,l){for(l=l.child;l!==null;)zg(r,i,l),l=l.sibling}function zg(r,i,l){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(ol,l)}catch{}switch(l.tag){case 5:Mt||Fi(l,i);case 6:var u=Rt,p=In;Rt=null,Yr(r,i,l),Rt=u,In=p,Rt!==null&&(In?(r=Rt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Rt.removeChild(l.stateNode));break;case 18:Rt!==null&&(In?(r=Rt,l=l.stateNode,r.nodeType===8?sd(r.parentNode,l):r.nodeType===1&&sd(r,l),Bo(r)):sd(Rt,l.stateNode));break;case 4:u=Rt,p=In,Rt=l.stateNode.containerInfo,In=!0,Yr(r,i,l),Rt=u,In=p;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var v=p,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&zd(l,i,b),p=p.next}while(p!==u)}Yr(r,i,l);break;case 1:if(!Mt&&(Fi(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(R){tt(l,i,R)}Yr(r,i,l);break;case 21:Yr(r,i,l);break;case 22:l.mode&1?(Mt=(u=Mt)||l.memoizedState!==null,Yr(r,i,l),Mt=u):Yr(r,i,l);break;default:Yr(r,i,l)}}function Vg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new IE),i.forEach(function(u){var p=$E.bind(null,r,u);l.has(u)||(l.add(u),u.then(p,p))})}}function Nn(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];try{var v=r,b=i,R=b;e:for(;R!==null;){switch(R.tag){case 5:Rt=R.stateNode,In=!1;break e;case 3:Rt=R.stateNode.containerInfo,In=!0;break e;case 4:Rt=R.stateNode.containerInfo,In=!0;break e}R=R.return}if(Rt===null)throw Error(n(160));zg(v,b,p),Rt=null,In=!1;var A=p.alternate;A!==null&&(A.return=null),p.return=null}catch(L){tt(p,i,L)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Hg(i,r),i=i.sibling}function Hg(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Nn(i,r),Gn(r),u&4){try{ca(3,r,r.return),Kl(3,r)}catch(ue){tt(r,r.return,ue)}try{ca(5,r,r.return)}catch(ue){tt(r,r.return,ue)}}break;case 1:Nn(i,r),Gn(r),u&512&&l!==null&&Fi(l,l.return);break;case 5:if(Nn(i,r),Gn(r),u&512&&l!==null&&Fi(l,l.return),r.flags&32){var p=r.stateNode;try{dn(p,"")}catch(ue){tt(r,r.return,ue)}}if(u&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,b=l!==null?l.memoizedProps:v,R=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&En(p,v),Ao(R,b);var L=Ao(R,v);for(b=0;b<A.length;b+=2){var G=A[b],J=A[b+1];G==="style"?rl(p,J):G==="dangerouslySetInnerHTML"?_i(p,J):G==="children"?dn(p,J):I(p,G,J,L)}switch(R){case"input":Lt(p,v);break;case"textarea":el(p,v);break;case"select":var W=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var re=v.value;re!=null?Ar(p,!!v.multiple,re,!1):W!==!!v.multiple&&(v.defaultValue!=null?Ar(p,!!v.multiple,v.defaultValue,!0):Ar(p,!!v.multiple,v.multiple?[]:"",!1))}p[Qo]=v}catch(ue){tt(r,r.return,ue)}}break;case 6:if(Nn(i,r),Gn(r),u&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(ue){tt(r,r.return,ue)}}break;case 3:if(Nn(i,r),Gn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(ue){tt(r,r.return,ue)}break;case 4:Nn(i,r),Gn(r);break;case 13:Nn(i,r),Gn(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Gd=st())),u&4&&Vg(r);break;case 22:if(G=l!==null&&l.memoizedState!==null,r.mode&1?(Mt=(L=Mt)||G,Nn(i,r),Mt=L):Nn(i,r),Gn(r),u&8192){if(L=r.memoizedState!==null,(r.stateNode.isHidden=L)&&!G&&(r.mode&1)!==0)for(ie=r,G=r.child;G!==null;){for(J=ie=G;ie!==null;){switch(W=ie,re=W.child,W.tag){case 0:case 11:case 14:case 15:ca(4,W,W.return);break;case 1:Fi(W,W.return);var oe=W.stateNode;if(typeof oe.componentWillUnmount=="function"){u=W,l=W.return;try{i=u,oe.props=i.memoizedProps,oe.state=i.memoizedState,oe.componentWillUnmount()}catch(ue){tt(u,l,ue)}}break;case 5:Fi(W,W.return);break;case 22:if(W.memoizedState!==null){Kg(J);continue}}re!==null?(re.return=W,ie=re):Kg(J)}G=G.sibling}e:for(G=null,J=r;;){if(J.tag===5){if(G===null){G=J;try{p=J.stateNode,L?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=J.stateNode,A=J.memoizedProps.style,b=A!=null&&A.hasOwnProperty("display")?A.display:null,R.style.display=nl("display",b))}catch(ue){tt(r,r.return,ue)}}}else if(J.tag===6){if(G===null)try{J.stateNode.nodeValue=L?"":J.memoizedProps}catch(ue){tt(r,r.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;G===J&&(G=null),J=J.return}G===J&&(G=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(i,r),Gn(r),u&4&&Vg(r);break;case 21:break;default:Nn(i,r),Gn(r)}}function Gn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Fg(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(dn(p,""),u.flags&=-33);var v=Bg(r);Wd(r,v,p);break;case 3:case 4:var b=u.stateNode.containerInfo,R=Bg(r);Hd(r,R,b);break;default:throw Error(n(161))}}catch(A){tt(r,r.return,A)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function AE(r,i,l){ie=r,Wg(r)}function Wg(r,i,l){for(var u=(r.mode&1)!==0;ie!==null;){var p=ie,v=p.child;if(p.tag===22&&u){var b=p.memoizedState!==null||ql;if(!b){var R=p.alternate,A=R!==null&&R.memoizedState!==null||Mt;R=ql;var L=Mt;if(ql=b,(Mt=A)&&!L)for(ie=p;ie!==null;)b=ie,A=b.child,b.tag===22&&b.memoizedState!==null?Gg(p):A!==null?(A.return=b,ie=A):Gg(p);for(;v!==null;)ie=v,Wg(v),v=v.sibling;ie=p,ql=R,Mt=L}qg(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,ie=v):qg(r)}}function qg(r){for(;ie!==null;){var i=ie;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||Kl(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!Mt)if(l===null)u.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Rn(i.type,l.memoizedProps);u.componentDidUpdate(p,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Km(i,v,u);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Km(i,b,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var A=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var L=i.alternate;if(L!==null){var G=L.memoizedState;if(G!==null){var J=G.dehydrated;J!==null&&Bo(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||i.flags&512&&Vd(i)}catch(W){tt(i,i.return,W)}}if(i===r){ie=null;break}if(l=i.sibling,l!==null){l.return=i.return,ie=l;break}ie=i.return}}function Kg(r){for(;ie!==null;){var i=ie;if(i===r){ie=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ie=l;break}ie=i.return}}function Gg(r){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Kl(4,i)}catch(A){tt(i,l,A)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var p=i.return;try{u.componentDidMount()}catch(A){tt(i,p,A)}}var v=i.return;try{Vd(i)}catch(A){tt(i,v,A)}break;case 5:var b=i.return;try{Vd(i)}catch(A){tt(i,b,A)}}}catch(A){tt(i,i.return,A)}if(i===r){ie=null;break}var R=i.sibling;if(R!==null){R.return=i.return,ie=R;break}ie=i.return}}var PE=Math.ceil,Gl=j.ReactCurrentDispatcher,qd=j.ReactCurrentOwner,yn=j.ReactCurrentBatchConfig,$e=0,Et=null,ht=null,It=0,rn=0,Bi=Wr(0),gt=0,ua=null,Fs=0,Jl=0,Kd=0,da=null,Kt=null,Gd=0,zi=1/0,mr=null,Yl=!1,Jd=null,Xr=null,Xl=!1,Qr=null,Ql=0,ha=0,Yd=null,Zl=-1,ec=0;function $t(){return($e&6)!==0?st():Zl!==-1?Zl:Zl=st()}function Zr(r){return(r.mode&1)===0?1:($e&2)!==0&&It!==0?It&-It:mE.transition!==null?(ec===0&&(ec=Bp()),ec):(r=ze,r!==0||(r=window.event,r=r===void 0?16:Yp(r.type)),r)}function An(r,i,l,u){if(50<ha)throw ha=0,Yd=null,Error(n(185));Mo(r,l,u),(($e&2)===0||r!==Et)&&(r===Et&&(($e&2)===0&&(Jl|=l),gt===4&&es(r,It)),Gt(r,u),l===1&&$e===0&&(i.mode&1)===0&&(zi=st()+500,Rl&&Kr()))}function Gt(r,i){var l=r.callbackNode;mS(r,i);var u=cl(r,r===Et?It:0);if(u===0)l!==null&&Up(l),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(l!=null&&Up(l),i===1)r.tag===0?pE(Yg.bind(null,r)):Dm(Yg.bind(null,r)),uE(function(){($e&6)===0&&Kr()}),l=null;else{switch(zp(u)){case 1:l=Iu;break;case 4:l=$p;break;case 16:l=il;break;case 536870912:l=Fp;break;default:l=il}l=sv(l,Jg.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function Jg(r,i){if(Zl=-1,ec=0,($e&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Vi()&&r.callbackNode!==l)return null;var u=cl(r,r===Et?It:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||i)i=tc(r,u);else{i=u;var p=$e;$e|=2;var v=Qg();(Et!==r||It!==i)&&(mr=null,zi=st()+500,zs(r,i));do try{DE();break}catch(R){Xg(r,R)}while(!0);pd(),Gl.current=v,$e=p,ht!==null?i=0:(Et=null,It=0,i=gt)}if(i!==0){if(i===2&&(p=Nu(r),p!==0&&(u=p,i=Xd(r,p))),i===1)throw l=ua,zs(r,0),es(r,u),Gt(r,st()),l;if(i===6)es(r,u);else{if(p=r.current.alternate,(u&30)===0&&!jE(p)&&(i=tc(r,u),i===2&&(v=Nu(r),v!==0&&(u=v,i=Xd(r,v))),i===1))throw l=ua,zs(r,0),es(r,u),Gt(r,st()),l;switch(r.finishedWork=p,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:Vs(r,Kt,mr);break;case 3:if(es(r,u),(u&130023424)===u&&(i=Gd+500-st(),10<i)){if(cl(r,0)!==0)break;if(p=r.suspendedLanes,(p&u)!==u){$t(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=rd(Vs.bind(null,r,Kt,mr),i);break}Vs(r,Kt,mr);break;case 4:if(es(r,u),(u&4194240)===u)break;for(i=r.eventTimes,p=-1;0<u;){var b=31-kn(u);v=1<<b,b=i[b],b>p&&(p=b),u&=~v}if(u=p,u=st()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*PE(u/1960))-u,10<u){r.timeoutHandle=rd(Vs.bind(null,r,Kt,mr),u);break}Vs(r,Kt,mr);break;case 5:Vs(r,Kt,mr);break;default:throw Error(n(329))}}}return Gt(r,st()),r.callbackNode===l?Jg.bind(null,r):null}function Xd(r,i){var l=da;return r.current.memoizedState.isDehydrated&&(zs(r,i).flags|=256),r=tc(r,i),r!==2&&(i=Kt,Kt=l,i!==null&&Qd(i)),r}function Qd(r){Kt===null?Kt=r:Kt.push.apply(Kt,r)}function jE(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var p=l[u],v=p.getSnapshot;p=p.value;try{if(!Tn(v(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(r,i){for(i&=~Kd,i&=~Jl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-kn(i),u=1<<l;r[l]=-1,i&=~u}}function Yg(r){if(($e&6)!==0)throw Error(n(327));Vi();var i=cl(r,0);if((i&1)===0)return Gt(r,st()),null;var l=tc(r,i);if(r.tag!==0&&l===2){var u=Nu(r);u!==0&&(i=u,l=Xd(r,u))}if(l===1)throw l=ua,zs(r,0),es(r,i),Gt(r,st()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Vs(r,Kt,mr),Gt(r,st()),null}function Zd(r,i){var l=$e;$e|=1;try{return r(i)}finally{$e=l,$e===0&&(zi=st()+500,Rl&&Kr())}}function Bs(r){Qr!==null&&Qr.tag===0&&($e&6)===0&&Vi();var i=$e;$e|=1;var l=yn.transition,u=ze;try{if(yn.transition=null,ze=1,r)return r()}finally{ze=u,yn.transition=l,$e=i,($e&6)===0&&Kr()}}function eh(){rn=Bi.current,Ge(Bi)}function zs(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,cE(l)),ht!==null)for(l=ht.return;l!==null;){var u=l;switch(cd(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Tl();break;case 3:Ui(),Ge(Ht),Ge(jt),bd();break;case 5:_d(u);break;case 4:Ui();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:md(u.type._context);break;case 22:case 23:eh()}l=l.return}if(Et=r,ht=r=ts(r.current,null),It=rn=i,gt=0,ua=null,Kd=Jl=Fs=0,Kt=da=null,Ls!==null){for(i=0;i<Ls.length;i++)if(l=Ls[i],u=l.interleaved,u!==null){l.interleaved=null;var p=u.next,v=l.pending;if(v!==null){var b=v.next;v.next=p,u.next=b}l.pending=u}Ls=null}return r}function Xg(r,i){do{var l=ht;try{if(pd(),Ul.current=zl,$l){for(var u=Qe.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}$l=!1}if($s=0,St=mt=Qe=null,sa=!1,ia=0,qd.current=null,l===null||l.return===null){gt=1,ua=i,ht=null;break}e:{var v=r,b=l.return,R=l,A=i;if(i=It,R.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var L=A,G=R,J=G.tag;if((G.mode&1)===0&&(J===0||J===11||J===15)){var W=G.alternate;W?(G.updateQueue=W.updateQueue,G.memoizedState=W.memoizedState,G.lanes=W.lanes):(G.updateQueue=null,G.memoizedState=null)}var re=bg(b);if(re!==null){re.flags&=-257,Sg(re,b,R,v,i),re.mode&1&&xg(v,L,i),i=re,A=L;var oe=i.updateQueue;if(oe===null){var ue=new Set;ue.add(A),i.updateQueue=ue}else oe.add(A);break e}else{if((i&1)===0){xg(v,L,i),th();break e}A=Error(n(426))}}else if(Ye&&R.mode&1){var it=bg(b);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Sg(it,b,R,v,i),hd($i(A,R));break e}}v=A=$i(A,R),gt!==4&&(gt=2),da===null?da=[v]:da.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var D=wg(v,A,i);qm(v,D);break e;case 1:R=A;var P=v.type,M=v.stateNode;if((v.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Xr===null||!Xr.has(M)))){v.flags|=65536,i&=-i,v.lanes|=i;var X=_g(v,R,i);qm(v,X);break e}}v=v.return}while(v!==null)}ev(l)}catch(he){i=he,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function Qg(){var r=Gl.current;return Gl.current=zl,r===null?zl:r}function th(){(gt===0||gt===3||gt===2)&&(gt=4),Et===null||(Fs&268435455)===0&&(Jl&268435455)===0||es(Et,It)}function tc(r,i){var l=$e;$e|=2;var u=Qg();(Et!==r||It!==i)&&(mr=null,zs(r,i));do try{OE();break}catch(p){Xg(r,p)}while(!0);if(pd(),$e=l,Gl.current=u,ht!==null)throw Error(n(261));return Et=null,It=0,gt}function OE(){for(;ht!==null;)Zg(ht)}function DE(){for(;ht!==null&&!oS();)Zg(ht)}function Zg(r){var i=rv(r.alternate,r,rn);r.memoizedProps=r.pendingProps,i===null?ev(r):ht=i,qd.current=null}function ev(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=CE(l,i,rn),l!==null){ht=l;return}}else{if(l=RE(l,i),l!==null){l.flags&=32767,ht=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=r}while(i!==null);gt===0&&(gt=5)}function Vs(r,i,l){var u=ze,p=yn.transition;try{yn.transition=null,ze=1,ME(r,i,l,u)}finally{yn.transition=p,ze=u}return null}function ME(r,i,l,u){do Vi();while(Qr!==null);if(($e&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(gS(r,v),r===Et&&(ht=Et=null,It=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xl||(Xl=!0,sv(il,function(){return Vi(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=yn.transition,yn.transition=null;var b=ze;ze=1;var R=$e;$e|=4,qd.current=null,NE(r,l),Hg(l,r),nE(td),hl=!!ed,td=ed=null,r.current=l,AE(l),aS(),$e=R,ze=b,yn.transition=v}else r.current=l;if(Xl&&(Xl=!1,Qr=r,Ql=p),v=r.pendingLanes,v===0&&(Xr=null),uS(l.stateNode),Gt(r,st()),i!==null)for(u=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],u(p.value,{componentStack:p.stack,digest:p.digest});if(Yl)throw Yl=!1,r=Jd,Jd=null,r;return(Ql&1)!==0&&r.tag!==0&&Vi(),v=r.pendingLanes,(v&1)!==0?r===Yd?ha++:(ha=0,Yd=r):ha=0,Kr(),null}function Vi(){if(Qr!==null){var r=zp(Ql),i=yn.transition,l=ze;try{if(yn.transition=null,ze=16>r?16:r,Qr===null)var u=!1;else{if(r=Qr,Qr=null,Ql=0,($e&6)!==0)throw Error(n(331));var p=$e;for($e|=4,ie=r.current;ie!==null;){var v=ie,b=v.child;if((ie.flags&16)!==0){var R=v.deletions;if(R!==null){for(var A=0;A<R.length;A++){var L=R[A];for(ie=L;ie!==null;){var G=ie;switch(G.tag){case 0:case 11:case 15:ca(8,G,v)}var J=G.child;if(J!==null)J.return=G,ie=J;else for(;ie!==null;){G=ie;var W=G.sibling,re=G.return;if($g(G),G===L){ie=null;break}if(W!==null){W.return=re,ie=W;break}ie=re}}}var oe=v.alternate;if(oe!==null){var ue=oe.child;if(ue!==null){oe.child=null;do{var it=ue.sibling;ue.sibling=null,ue=it}while(ue!==null)}}ie=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,ie=b;else e:for(;ie!==null;){if(v=ie,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ca(9,v,v.return)}var D=v.sibling;if(D!==null){D.return=v.return,ie=D;break e}ie=v.return}}var P=r.current;for(ie=P;ie!==null;){b=ie;var M=b.child;if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,ie=M;else e:for(b=P;ie!==null;){if(R=ie,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Kl(9,R)}}catch(he){tt(R,R.return,he)}if(R===b){ie=null;break e}var X=R.sibling;if(X!==null){X.return=R.return,ie=X;break e}ie=R.return}}if($e=p,Kr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(ol,r)}catch{}u=!0}return u}finally{ze=l,yn.transition=i}}return!1}function tv(r,i,l){i=$i(l,i),i=wg(r,i,1),r=Jr(r,i,1),i=$t(),r!==null&&(Mo(r,1,i),Gt(r,i))}function tt(r,i,l){if(r.tag===3)tv(r,r,l);else for(;i!==null;){if(i.tag===3){tv(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xr===null||!Xr.has(u))){r=$i(l,r),r=_g(i,r,1),i=Jr(i,r,1),r=$t(),i!==null&&(Mo(i,1,r),Gt(i,r));break}}i=i.return}}function LE(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),i=$t(),r.pingedLanes|=r.suspendedLanes&l,Et===r&&(It&l)===l&&(gt===4||gt===3&&(It&130023424)===It&&500>st()-Gd?zs(r,0):Kd|=l),Gt(r,i)}function nv(r,i){i===0&&((r.mode&1)===0?i=1:(i=ll,ll<<=1,(ll&130023424)===0&&(ll=4194304)));var l=$t();r=hr(r,i),r!==null&&(Mo(r,i,l),Gt(r,l))}function UE(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),nv(r,l)}function $E(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),nv(r,l)}var rv;rv=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Ht.current)qt=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return qt=!1,TE(r,i,l);qt=(r.flags&131072)!==0}else qt=!1,Ye&&(i.flags&1048576)!==0&&Mm(i,Nl,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Wl(r,i),r=i.pendingProps;var p=Ai(i,jt.current);Li(i,l),p=kd(null,i,u,r,p,l);var v=Td();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wt(u)?(v=!0,Cl(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,yd(i),p.updater=Vl,i.stateNode=p,p._reactInternals=i,Pd(i,u,r,l),i=Md(null,i,u,!0,v,l)):(i.tag=0,Ye&&v&&ld(i),Ut(null,i,p,l),i=i.child),i;case 16:u=i.elementType;e:{switch(Wl(r,i),r=i.pendingProps,p=u._init,u=p(u._payload),i.type=u,p=i.tag=BE(u),r=Rn(u,r),p){case 0:i=Dd(null,i,u,r,l);break e;case 1:i=Ig(null,i,u,r,l);break e;case 11:i=Eg(null,i,u,r,l);break e;case 14:i=kg(null,i,u,Rn(u.type,r),l);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Rn(u,p),Dd(r,i,u,p,l);case 1:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Rn(u,p),Ig(r,i,u,p,l);case 3:e:{if(Ng(i),r===null)throw Error(n(387));u=i.pendingProps,v=i.memoizedState,p=v.element,Wm(r,i),Ml(i,u,null,l);var b=i.memoizedState;if(u=b.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=$i(Error(n(423)),i),i=Ag(r,i,u,l,p);break e}else if(u!==p){p=$i(Error(n(424)),i),i=Ag(r,i,u,l,p);break e}else for(nn=Hr(i.stateNode.containerInfo.firstChild),tn=i,Ye=!0,Cn=null,l=Vm(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oi(),u===p){i=pr(r,i,l);break e}Ut(r,i,u,l)}i=i.child}return i;case 5:return Gm(i),r===null&&dd(i),u=i.type,p=i.pendingProps,v=r!==null?r.memoizedProps:null,b=p.children,nd(u,p)?b=null:v!==null&&nd(u,v)&&(i.flags|=32),Rg(r,i),Ut(r,i,b,l),i.child;case 6:return r===null&&dd(i),null;case 13:return Pg(r,i,l);case 4:return wd(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Di(i,null,u,l):Ut(r,i,u,l),i.child;case 11:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Rn(u,p),Eg(r,i,u,p,l);case 7:return Ut(r,i,i.pendingProps,l),i.child;case 8:return Ut(r,i,i.pendingProps.children,l),i.child;case 12:return Ut(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,p=i.pendingProps,v=i.memoizedProps,b=p.value,We(jl,u._currentValue),u._currentValue=b,v!==null)if(Tn(v.value,b)){if(v.children===p.children&&!Ht.current){i=pr(r,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var R=v.dependencies;if(R!==null){b=v.child;for(var A=R.firstContext;A!==null;){if(A.context===u){if(v.tag===1){A=fr(-1,l&-l),A.tag=2;var L=v.updateQueue;if(L!==null){L=L.shared;var G=L.pending;G===null?A.next=A:(A.next=G.next,G.next=A),L.pending=A}}v.lanes|=l,A=v.alternate,A!==null&&(A.lanes|=l),gd(v.return,l,i),R.lanes|=l;break}A=A.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(n(341));b.lanes|=l,R=b.alternate,R!==null&&(R.lanes|=l),gd(b,l,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Ut(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,u=i.pendingProps.children,Li(i,l),p=gn(p),u=u(p),i.flags|=1,Ut(r,i,u,l),i.child;case 14:return u=i.type,p=Rn(u,i.pendingProps),p=Rn(u.type,p),kg(r,i,u,p,l);case 15:return Tg(r,i,i.type,i.pendingProps,l);case 17:return u=i.type,p=i.pendingProps,p=i.elementType===u?p:Rn(u,p),Wl(r,i),i.tag=1,Wt(u)?(r=!0,Cl(i)):r=!1,Li(i,l),vg(i,u,p),Pd(i,u,p,l),Md(null,i,u,!0,r,l);case 19:return Og(r,i,l);case 22:return Cg(r,i,l)}throw Error(n(156,i.tag))};function sv(r,i){return Lp(r,i)}function FE(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,i,l,u){return new FE(r,i,l,u)}function nh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BE(r){if(typeof r=="function")return nh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ge)return 11;if(r===we)return 14}return 2}function ts(r,i){var l=r.alternate;return l===null?(l=wn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function nc(r,i,l,u,p,v){var b=2;if(u=r,typeof r=="function")nh(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case B:return Hs(l.children,p,v,i);case z:b=8,p|=8;break;case te:return r=wn(12,l,i,p|2),r.elementType=te,r.lanes=v,r;case ve:return r=wn(13,l,i,p),r.elementType=ve,r.lanes=v,r;case ye:return r=wn(19,l,i,p),r.elementType=ye,r.lanes=v,r;case ee:return rc(l,p,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case fe:b=10;break e;case me:b=9;break e;case ge:b=11;break e;case we:b=14;break e;case K:b=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=wn(b,l,i,p),i.elementType=r,i.type=u,i.lanes=v,i}function Hs(r,i,l,u){return r=wn(7,r,u,i),r.lanes=l,r}function rc(r,i,l,u){return r=wn(22,r,u,i),r.elementType=ee,r.lanes=l,r.stateNode={isHidden:!1},r}function rh(r,i,l){return r=wn(6,r,null,i),r.lanes=l,r}function sh(r,i,l){return i=wn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function zE(r,i,l,u,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ih(r,i,l,u,p,v,b,R,A){return r=new zE(r,i,l,R,A),i===1?(i=1,v===!0&&(i|=8)):i=0,v=wn(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(v),r}function VE(r,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:u==null?null:""+u,children:r,containerInfo:i,implementation:l}}function iv(r){if(!r)return qr;r=r._reactInternals;e:{if(Ps(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Wt(l))return jm(r,l,i)}return i}function ov(r,i,l,u,p,v,b,R,A){return r=ih(l,u,!0,r,p,v,b,R,A),r.context=iv(null),l=r.current,u=$t(),p=Zr(l),v=fr(u,p),v.callback=i??null,Jr(l,v,p),r.current.lanes=p,Mo(r,p,u),Gt(r,u),r}function sc(r,i,l,u){var p=i.current,v=$t(),b=Zr(p);return l=iv(l),i.context===null?i.context=l:i.pendingContext=l,i=fr(v,b),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=Jr(p,i,b),r!==null&&(An(r,p,b,v),Dl(r,p,b)),b}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function av(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function oh(r,i){av(r,i),(r=r.alternate)&&av(r,i)}function HE(){return null}var lv=typeof reportError=="function"?reportError:function(r){console.error(r)};function ah(r){this._internalRoot=r}oc.prototype.render=ah.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));sc(r,i,null,null)},oc.prototype.unmount=ah.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Bs(function(){sc(null,r,null,null)}),i[lr]=null}};function oc(r){this._internalRoot=r}oc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Wp();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Br.length&&i!==0&&i<Br[l].priority;l++);Br.splice(l,0,r),l===0&&Gp(r)}};function lh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function cv(){}function WE(r,i,l,u,p){if(p){if(typeof u=="function"){var v=u;u=function(){var L=ic(b);v.call(L)}}var b=ov(i,u,r,0,null,!1,!1,"",cv);return r._reactRootContainer=b,r[lr]=b.current,Yo(r.nodeType===8?r.parentNode:r),Bs(),b}for(;p=r.lastChild;)r.removeChild(p);if(typeof u=="function"){var R=u;u=function(){var L=ic(A);R.call(L)}}var A=ih(r,0,!1,null,null,!1,!1,"",cv);return r._reactRootContainer=A,r[lr]=A.current,Yo(r.nodeType===8?r.parentNode:r),Bs(function(){sc(i,A,l,u)}),A}function lc(r,i,l,u,p){var v=l._reactRootContainer;if(v){var b=v;if(typeof p=="function"){var R=p;p=function(){var A=ic(b);R.call(A)}}sc(i,b,r,p)}else b=WE(l,i,r,p,u);return ic(b)}Vp=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Do(i.pendingLanes);l!==0&&(Pu(i,l|1),Gt(i,st()),($e&6)===0&&(zi=st()+500,Kr()))}break;case 13:Bs(function(){var u=hr(r,1);if(u!==null){var p=$t();An(u,r,1,p)}}),oh(r,1)}},ju=function(r){if(r.tag===13){var i=hr(r,134217728);if(i!==null){var l=$t();An(i,r,134217728,l)}oh(r,134217728)}},Hp=function(r){if(r.tag===13){var i=Zr(r),l=hr(r,i);if(l!==null){var u=$t();An(l,r,i,u)}oh(r,i)}},Wp=function(){return ze},qp=function(r,i){var l=ze;try{return ze=r,i()}finally{ze=l}},Po=function(r,i,l){switch(i){case"input":if(Lt(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var p=kl(u);if(!p)throw Error(n(90));Pe(u),Lt(u,p)}}}break;case"textarea":el(r,l);break;case"select":i=l.value,i!=null&&Ar(r,!!l.multiple,i,!1)}},pt=Zd,Pt=Bs;var qE={usingClientEntryPoint:!1,Events:[Zo,Ii,kl,Re,rt,Zd]},fa={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KE={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Dp(r),r===null?null:r.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||HE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ol=cc.inject(KE),Hn=cc}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qE,Jt.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(i))throw Error(n(200));return VE(r,i,null,l)},Jt.createRoot=function(r,i){if(!lh(r))throw Error(n(299));var l=!1,u="",p=lv;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=ih(r,1,!1,null,null,l,!1,u,p),r[lr]=i.current,Yo(r.nodeType===8?r.parentNode:r),new ah(i)},Jt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Dp(i),r=r===null?null:r.stateNode,r},Jt.flushSync=function(r){return Bs(r)},Jt.hydrate=function(r,i,l){if(!ac(i))throw Error(n(200));return lc(null,r,i,!0,l)},Jt.hydrateRoot=function(r,i,l){if(!lh(r))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,p=!1,v="",b=lv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=ov(i,null,r,1,l??null,p,!1,v,b),r[lr]=i.current,Yo(r),u)for(r=0;r<u.length;r++)l=u[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new oc(i)},Jt.render=function(r,i,l){if(!ac(i))throw Error(n(200));return lc(null,r,i,!1,l)},Jt.unmountComponentAtNode=function(r){if(!ac(r))throw Error(n(40));return r._reactRootContainer?(Bs(function(){lc(null,null,r,!1,function(){r._reactRootContainer=null,r[lr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Zd,Jt.unstable_renderSubtreeIntoContainer=function(r,i,l,u){if(!ac(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return lc(r,i,l,!1,u)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var vv;function mw(){if(vv)return dh.exports;vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dh.exports=tk(),dh.exports}var yv;function nk(){if(yv)return uc;yv=1;var t=mw();return uc.createRoot=t.createRoot,uc.hydrateRoot=t.hydrateRoot,uc}var rk=nk(),S=Df();const Q=pw(S),sk=JE({__proto__:null,default:Q},[S]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),wv=t=>{const e=ok(t);return e.charAt(0).toUpperCase()+e.slice(1)},gw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ak={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...h},f)=>S.createElement("svg",{ref:f,...ak,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:gw("lucide",o),...h},[...c.map(([m,y])=>S.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=S.forwardRef(({className:s,...o},a)=>S.createElement(lk,{ref:a,iconNode:e,className:gw(`lucide-${ik(wv(t))}`,`lucide-${t}`,s),...o}));return n.displayName=wv(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],uk=Le("award",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],_v=Le("ban",dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xv=Le("book-open",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pk=Le("calendar",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vw=Le("check",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yw=Le("chevron-down",gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yk=Le("chevron-up",vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ww=Le("circle-check-big",wk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xk=Le("clock",_k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sk=Le("credit-card",bk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Mf=Le("dollar-sign",Ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Tk=Le("download",kk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],bv=Le("ellipsis-vertical",Ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qh=Le("eye",Rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Nk=Le("funnel",Ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]],Pk=Le("guitar",Ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ok=Le("keyboard",jk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Mk=Le("languages",Dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sv=Le("layout-dashboard",Lk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],$k=Le("log-in",Uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Bk=Le("log-out",Fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Vk=Le("mic",zk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Wk=Le("music-2",Hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ln=Le("music",qk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ev=Le("plus",Kk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Jk=Le("search",Gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xk=Le("settings",Yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],kv=Le("shopping-bag",Qk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_w=Le("shopping-cart",Zk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],t1=Le("square-pen",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],r1=Le("trash-2",n1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xw=Le("trending-up",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],o1=Le("user",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Lf=Le("users",a1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],c1=Le("wind",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bw=Le("x",u1);function Tv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ru(...t){return e=>{let n=!1;const s=t.map(o=>{const a=Tv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Tv(t[o],null)}}}}function Ve(...t){return S.useCallback(ru(...t),t)}var Sr=S.forwardRef((t,e)=>{const{children:n,...s}=t,o=S.Children.toArray(n),a=o.find(h1);if(a){const c=a.props.children,h=o.map(f=>f===a?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:f);return d.jsx(Kh,{...s,ref:e,children:S.isValidElement(c)?S.cloneElement(c,void 0,h):null})}return d.jsx(Kh,{...s,ref:e,children:n})});Sr.displayName="Slot";var Kh=S.forwardRef((t,e)=>{const{children:n,...s}=t;if(S.isValidElement(n)){const o=p1(n),a=f1(s,n.props);return n.type!==S.Fragment&&(a.ref=e?ru(e,o):o),S.cloneElement(n,a)}return S.Children.count(n)>1?S.Children.only(null):null});Kh.displayName="SlotClone";var d1=({children:t})=>d.jsx(d.Fragment,{children:t});function h1(t){return S.isValidElement(t)&&t.type===d1}function f1(t,e){const n={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...h)=>{a(...h),o(...h)}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function p1(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sw(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Sw(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ew(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Sw(t))&&(s&&(s+=" "),s+=e);return s}const Cv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Rv=Ew,kw=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Rv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const y=n==null?void 0:n[m],g=a==null?void 0:a[m];if(y===null)return null;const w=Cv(y)||Cv(g);return o[m][w]}),h=n&&Object.entries(n).reduce((m,y)=>{let[g,w]=y;return w===void 0||(m[g]=w),m},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let{class:g,className:w,...x}=y;return Object.entries(x).every(E=>{let[_,k]=E;return Array.isArray(k)?k.includes({...a,...h}[_]):{...a,...h}[_]===k})?[...m,g,w]:m},[]);return Rv(t,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},Uf="-",m1=t=>{const e=v1(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const h=c.split(Uf);return h[0]===""&&h.length!==1&&h.shift(),Tw(h,e)||g1(c)},getConflictingClassGroupIds:(c,h)=>{const f=n[c]||[];return h&&s[c]?[...f,...s[c]]:f}}},Tw=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?Tw(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Uf);return(c=e.validators.find(({validator:h})=>h(a)))==null?void 0:c.classGroupId},Iv=/^\[(.+)\]$/,g1=t=>{if(Iv.test(t)){const e=Iv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},v1=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)Gh(n[o],s,o,e);return s},Gh=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Nv(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(y1(o)){Gh(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{Gh(c,Nv(e,a),n,s)})})},Nv=(t,e)=>{let n=t;return e.split(Uf).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},y1=t=>t.isThemeGetter,w1=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},Jh="!",Yh=":",_1=Yh.length,x1=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const a=[];let c=0,h=0,f=0,m;for(let E=0;E<o.length;E++){let _=o[E];if(c===0&&h===0){if(_===Yh){a.push(o.slice(f,E)),f=E+_1;continue}if(_==="/"){m=E;continue}}_==="["?c++:_==="]"?c--:_==="("?h++:_===")"&&h--}const y=a.length===0?o:o.substring(f),g=b1(y),w=g!==y,x=m&&m>f?m-f:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:x}};if(e){const o=e+Yh,a=s;s=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},b1=t=>t.endsWith(Jh)?t.substring(0,t.length-1):t.startsWith(Jh)?t.substring(1):t,S1=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},E1=t=>({cache:w1(t.cacheSize),parseClassName:x1(t),sortModifiers:S1(t),...m1(t)}),k1=/\s+/,T1=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],h=t.trim().split(k1);let f="";for(let m=h.length-1;m>=0;m-=1){const y=h[m],{isExternal:g,modifiers:w,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:_}=n(y);if(g){f=y+(f.length>0?" "+f:f);continue}let k=!!_,T=s(k?E.substring(0,_):E);if(!T){if(!k){f=y+(f.length>0?" "+f:f);continue}if(T=s(E),!T){f=y+(f.length>0?" "+f:f);continue}k=!1}const C=a(w).join(":"),I=x?C+Jh:C,j=I+T;if(c.includes(j))continue;c.push(j);const $=o(T,k);for(let V=0;V<$.length;++V){const B=$[V];c.push(I+B)}f=y+(f.length>0?" "+f:f)}return f};function C1(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Cw(e))&&(s&&(s+=" "),s+=n);return s}const Cw=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Cw(t[s]))&&(n&&(n+=" "),n+=e);return n};function R1(t,...e){let n,s,o,a=c;function c(f){const m=e.reduce((y,g)=>g(y),t());return n=E1(m),s=n.cache.get,o=n.cache.set,a=h,h(f)}function h(f){const m=s(f);if(m)return m;const y=T1(f,n);return o(f,y),y}return function(){return a(C1.apply(null,arguments))}}const vt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Rw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Iw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,I1=/^\d+\/\d+$/,N1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=t=>I1.test(t),je=t=>!!t&&!Number.isNaN(Number(t)),rs=t=>!!t&&Number.isInteger(Number(t)),ph=t=>t.endsWith("%")&&je(t.slice(0,-1)),gr=t=>N1.test(t),D1=()=>!0,M1=t=>A1.test(t)&&!P1.test(t),Nw=()=>!1,L1=t=>j1.test(t),U1=t=>O1.test(t),$1=t=>!ae(t)&&!le(t),F1=t=>_o(t,jw,Nw),ae=t=>Rw.test(t),Ws=t=>_o(t,Ow,M1),mh=t=>_o(t,W1,je),Av=t=>_o(t,Aw,Nw),B1=t=>_o(t,Pw,U1),dc=t=>_o(t,Dw,L1),le=t=>Iw.test(t),ma=t=>xo(t,Ow),z1=t=>xo(t,q1),Pv=t=>xo(t,Aw),V1=t=>xo(t,jw),H1=t=>xo(t,Pw),hc=t=>xo(t,Dw,!0),_o=(t,e,n)=>{const s=Rw.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},xo=(t,e,n=!1)=>{const s=Iw.exec(t);return s?s[1]?e(s[1]):n:!1},Aw=t=>t==="position"||t==="percentage",Pw=t=>t==="image"||t==="url",jw=t=>t==="length"||t==="size"||t==="bg-size",Ow=t=>t==="length",W1=t=>t==="number",q1=t=>t==="family-name",Dw=t=>t==="shadow",K1=()=>{const t=vt("color"),e=vt("font"),n=vt("text"),s=vt("font-weight"),o=vt("tracking"),a=vt("leading"),c=vt("breakpoint"),h=vt("container"),f=vt("spacing"),m=vt("radius"),y=vt("shadow"),g=vt("inset-shadow"),w=vt("text-shadow"),x=vt("drop-shadow"),E=vt("blur"),_=vt("perspective"),k=vt("aspect"),T=vt("ease"),C=vt("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...j(),le,ae],V=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],z=()=>[le,ae,f],te=()=>[Hi,"full","auto",...z()],fe=()=>[rs,"none","subgrid",le,ae],me=()=>["auto",{span:["full",rs,le,ae]},rs,le,ae],ge=()=>[rs,"auto",le,ae],ve=()=>["auto","min","max","fr",le,ae],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...z()],ee=()=>[Hi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],O=()=>[t,le,ae],F=()=>[...j(),Pv,Av,{position:[le,ae]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",V1,F1,{size:[le,ae]}],U=()=>[ph,ma,Ws],Y=()=>["","none","full",m,le,ae],Z=()=>["",je,ma,Ws],_e=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[je,ph,Pv,Av],se=()=>["","none",E,le,ae],ce=()=>["none",je,le,ae],xe=()=>["none",je,le,ae],Ae=()=>[je,le,ae],Pe=()=>[Hi,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gr],breakpoint:[gr],color:[D1],container:[gr],"drop-shadow":[gr],ease:["in","out","in-out"],font:[$1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gr],shadow:[gr],spacing:["px",je],text:[gr],"text-shadow":[gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hi,ae,le,k]}],container:["container"],columns:[{columns:[je,ae,le,h]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:te()}],"inset-x":[{"inset-x":te()}],"inset-y":[{"inset-y":te()}],start:[{start:te()}],end:[{end:te()}],top:[{top:te()}],right:[{right:te()}],bottom:[{bottom:te()}],left:[{left:te()}],visibility:["visible","invisible","collapse"],z:[{z:[rs,"auto",le,ae]}],basis:[{basis:[Hi,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,Hi,"auto","initial","none",ae]}],grow:[{grow:["",je,le,ae]}],shrink:[{shrink:["",je,le,ae]}],order:[{order:[rs,"first","last","none",le,ae]}],"grid-cols":[{"grid-cols":fe()}],"col-start-end":[{col:me()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":fe()}],"row-start-end":[{row:me()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[h,"screen",...ee()]}],"min-w":[{"min-w":[h,"screen","none",...ee()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",n,ma,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,le,mh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ph,ae]}],"font-family":[{font:[z1,ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,le,ae]}],"line-clamp":[{"line-clamp":[je,"none",le,mh]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",le,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",le,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",le,Ws]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[je,"auto",le,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rs,le,ae],radial:["",le,ae],conic:[rs,le,ae]},H1,B1]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,le,ae]}],"outline-w":[{outline:["",je,ma,Ws]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",y,hc,dc]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",g,hc,dc]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[je,Ws]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",w,hc,dc]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[je,le,ae]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[le,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",le,ae]}],filter:[{filter:["","none",le,ae]}],blur:[{blur:se()}],brightness:[{brightness:[je,le,ae]}],contrast:[{contrast:[je,le,ae]}],"drop-shadow":[{"drop-shadow":["","none",x,hc,dc]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",je,le,ae]}],"hue-rotate":[{"hue-rotate":[je,le,ae]}],invert:[{invert:["",je,le,ae]}],saturate:[{saturate:[je,le,ae]}],sepia:[{sepia:["",je,le,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",le,ae]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[je,le,ae]}],"backdrop-contrast":[{"backdrop-contrast":[je,le,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,le,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,le,ae]}],"backdrop-invert":[{"backdrop-invert":["",je,le,ae]}],"backdrop-opacity":[{"backdrop-opacity":[je,le,ae]}],"backdrop-saturate":[{"backdrop-saturate":[je,le,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",je,le,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",le,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",le,ae]}],ease:[{ease:["linear","initial",T,le,ae]}],delay:[{delay:[je,le,ae]}],animate:[{animate:["none",C,le,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,le,ae]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[le,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le,ae]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[je,ma,Ws,mh]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},G1=R1(K1);function Ie(...t){return G1(Ew(t))}const J1=kw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ue=S.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...o},a)=>{const c=s?Sr:"button";return d.jsx(c,{ref:a,"data-slot":"button",className:Ie(J1({variant:e,size:n,className:t})),...o})});Ue.displayName="Button";const Y1=kw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function co({className:t,variant:e,asChild:n=!1,...s}){const o=n?Sr:"span";return d.jsx(o,{"data-slot":"badge",className:Ie(Y1({variant:e}),t),...s})}function de(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function X1(t,e){const n=S.createContext(e),s=a=>{const{children:c,...h}=a,f=S.useMemo(()=>h,Object.values(h));return d.jsx(n.Provider,{value:f,children:c})};s.displayName=t+"Provider";function o(a){const c=S.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function Rr(t,e=[]){let n=[];function s(a,c){const h=S.createContext(c),f=n.length;n=[...n,c];const m=g=>{var T;const{scope:w,children:x,...E}=g,_=((T=w==null?void 0:w[t])==null?void 0:T[f])||h,k=S.useMemo(()=>E,Object.values(E));return d.jsx(_.Provider,{value:k,children:x})};m.displayName=a+"Provider";function y(g,w){var _;const x=((_=w==null?void 0:w[t])==null?void 0:_[f])||h,E=S.useContext(x);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=n.map(c=>S.createContext(c));return function(h){const f=(h==null?void 0:h[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...h,[t]:f}}),[h,f])}};return o.scopeName=t,[s,Q1(o,...e)]}function Q1(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((h,{useScope:f,scopeName:m})=>{const g=f(a)[`__scope${m}`];return{...h,...g}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Sn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function ci({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,o]=Z1({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s,h=Sn(n),f=S.useCallback(m=>{if(a){const g=typeof m=="function"?m(t):m;g!==t&&h(g)}else o(m)},[a,t,o,h]);return[c,f]}function Z1({defaultProp:t,onChange:e}){const n=S.useState(t),[s]=n,o=S.useRef(s),a=Sn(e);return S.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}var Fa=mw();const Mw=pw(Fa);var eT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=eT.reduce((t,e)=>{const n=S.forwardRef((s,o)=>{const{asChild:a,...c}=s,h=a?Sr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(h,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Lw(t,e){t&&Fa.flushSync(()=>t.dispatchEvent(e))}function $f(t){const e=t+"CollectionProvider",[n,s]=Rr(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:E,children:_}=x,k=Q.useRef(null),T=Q.useRef(new Map).current;return d.jsx(o,{scope:E,itemMap:T,collectionRef:k,children:_})};c.displayName=e;const h=t+"CollectionSlot",f=Q.forwardRef((x,E)=>{const{scope:_,children:k}=x,T=a(h,_),C=Ve(E,T.collectionRef);return d.jsx(Sr,{ref:C,children:k})});f.displayName=h;const m=t+"CollectionItemSlot",y="data-radix-collection-item",g=Q.forwardRef((x,E)=>{const{scope:_,children:k,...T}=x,C=Q.useRef(null),I=Ve(E,C),j=a(m,_);return Q.useEffect(()=>(j.itemMap.set(C,{ref:C,...T}),()=>void j.itemMap.delete(C))),d.jsx(Sr,{[y]:"",ref:I,children:k})});g.displayName=m;function w(x){const E=a(t+"CollectionConsumer",x);return Q.useCallback(()=>{const k=E.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(E.itemMap.values()).sort((j,$)=>T.indexOf(j.ref.current)-T.indexOf($.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:f,ItemSlot:g},w,s]}var tT=S.createContext(void 0);function su(t){const e=S.useContext(tT);return t||e||"ltr"}function nT(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t);S.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var rT="DismissableLayer",Xh="dismissableLayer.update",sT="dismissableLayer.pointerDownOutside",iT="dismissableLayer.focusOutside",jv,Uw=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iu=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=t,m=S.useContext(Uw),[y,g]=S.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),E=Ve(e,B=>g(B)),_=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=_.indexOf(k),C=y?_.indexOf(y):-1,I=m.layersWithOutsidePointerEventsDisabled.size>0,j=C>=T,$=lT(B=>{const z=B.target,te=[...m.branches].some(fe=>fe.contains(z));!j||te||(o==null||o(B),c==null||c(B),B.defaultPrevented||h==null||h())},w),V=cT(B=>{const z=B.target;[...m.branches].some(fe=>fe.contains(z))||(a==null||a(B),c==null||c(B),B.defaultPrevented||h==null||h())},w);return nT(B=>{C===m.layers.size-1&&(s==null||s(B),!B.defaultPrevented&&h&&(B.preventDefault(),h()))},w),S.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Ov(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=jv)}},[y,w,n,m]),S.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Ov())},[y,m]),S.useEffect(()=>{const B=()=>x({});return document.addEventListener(Xh,B),()=>document.removeEventListener(Xh,B)},[]),d.jsx(Ne.div,{...f,ref:E,style:{pointerEvents:I?j?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,V.onFocusCapture),onBlurCapture:de(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,$.onPointerDownCapture)})});iu.displayName=rT;var oT="DismissableLayerBranch",aT=S.forwardRef((t,e)=>{const n=S.useContext(Uw),s=S.useRef(null),o=Ve(e,s);return S.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Ne.div,{...t,ref:o})});aT.displayName=oT;function lT(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),s=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const a=h=>{if(h.target&&!s.current){let f=function(){$w(sT,n,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function cT(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),s=S.useRef(!1);return S.useEffect(()=>{const o=a=>{a.target&&!s.current&&$w(iT,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ov(){const t=new CustomEvent(Xh);document.dispatchEvent(t)}function $w(t,e,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?Lw(o,a):o.dispatchEvent(a)}var gh=0;function Ff(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Dv()),document.body.insertAdjacentElement("beforeend",t[1]??Dv()),gh++,()=>{gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gh--}},[])}function Dv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vh="focusScope.autoFocusOnMount",yh="focusScope.autoFocusOnUnmount",Mv={bubbles:!1,cancelable:!0},uT="FocusScope",ou=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=t,[h,f]=S.useState(null),m=Sn(o),y=Sn(a),g=S.useRef(null),w=Ve(e,_=>f(_)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let _=function(I){if(x.paused||!h)return;const j=I.target;h.contains(j)?g.current=j:os(g.current,{select:!0})},k=function(I){if(x.paused||!h)return;const j=I.relatedTarget;j!==null&&(h.contains(j)||os(g.current,{select:!0}))},T=function(I){if(document.activeElement===document.body)for(const $ of I)$.removedNodes.length>0&&os(h)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const C=new MutationObserver(T);return h&&C.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),C.disconnect()}}},[s,h,x.paused]),S.useEffect(()=>{if(h){Uv.add(x);const _=document.activeElement;if(!h.contains(_)){const T=new CustomEvent(vh,Mv);h.addEventListener(vh,m),h.dispatchEvent(T),T.defaultPrevented||(dT(gT(Fw(h)),{select:!0}),document.activeElement===_&&os(h))}return()=>{h.removeEventListener(vh,m),setTimeout(()=>{const T=new CustomEvent(yh,Mv);h.addEventListener(yh,y),h.dispatchEvent(T),T.defaultPrevented||os(_??document.body,{select:!0}),h.removeEventListener(yh,y),Uv.remove(x)},0)}}},[h,m,y,x]);const E=S.useCallback(_=>{if(!n&&!s||x.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,T=document.activeElement;if(k&&T){const C=_.currentTarget,[I,j]=hT(C);I&&j?!_.shiftKey&&T===j?(_.preventDefault(),n&&os(I,{select:!0})):_.shiftKey&&T===I&&(_.preventDefault(),n&&os(j,{select:!0})):T===C&&_.preventDefault()}},[n,s,x.paused]);return d.jsx(Ne.div,{tabIndex:-1,...c,ref:w,onKeyDown:E})});ou.displayName=uT;function dT(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(os(s,{select:e}),document.activeElement!==n)return}function hT(t){const e=Fw(t),n=Lv(e,t),s=Lv(e.reverse(),t);return[n,s]}function Fw(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lv(t,e){for(const n of t)if(!fT(n,{upTo:e}))return n}function fT(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pT(t){return t instanceof HTMLInputElement&&"select"in t}function os(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pT(t)&&e&&t.select()}}var Uv=mT();function mT(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$v(t,e),t.unshift(e)},remove(e){var n;t=$v(t,e),(n=t[0])==null||n.resume()}}}function $v(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function gT(t){return t.filter(e=>e.tagName!=="A")}var Bt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},vT=sk.useId||(()=>{}),yT=0;function Zn(t){const[e,n]=S.useState(vT());return Bt(()=>{n(s=>s??String(yT++))},[t]),t||(e?`radix-${e}`:"")}const wT=["top","right","bottom","left"],xs=Math.min,on=Math.max,Dc=Math.round,fc=Math.floor,er=t=>({x:t,y:t}),_T={left:"right",right:"left",bottom:"top",top:"bottom"},xT={start:"end",end:"start"};function Qh(t,e,n){return on(t,xs(e,n))}function Er(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function bo(t){return t.split("-")[1]}function Bf(t){return t==="x"?"y":"x"}function zf(t){return t==="y"?"height":"width"}const bT=new Set(["top","bottom"]);function Xn(t){return bT.has(kr(t))?"y":"x"}function Vf(t){return Bf(Xn(t))}function ST(t,e,n){n===void 0&&(n=!1);const s=bo(t),o=Vf(t),a=zf(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Mc(c)),[c,Mc(c)]}function ET(t){const e=Mc(t);return[Zh(t),e,Zh(e)]}function Zh(t){return t.replace(/start|end/g,e=>xT[e])}const Fv=["left","right"],Bv=["right","left"],kT=["top","bottom"],TT=["bottom","top"];function CT(t,e,n){switch(t){case"top":case"bottom":return n?e?Bv:Fv:e?Fv:Bv;case"left":case"right":return e?kT:TT;default:return[]}}function RT(t,e,n,s){const o=bo(t);let a=CT(kr(t),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Zh)))),a}function Mc(t){return t.replace(/left|right|bottom|top/g,e=>_T[e])}function IT(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bw(t){return typeof t!="number"?IT(t):{top:t,right:t,bottom:t,left:t}}function Lc(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function zv(t,e,n){let{reference:s,floating:o}=t;const a=Xn(e),c=Vf(e),h=zf(c),f=kr(e),m=a==="y",y=s.x+s.width/2-o.width/2,g=s.y+s.height/2-o.height/2,w=s[h]/2-o[h]/2;let x;switch(f){case"top":x={x:y,y:s.y-o.height};break;case"bottom":x={x:y,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:g};break;case"left":x={x:s.x-o.width,y:g};break;default:x={x:s.x,y:s.y}}switch(bo(e)){case"start":x[c]-=w*(n&&m?-1:1);break;case"end":x[c]+=w*(n&&m?-1:1);break}return x}const NT=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:y,y:g}=zv(m,s,f),w=s,x={},E=0;for(let _=0;_<h.length;_++){const{name:k,fn:T}=h[_],{x:C,y:I,data:j,reset:$}=await T({x:y,y:g,initialPlacement:s,placement:w,strategy:o,middlewareData:x,rects:m,platform:c,elements:{reference:t,floating:e}});y=C??y,g=I??g,x={...x,[k]:{...x[k],...j}},$&&E<=50&&(E++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(m=$.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):$.rects),{x:y,y:g}=zv(m,w,f)),_=-1)}return{x:y,y:g,placement:w,strategy:o,middlewareData:x}};async function Ca(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:c,elements:h,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:w=!1,padding:x=0}=Er(e,t),E=Bw(x),k=h[w?g==="floating"?"reference":"floating":g],T=Lc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:f})),C=g==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),j=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},$=Lc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:C,offsetParent:I,strategy:f}):C);return{top:(T.top-$.top+E.top)/j.y,bottom:($.bottom-T.bottom+E.bottom)/j.y,left:(T.left-$.left+E.left)/j.x,right:($.right-T.right+E.right)/j.x}}const AT=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:m,padding:y=0}=Er(t,e)||{};if(m==null)return{};const g=Bw(y),w={x:n,y:s},x=Vf(o),E=zf(x),_=await c.getDimensions(m),k=x==="y",T=k?"top":"left",C=k?"bottom":"right",I=k?"clientHeight":"clientWidth",j=a.reference[E]+a.reference[x]-w[x]-a.floating[E],$=w[x]-a.reference[x],V=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let B=V?V[I]:0;(!B||!await(c.isElement==null?void 0:c.isElement(V)))&&(B=h.floating[I]||a.floating[E]);const z=j/2-$/2,te=B/2-_[E]/2-1,fe=xs(g[T],te),me=xs(g[C],te),ge=fe,ve=B-_[E]-me,ye=B/2-_[E]/2+z,we=Qh(ge,ye,ve),K=!f.arrow&&bo(o)!=null&&ye!==we&&a.reference[E]/2-(ye<ge?fe:me)-_[E]/2<0,ee=K?ye<ge?ye-ge:ye-ve:0;return{[x]:w[x]+ee,data:{[x]:we,centerOffset:ye-we-ee,...K&&{alignmentOffset:ee}},reset:K}}}),PT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...k}=Er(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=kr(o),C=Xn(h),I=kr(h)===h,j=await(f.isRTL==null?void 0:f.isRTL(m.floating)),$=w||(I||!_?[Mc(h)]:ET(h)),V=E!=="none";!w&&V&&$.push(...RT(h,_,E,j));const B=[h,...$],z=await Ca(e,k),te=[];let fe=((s=a.flip)==null?void 0:s.overflows)||[];if(y&&te.push(z[T]),g){const ye=ST(o,c,j);te.push(z[ye[0]],z[ye[1]])}if(fe=[...fe,{placement:o,overflows:te}],!te.every(ye=>ye<=0)){var me,ge;const ye=(((me=a.flip)==null?void 0:me.index)||0)+1,we=B[ye];if(we&&(!(g==="alignment"?C!==Xn(we):!1)||fe.every(O=>Xn(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:ye,overflows:fe},reset:{placement:we}};let K=(ge=fe.filter(ee=>ee.overflows[0]<=0).sort((ee,O)=>ee.overflows[1]-O.overflows[1])[0])==null?void 0:ge.placement;if(!K)switch(x){case"bestFit":{var ve;const ee=(ve=fe.filter(O=>{if(V){const F=Xn(O.placement);return F===C||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:ve[0];ee&&(K=ee);break}case"initialPlacement":K=h;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function Vv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hv(t){return wT.some(e=>t[e]>=0)}const jT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=Er(t,e);switch(s){case"referenceHidden":{const a=await Ca(e,{...o,elementContext:"reference"}),c=Vv(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Hv(c)}}}case"escaped":{const a=await Ca(e,{...o,altBoundary:!0}),c=Vv(a,n.floating);return{data:{escapedOffsets:c,escaped:Hv(c)}}}default:return{}}}}},zw=new Set(["left","top"]);async function OT(t,e){const{placement:n,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=kr(n),h=bo(n),f=Xn(n)==="y",m=zw.has(c)?-1:1,y=a&&f?-1:1,g=Er(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return h&&typeof E=="number"&&(x=h==="end"?E*-1:E),f?{x:x*y,y:w*m}:{x:w*m,y:x*y}}const DT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await OT(e,t);return c===((n=h.offset)==null?void 0:n.placement)&&(s=h.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},MT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:k=>{let{x:T,y:C}=k;return{x:T,y:C}}},...f}=Er(t,e),m={x:n,y:s},y=await Ca(e,f),g=Xn(kr(o)),w=Bf(g);let x=m[w],E=m[g];if(a){const k=w==="y"?"top":"left",T=w==="y"?"bottom":"right",C=x+y[k],I=x-y[T];x=Qh(C,x,I)}if(c){const k=g==="y"?"top":"left",T=g==="y"?"bottom":"right",C=E+y[k],I=E-y[T];E=Qh(C,E,I)}const _=h.fn({...e,[w]:x,[g]:E});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[w]:a,[g]:c}}}}}},LT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=Er(t,e),y={x:n,y:s},g=Xn(o),w=Bf(g);let x=y[w],E=y[g];const _=Er(h,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const I=w==="y"?"height":"width",j=a.reference[w]-a.floating[I]+k.mainAxis,$=a.reference[w]+a.reference[I]-k.mainAxis;x<j?x=j:x>$&&(x=$)}if(m){var T,C;const I=w==="y"?"width":"height",j=zw.has(kr(o)),$=a.reference[g]-a.floating[I]+(j&&((T=c.offset)==null?void 0:T[g])||0)+(j?0:k.crossAxis),V=a.reference[g]+a.reference[I]+(j?0:((C=c.offset)==null?void 0:C[g])||0)-(j?k.crossAxis:0);E<$?E=$:E>V&&(E=V)}return{[w]:x,[g]:E}}}},UT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...m}=Er(t,e),y=await Ca(e,m),g=kr(o),w=bo(o),x=Xn(o)==="y",{width:E,height:_}=a.floating;let k,T;g==="top"||g==="bottom"?(k=g,T=w===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(T=g,k=w==="end"?"top":"bottom");const C=_-y.top-y.bottom,I=E-y.left-y.right,j=xs(_-y[k],C),$=xs(E-y[T],I),V=!e.middlewareData.shift;let B=j,z=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=I),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=C),V&&!w){const fe=on(y.left,0),me=on(y.right,0),ge=on(y.top,0),ve=on(y.bottom,0);x?z=E-2*(fe!==0||me!==0?fe+me:on(y.left,y.right)):B=_-2*(ge!==0||ve!==0?ge+ve:on(y.top,y.bottom))}await f({...e,availableWidth:z,availableHeight:B});const te=await c.getDimensions(h.floating);return E!==te.width||_!==te.height?{reset:{rects:!0}}:{}}}};function au(){return typeof window<"u"}function So(t){return Vw(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(Vw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vw(t){return au()?t instanceof Node||t instanceof un(t).Node:!1}function Un(t){return au()?t instanceof Element||t instanceof un(t).Element:!1}function rr(t){return au()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function Wv(t){return!au()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}const $T=new Set(["inline","contents"]);function Ba(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!$T.has(o)}const FT=new Set(["table","td","th"]);function BT(t){return FT.has(So(t))}const zT=[":popover-open",":modal"];function lu(t){return zT.some(e=>{try{return t.matches(e)}catch{return!1}})}const VT=["transform","translate","scale","rotate","perspective"],HT=["transform","translate","scale","rotate","perspective","filter"],WT=["paint","layout","strict","content"];function Hf(t){const e=Wf(),n=Un(t)?$n(t):t;return VT.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||HT.some(s=>(n.willChange||"").includes(s))||WT.some(s=>(n.contain||"").includes(s))}function qT(t){let e=bs(t);for(;rr(e)&&!vo(e);){if(Hf(e))return e;if(lu(e))return null;e=bs(e)}return null}function Wf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KT=new Set(["html","body","#document"]);function vo(t){return KT.has(So(t))}function $n(t){return un(t).getComputedStyle(t)}function cu(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bs(t){if(So(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wv(t)&&t.host||sr(t);return Wv(e)?e.host:e}function Hw(t){const e=bs(t);return vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:rr(e)&&Ba(e)?e:Hw(e)}function Ra(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Hw(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),c=un(o);if(a){const h=ef(c);return e.concat(c,c.visualViewport||[],Ba(o)?o:[],h&&n?Ra(h):[])}return e.concat(o,Ra(o,[],n))}function ef(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ww(t){const e=$n(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=rr(t),a=o?t.offsetWidth:n,c=o?t.offsetHeight:s,h=Dc(n)!==a||Dc(s)!==c;return h&&(n=a,s=c),{width:n,height:s,$:h}}function qf(t){return Un(t)?t:t.contextElement}function uo(t){const e=qf(t);if(!rr(e))return er(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:a}=Ww(e);let c=(a?Dc(n.width):n.width)/s,h=(a?Dc(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const GT=er(0);function qw(t){const e=un(t);return!Wf()||!e.visualViewport?GT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==un(t)?!1:e}function ui(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=qf(t);let c=er(1);e&&(s?Un(s)&&(c=uo(s)):c=uo(t));const h=JT(a,n,s)?qw(a):er(0);let f=(o.left+h.x)/c.x,m=(o.top+h.y)/c.y,y=o.width/c.x,g=o.height/c.y;if(a){const w=un(a),x=s&&Un(s)?un(s):s;let E=w,_=ef(E);for(;_&&s&&x!==E;){const k=uo(_),T=_.getBoundingClientRect(),C=$n(_),I=T.left+(_.clientLeft+parseFloat(C.paddingLeft))*k.x,j=T.top+(_.clientTop+parseFloat(C.paddingTop))*k.y;f*=k.x,m*=k.y,y*=k.x,g*=k.y,f+=I,m+=j,E=un(_),_=ef(E)}}return Lc({width:y,height:g,x:f,y:m})}function uu(t,e){const n=cu(t).scrollLeft;return e?e.left+n:ui(sr(t)).left+n}function Kw(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-uu(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function YT(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const a=o==="fixed",c=sr(s),h=e?lu(e.floating):!1;if(s===c||h&&a)return n;let f={scrollLeft:0,scrollTop:0},m=er(1);const y=er(0),g=rr(s);if((g||!g&&!a)&&((So(s)!=="body"||Ba(c))&&(f=cu(s)),rr(s))){const x=ui(s);m=uo(s),y.x=x.x+s.clientLeft,y.y=x.y+s.clientTop}const w=c&&!g&&!a?Kw(c,f):er(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+y.x+w.x,y:n.y*m.y-f.scrollTop*m.y+y.y+w.y}}function XT(t){return Array.from(t.getClientRects())}function QT(t){const e=sr(t),n=cu(t),s=t.ownerDocument.body,o=on(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=on(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+uu(t);const h=-n.scrollTop;return $n(s).direction==="rtl"&&(c+=on(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:h}}const qv=25;function ZT(t,e){const n=un(t),s=sr(t),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const y=Wf();(!y||y&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=uu(s);if(m<=0){const y=s.ownerDocument,g=y.body,w=getComputedStyle(g),x=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(s.clientWidth-g.clientWidth-x);E<=qv&&(a-=E)}else m<=qv&&(a+=m);return{width:a,height:c,x:h,y:f}}const eC=new Set(["absolute","fixed"]);function tC(t,e){const n=ui(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,a=rr(t)?uo(t):er(1),c=t.clientWidth*a.x,h=t.clientHeight*a.y,f=o*a.x,m=s*a.y;return{width:c,height:h,x:f,y:m}}function Kv(t,e,n){let s;if(e==="viewport")s=ZT(t,n);else if(e==="document")s=QT(sr(t));else if(Un(e))s=tC(e,n);else{const o=qw(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Lc(s)}function Gw(t,e){const n=bs(t);return n===e||!Un(n)||vo(n)?!1:$n(n).position==="fixed"||Gw(n,e)}function nC(t,e){const n=e.get(t);if(n)return n;let s=Ra(t,[],!1).filter(h=>Un(h)&&So(h)!=="body"),o=null;const a=$n(t).position==="fixed";let c=a?bs(t):t;for(;Un(c)&&!vo(c);){const h=$n(c),f=Hf(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&eC.has(o.position)||Ba(c)&&!f&&Gw(t,c))?s=s.filter(y=>y!==c):o=h,c=bs(c)}return e.set(t,s),s}function rC(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?lu(e)?[]:nC(e,this._c):[].concat(n),s],h=c[0],f=c.reduce((m,y)=>{const g=Kv(e,y,o);return m.top=on(g.top,m.top),m.right=xs(g.right,m.right),m.bottom=xs(g.bottom,m.bottom),m.left=on(g.left,m.left),m},Kv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function sC(t){const{width:e,height:n}=Ww(t);return{width:e,height:n}}function iC(t,e,n){const s=rr(e),o=sr(e),a=n==="fixed",c=ui(t,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=er(0);function m(){f.x=uu(o)}if(s||!s&&!a)if((So(e)!=="body"||Ba(o))&&(h=cu(e)),s){const x=ui(e,!0,a,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else o&&m();a&&!s&&o&&m();const y=o&&!s&&!a?Kw(o,h):er(0),g=c.left+h.scrollLeft-f.x-y.x,w=c.top+h.scrollTop-f.y-y.y;return{x:g,y:w,width:c.width,height:c.height}}function wh(t){return $n(t).position==="static"}function Gv(t,e){if(!rr(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sr(t)===n&&(n=n.ownerDocument.body),n}function Jw(t,e){const n=un(t);if(lu(t))return n;if(!rr(t)){let o=bs(t);for(;o&&!vo(o);){if(Un(o)&&!wh(o))return o;o=bs(o)}return n}let s=Gv(t,e);for(;s&&BT(s)&&wh(s);)s=Gv(s,e);return s&&vo(s)&&wh(s)&&!Hf(s)?n:s||qT(t)||n}const oC=async function(t){const e=this.getOffsetParent||Jw,n=this.getDimensions,s=await n(t.floating);return{reference:iC(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function aC(t){return $n(t).direction==="rtl"}const lC={convertOffsetParentRelativeRectToViewportRelativeRect:YT,getDocumentElement:sr,getClippingRect:rC,getOffsetParent:Jw,getElementRects:oC,getClientRects:XT,getDimensions:sC,getScale:uo,isElement:Un,isRTL:aC};function Yw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cC(t,e){let n=null,s;const o=sr(t);function a(){var h;clearTimeout(s),(h=n)==null||h.disconnect(),n=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=t.getBoundingClientRect(),{left:y,top:g,width:w,height:x}=m;if(h||e(),!w||!x)return;const E=fc(g),_=fc(o.clientWidth-(y+w)),k=fc(o.clientHeight-(g+x)),T=fc(y),I={rootMargin:-E+"px "+-_+"px "+-k+"px "+-T+"px",threshold:on(0,xs(1,f))||1};let j=!0;function $(V){const B=V[0].intersectionRatio;if(B!==f){if(!j)return c();B?c(!1,B):s=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!Yw(m,t.getBoundingClientRect())&&c(),j=!1}try{n=new IntersectionObserver($,{...I,root:o.ownerDocument})}catch{n=new IntersectionObserver($,I)}n.observe(t)}return c(!0),a}function uC(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=qf(t),y=o||a?[...m?Ra(m):[],...Ra(e)]:[];y.forEach(T=>{o&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const g=m&&h?cC(m,n):null;let w=-1,x=null;c&&(x=new ResizeObserver(T=>{let[C]=T;C&&C.target===m&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=x)==null||I.observe(e)})),n()}),m&&!f&&x.observe(m),x.observe(e));let E,_=f?ui(t):null;f&&k();function k(){const T=ui(t);_&&!Yw(_,T)&&n(),_=T,E=requestAnimationFrame(k)}return n(),()=>{var T;y.forEach(C=>{o&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),g==null||g(),(T=x)==null||T.disconnect(),x=null,f&&cancelAnimationFrame(E)}}const dC=DT,hC=MT,fC=PT,pC=UT,mC=jT,Jv=AT,gC=LT,vC=(t,e,n)=>{const s=new Map,o={platform:lC,...n},a={...o.platform,_c:s};return NT(t,e,{...o,platform:a})};var yC=typeof document<"u",wC=function(){},Rc=yC?S.useLayoutEffect:wC;function Uc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Uc(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Uc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Xw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yv(t,e){const n=Xw(t);return Math.round(e*n)/n}function _h(t){const e=S.useRef(t);return Rc(()=>{e.current=t}),e}function _C(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:m}=t,[y,g]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=S.useState(s);Uc(w,s)||x(s);const[E,_]=S.useState(null),[k,T]=S.useState(null),C=S.useCallback(O=>{O!==V.current&&(V.current=O,_(O))},[]),I=S.useCallback(O=>{O!==B.current&&(B.current=O,T(O))},[]),j=a||E,$=c||k,V=S.useRef(null),B=S.useRef(null),z=S.useRef(y),te=f!=null,fe=_h(f),me=_h(o),ge=_h(m),ve=S.useCallback(()=>{if(!V.current||!B.current)return;const O={placement:e,strategy:n,middleware:w};me.current&&(O.platform=me.current),vC(V.current,B.current,O).then(F=>{const q={...F,isPositioned:ge.current!==!1};ye.current&&!Uc(z.current,q)&&(z.current=q,Fa.flushSync(()=>{g(q)}))})},[w,e,n,me,ge]);Rc(()=>{m===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(O=>({...O,isPositioned:!1})))},[m]);const ye=S.useRef(!1);Rc(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Rc(()=>{if(j&&(V.current=j),$&&(B.current=$),j&&$){if(fe.current)return fe.current(j,$,ve);ve()}},[j,$,ve,fe,te]);const we=S.useMemo(()=>({reference:V,floating:B,setReference:C,setFloating:I}),[C,I]),K=S.useMemo(()=>({reference:j,floating:$}),[j,$]),ee=S.useMemo(()=>{const O={position:n,left:0,top:0};if(!K.floating)return O;const F=Yv(K.floating,y.x),q=Yv(K.floating,y.y);return h?{...O,transform:"translate("+F+"px, "+q+"px)",...Xw(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,h,K.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:ve,refs:we,elements:K,floatingStyles:ee}),[y,ve,we,K,ee])}const xC=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Jv({element:s.current,padding:o}).fn(n):{}:s?Jv({element:s,padding:o}).fn(n):{}}}},bC=(t,e)=>({...dC(t),options:[t,e]}),SC=(t,e)=>({...hC(t),options:[t,e]}),EC=(t,e)=>({...gC(t),options:[t,e]}),kC=(t,e)=>({...fC(t),options:[t,e]}),TC=(t,e)=>({...pC(t),options:[t,e]}),CC=(t,e)=>({...mC(t),options:[t,e]}),RC=(t,e)=>({...xC(t),options:[t,e]});var IC="Arrow",Qw=S.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...a}=t;return d.jsx(Ne.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qw.displayName=IC;var NC=Qw;function Zw(t){const[e,n]=S.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,h=m.blockSize}else c=t.offsetWidth,h=t.offsetHeight;n({width:c,height:h})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Kf="Popper",[e0,du]=Rr(Kf),[AC,t0]=e0(Kf),n0=t=>{const{__scopePopper:e,children:n}=t,[s,o]=S.useState(null);return d.jsx(AC,{scope:e,anchor:s,onAnchorChange:o,children:n})};n0.displayName=Kf;var r0="PopperAnchor",s0=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,a=t0(r0,n),c=S.useRef(null),h=Ve(e,c);return S.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:d.jsx(Ne.div,{...o,ref:h})});s0.displayName=r0;var Gf="PopperContent",[PC,jC]=e0(Gf),i0=S.forwardRef((t,e)=>{var H,se,ce,xe,Ae,Pe;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:E,..._}=t,k=t0(Gf,n),[T,C]=S.useState(null),I=Ve(e,ut=>C(ut)),[j,$]=S.useState(null),V=Zw(j),B=(V==null?void 0:V.width)??0,z=(V==null?void 0:V.height)??0,te=s+(a!=="center"?"-"+a:""),fe=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},me=Array.isArray(m)?m:[m],ge=me.length>0,ve={padding:fe,boundary:me.filter(DC),altBoundary:ge},{refs:ye,floatingStyles:we,placement:K,isPositioned:ee,middlewareData:O}=_C({strategy:"fixed",placement:te,whileElementsMounted:(...ut)=>uC(...ut,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[bC({mainAxis:o+z,alignmentAxis:c}),f&&SC({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?EC():void 0,...ve}),f&&kC({...ve}),TC({...ve,apply:({elements:ut,rects:_t,availableWidth:Vn,availableHeight:En})=>{const{width:Lt,height:Cs}=_t.reference,xt=ut.floating.style;xt.setProperty("--radix-popper-available-width",`${Vn}px`),xt.setProperty("--radix-popper-available-height",`${En}px`),xt.setProperty("--radix-popper-anchor-width",`${Lt}px`),xt.setProperty("--radix-popper-anchor-height",`${Cs}px`)}}),j&&RC({element:j,padding:h}),MC({arrowWidth:B,arrowHeight:z}),w&&CC({strategy:"referenceHidden",...ve})]}),[F,q]=l0(K),N=Sn(E);Bt(()=>{ee&&(N==null||N())},[ee,N]);const U=(H=O.arrow)==null?void 0:H.x,Y=(se=O.arrow)==null?void 0:se.y,Z=((ce=O.arrow)==null?void 0:ce.centerOffset)!==0,[_e,ne]=S.useState();return Bt(()=>{T&&ne(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:ee?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(xe=O.transformOrigin)==null?void 0:xe.x,(Ae=O.transformOrigin)==null?void 0:Ae.y].join(" "),...((Pe=O.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(PC,{scope:n,placedSide:F,onArrowChange:$,arrowX:U,arrowY:Y,shouldHideArrow:Z,children:d.jsx(Ne.div,{"data-side":F,"data-align":q,..._,ref:I,style:{..._.style,animation:ee?void 0:"none"}})})})});i0.displayName=Gf;var o0="PopperArrow",OC={top:"bottom",right:"left",bottom:"top",left:"right"},a0=S.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,a=jC(o0,s),c=OC[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(NC,{...o,ref:n,style:{...o.style,display:"block"}})})});a0.displayName=o0;function DC(t){return t!==null}var MC=t=>({name:"transformOrigin",options:t,fn(e){var k,T,C;const{placement:n,rects:s,middlewareData:o}=e,c=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,y]=l0(n),g={start:"0%",center:"50%",end:"100%"}[y],w=(((T=o.arrow)==null?void 0:T.x)??0)+h/2,x=(((C=o.arrow)==null?void 0:C.y)??0)+f/2;let E="",_="";return m==="bottom"?(E=c?g:`${w}px`,_=`${-f}px`):m==="top"?(E=c?g:`${w}px`,_=`${s.floating.height+f}px`):m==="right"?(E=`${-f}px`,_=c?g:`${x}px`):m==="left"&&(E=`${s.floating.width+f}px`,_=c?g:`${x}px`),{data:{x:E,y:_}}}});function l0(t){const[e,n="center"]=t.split("-");return[e,n]}var c0=n0,u0=s0,d0=i0,h0=a0,LC="Portal",hu=S.forwardRef((t,e)=>{var h;const{container:n,...s}=t,[o,a]=S.useState(!1);Bt(()=>a(!0),[]);const c=n||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?Mw.createPortal(d.jsx(Ne.div,{...s,ref:e}),c):null});hu.displayName=LC;function UC(t,e){return S.useReducer((n,s)=>e[n][s]??n,t)}var ir=t=>{const{present:e,children:n}=t,s=$C(e),o=typeof n=="function"?n({present:s.isPresent}):S.Children.only(n),a=Ve(s.ref,FC(o));return typeof n=="function"||s.isPresent?S.cloneElement(o,{ref:a}):null};ir.displayName="Presence";function $C(t){const[e,n]=S.useState(),s=S.useRef({}),o=S.useRef(t),a=S.useRef("none"),c=t?"mounted":"unmounted",[h,f]=UC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const m=pc(s.current);a.current=h==="mounted"?m:"none"},[h]),Bt(()=>{const m=s.current,y=o.current;if(y!==t){const w=a.current,x=pc(m);t?f("MOUNT"):x==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&w!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Bt(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,g=x=>{const _=pc(s.current).includes(x.animationName);if(x.target===e&&_&&(f("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},w=x=>{x.target===e&&(a.current=pc(s.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:S.useCallback(m=>{m&&(s.current=getComputedStyle(m)),n(m)},[])}}function pc(t){return(t==null?void 0:t.animationName)||"none"}function FC(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xh="rovingFocusGroup.onEntryFocus",BC={bubbles:!1,cancelable:!0},fu="RovingFocusGroup",[tf,f0,zC]=$f(fu),[VC,pu]=Rr(fu,[zC]),[HC,WC]=VC(fu),p0=S.forwardRef((t,e)=>d.jsx(tf.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(tf.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(qC,{...t,ref:e})})}));p0.displayName=fu;var qC=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=t,w=S.useRef(null),x=Ve(e,w),E=su(a),[_=null,k]=ci({prop:c,defaultProp:h,onChange:f}),[T,C]=S.useState(!1),I=Sn(m),j=f0(n),$=S.useRef(!1),[V,B]=S.useState(0);return S.useEffect(()=>{const z=w.current;if(z)return z.addEventListener(xh,I),()=>z.removeEventListener(xh,I)},[I]),d.jsx(HC,{scope:n,orientation:s,dir:E,loop:o,currentTabStopId:_,onItemFocus:S.useCallback(z=>k(z),[k]),onItemShiftTab:S.useCallback(()=>C(!0),[]),onFocusableItemAdd:S.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:S.useCallback(()=>B(z=>z-1),[]),children:d.jsx(Ne.div,{tabIndex:T||V===0?-1:0,"data-orientation":s,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:de(t.onMouseDown,()=>{$.current=!0}),onFocus:de(t.onFocus,z=>{const te=!$.current;if(z.target===z.currentTarget&&te&&!T){const fe=new CustomEvent(xh,BC);if(z.currentTarget.dispatchEvent(fe),!fe.defaultPrevented){const me=j().filter(K=>K.focusable),ge=me.find(K=>K.active),ve=me.find(K=>K.id===_),we=[ge,ve,...me].filter(Boolean).map(K=>K.ref.current);v0(we,y)}}$.current=!1}),onBlur:de(t.onBlur,()=>C(!1))})})}),m0="RovingFocusGroupItem",g0=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,...c}=t,h=Zn(),f=a||h,m=WC(m0,n),y=m.currentTabStopId===f,g=f0(n),{onFocusableItemAdd:w,onFocusableItemRemove:x}=m;return S.useEffect(()=>{if(s)return w(),()=>x()},[s,w,x]),d.jsx(tf.ItemSlot,{scope:n,id:f,focusable:s,active:o,children:d.jsx(Ne.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:de(t.onMouseDown,E=>{s?m.onItemFocus(f):E.preventDefault()}),onFocus:de(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:de(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){m.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const _=JC(E,m.orientation,m.dir);if(_!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=g().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")T.reverse();else if(_==="prev"||_==="next"){_==="prev"&&T.reverse();const C=T.indexOf(E.currentTarget);T=m.loop?YC(T,C+1):T.slice(C+1)}setTimeout(()=>v0(T))}})})})});g0.displayName=m0;var KC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GC(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function JC(t,e,n){const s=GC(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return KC[s]}function v0(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function YC(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var y0=p0,w0=g0,XC=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wi=new WeakMap,mc=new WeakMap,gc={},bh=0,_0=function(t){return t&&(t.host||_0(t.parentNode))},QC=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=_0(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZC=function(t,e,n,s){var o=QC(e,Array.isArray(t)?t:[t]);gc[n]||(gc[n]=new WeakMap);var a=gc[n],c=[],h=new Set,f=new Set(o),m=function(g){!g||h.has(g)||(h.add(g),m(g.parentNode))};o.forEach(m);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(w){if(h.has(w))y(w);else try{var x=w.getAttribute(s),E=x!==null&&x!=="false",_=(Wi.get(w)||0)+1,k=(a.get(w)||0)+1;Wi.set(w,_),a.set(w,k),c.push(w),_===1&&E&&mc.set(w,!0),k===1&&w.setAttribute(n,"true"),E||w.setAttribute(s,"true")}catch(T){console.error("aria-hidden: cannot operate on ",w,T)}})};return y(e),h.clear(),bh++,function(){c.forEach(function(g){var w=Wi.get(g)-1,x=a.get(g)-1;Wi.set(g,w),a.set(g,x),w||(mc.has(g)||g.removeAttribute(s),mc.delete(g)),x||g.removeAttribute(n)}),bh--,bh||(Wi=new WeakMap,Wi=new WeakMap,mc=new WeakMap,gc={})}},Jf=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=XC(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),ZC(s,o,n,"aria-hidden")):function(){return null}},Yn=function(){return Yn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yn.apply(this,arguments)};function Eo(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function eR(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{m(s.next(y))}catch(g){c(g)}}function f(y){try{m(s.throw(y))}catch(g){c(g)}}function m(y){y.done?a(y.value):o(y.value).then(h,f)}m((s=s.apply(t,e||[])).next())})}function tR(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var Ic="right-scroll-bar-position",Nc="width-before-scroll-bar",nR="with-scroll-bars-hidden",rR="--removed-body-scroll-bar-size";function Sh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sR(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var iR=typeof window<"u"?S.useLayoutEffect:S.useEffect,Xv=new WeakMap;function oR(t,e){var n=sR(null,function(s){return t.forEach(function(o){return Sh(o,s)})});return iR(function(){var s=Xv.get(n);if(s){var o=new Set(s),a=new Set(t),c=n.current;o.forEach(function(h){a.has(h)||Sh(h,null)}),a.forEach(function(h){o.has(h)||Sh(h,c)})}Xv.set(n,t)},[t]),n}function aR(t){return t}function lR(t,e){e===void 0&&(e=aR);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,s);return n.push(c),function(){n=n.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(h){return a(h)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var h=n;n=[],h.forEach(a),c=n}var f=function(){var y=c;c=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return o}function cR(t){t===void 0&&(t={});var e=lR(null);return e.options=Yn({async:!0,ssr:!1},t),e}var x0=function(t){var e=t.sideCar,n=Eo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return S.createElement(s,Yn({},n))};x0.isSideCarExport=!0;function uR(t,e){return t.useMedium(e),x0}var b0=cR(),Eh=function(){},mu=S.forwardRef(function(t,e){var n=S.useRef(null),s=S.useState({onScrollCapture:Eh,onWheelCapture:Eh,onTouchMoveCapture:Eh}),o=s[0],a=s[1],c=t.forwardProps,h=t.children,f=t.className,m=t.removeScrollBar,y=t.enabled,g=t.shards,w=t.sideCar,x=t.noRelative,E=t.noIsolation,_=t.inert,k=t.allowPinchZoom,T=t.as,C=T===void 0?"div":T,I=t.gapMode,j=Eo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,V=oR([n,e]),B=Yn(Yn({},j),o);return S.createElement(S.Fragment,null,y&&S.createElement($,{sideCar:b0,removeScrollBar:m,shards:g,noRelative:x,noIsolation:E,inert:_,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:I}),c?S.cloneElement(S.Children.only(h),Yn(Yn({},B),{ref:V})):S.createElement(C,Yn({},B,{className:f,ref:V}),h))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mu.classNames={fullWidth:Nc,zeroRight:Ic};var dR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dR();return e&&t.setAttribute("nonce",e),t}function fR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mR=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hR())&&(fR(e,n),pR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gR=function(){var t=mR();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},S0=function(){var t=gR(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},vR={left:0,top:0,right:0,gap:0},kh=function(t){return parseInt(t||"",10)||0},yR=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[kh(n),kh(s),kh(o)]},wR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vR;var e=yR(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},_R=S0(),ho="data-scroll-locked",xR=function(t,e,n,s){var o=t.left,a=t.top,c=t.right,h=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(h,"px ").concat(s,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat(Nc,` {
    margin-right: `).concat(h,"px ").concat(s,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ho,`] {
    `).concat(rR,": ").concat(h,`px;
  }
`)},Qv=function(){var t=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(t)?t:0},bR=function(){S.useEffect(function(){return document.body.setAttribute(ho,(Qv()+1).toString()),function(){var t=Qv()-1;t<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,t.toString())}},[])},SR=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;bR();var a=S.useMemo(function(){return wR(o)},[o]);return S.createElement(_R,{styles:xR(a,!e,o,n?"":"!important")})},nf=!1;if(typeof window<"u")try{var vc=Object.defineProperty({},"passive",{get:function(){return nf=!0,!0}});window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{nf=!1}var qi=nf?{passive:!1}:!1,ER=function(t){return t.tagName==="TEXTAREA"},E0=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ER(t)&&n[e]==="visible")},kR=function(t){return E0(t,"overflowY")},TR=function(t){return E0(t,"overflowX")},Zv=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=k0(t,s);if(o){var a=T0(t,s),c=a[1],h=a[2];if(c>h)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},CR=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},RR=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},k0=function(t,e){return t==="v"?kR(e):TR(e)},T0=function(t,e){return t==="v"?CR(e):RR(e)},IR=function(t,e){return t==="h"&&e==="rtl"?-1:1},NR=function(t,e,n,s,o){var a=IR(t,window.getComputedStyle(e).direction),c=a*s,h=n.target,f=e.contains(h),m=!1,y=c>0,g=0,w=0;do{if(!h)break;var x=T0(t,h),E=x[0],_=x[1],k=x[2],T=_-k-a*E;(E||T)&&k0(t,h)&&(g+=T,w+=E);var C=h.parentNode;h=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(y&&Math.abs(g)<1||!y&&Math.abs(w)<1)&&(m=!0),m},yc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ey=function(t){return[t.deltaX,t.deltaY]},ty=function(t){return t&&"current"in t?t.current:t},AR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jR=0,Ki=[];function OR(t){var e=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),o=S.useState(jR++)[0],a=S.useState(S0)[0],c=S.useRef(t);S.useEffect(function(){c.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var _=tR([t.lockRef.current],(t.shards||[]).map(ty),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var h=S.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var T=yc(_),C=n.current,I="deltaX"in _?_.deltaX:C[0]-T[0],j="deltaY"in _?_.deltaY:C[1]-T[1],$,V=_.target,B=Math.abs(I)>Math.abs(j)?"h":"v";if("touches"in _&&B==="h"&&V.type==="range")return!1;var z=window.getSelection(),te=z&&z.anchorNode,fe=te?te===V||te.contains(V):!1;if(fe)return!1;var me=Zv(B,V);if(!me)return!0;if(me?$=B:($=B==="v"?"h":"v",me=Zv(B,V)),!me)return!1;if(!s.current&&"changedTouches"in _&&(I||j)&&(s.current=$),!$)return!0;var ge=s.current||$;return NR(ge,k,_,ge==="h"?I:j)},[]),f=S.useCallback(function(_){var k=_;if(!(!Ki.length||Ki[Ki.length-1]!==a)){var T="deltaY"in k?ey(k):yc(k),C=e.current.filter(function($){return $.name===k.type&&($.target===k.target||k.target===$.shadowParent)&&AR($.delta,T)})[0];if(C&&C.should){k.cancelable&&k.preventDefault();return}if(!C){var I=(c.current.shards||[]).map(ty).filter(Boolean).filter(function($){return $.contains(k.target)}),j=I.length>0?h(k,I[0]):!c.current.noIsolation;j&&k.cancelable&&k.preventDefault()}}},[]),m=S.useCallback(function(_,k,T,C){var I={name:_,delta:k,target:T,should:C,shadowParent:DR(T)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(j){return j!==I})},1)},[]),y=S.useCallback(function(_){n.current=yc(_),s.current=void 0},[]),g=S.useCallback(function(_){m(_.type,ey(_),_.target,h(_,t.lockRef.current))},[]),w=S.useCallback(function(_){m(_.type,yc(_),_.target,h(_,t.lockRef.current))},[]);S.useEffect(function(){return Ki.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",f,qi),document.addEventListener("touchmove",f,qi),document.addEventListener("touchstart",y,qi),function(){Ki=Ki.filter(function(_){return _!==a}),document.removeEventListener("wheel",f,qi),document.removeEventListener("touchmove",f,qi),document.removeEventListener("touchstart",y,qi)}},[]);var x=t.removeScrollBar,E=t.inert;return S.createElement(S.Fragment,null,E?S.createElement(a,{styles:PR(o)}):null,x?S.createElement(SR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function DR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MR=uR(b0,OR);var gu=S.forwardRef(function(t,e){return S.createElement(mu,Yn({},t,{ref:e,sideCar:MR}))});gu.classNames=mu.classNames;var rf=["Enter"," "],LR=["ArrowDown","PageUp","Home"],C0=["ArrowUp","PageDown","End"],UR=[...LR,...C0],$R={ltr:[...rf,"ArrowRight"],rtl:[...rf,"ArrowLeft"]},FR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},za="Menu",[Ia,BR,zR]=$f(za),[vi,R0]=Rr(za,[zR,du,pu]),vu=du(),I0=pu(),[VR,yi]=vi(za),[HR,Va]=vi(za),N0=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:o,onOpenChange:a,modal:c=!0}=t,h=vu(e),[f,m]=S.useState(null),y=S.useRef(!1),g=Sn(a),w=su(o);return S.useEffect(()=>{const x=()=>{y.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>y.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),d.jsx(c0,{...h,children:d.jsx(VR,{scope:e,open:n,onOpenChange:g,content:f,onContentChange:m,children:d.jsx(HR,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:w,modal:c,children:s})})})};N0.displayName=za;var WR="MenuAnchor",Yf=S.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,o=vu(n);return d.jsx(u0,{...o,...s,ref:e})});Yf.displayName=WR;var Xf="MenuPortal",[qR,A0]=vi(Xf,{forceMount:void 0}),P0=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:o}=t,a=yi(Xf,e);return d.jsx(qR,{scope:e,forceMount:n,children:d.jsx(ir,{present:n||a.open,children:d.jsx(hu,{asChild:!0,container:o,children:s})})})};P0.displayName=Xf;var bn="MenuContent",[KR,Qf]=vi(bn),j0=S.forwardRef((t,e)=>{const n=A0(bn,t.__scopeMenu),{forceMount:s=n.forceMount,...o}=t,a=yi(bn,t.__scopeMenu),c=Va(bn,t.__scopeMenu);return d.jsx(Ia.Provider,{scope:t.__scopeMenu,children:d.jsx(ir,{present:s||a.open,children:d.jsx(Ia.Slot,{scope:t.__scopeMenu,children:c.modal?d.jsx(GR,{...o,ref:e}):d.jsx(JR,{...o,ref:e})})})})}),GR=S.forwardRef((t,e)=>{const n=yi(bn,t.__scopeMenu),s=S.useRef(null),o=Ve(e,s);return S.useEffect(()=>{const a=s.current;if(a)return Jf(a)},[]),d.jsx(Zf,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:de(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JR=S.forwardRef((t,e)=>{const n=yi(bn,t.__scopeMenu);return d.jsx(Zf,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Zf=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:h,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:w,onDismiss:x,disableOutsideScroll:E,..._}=t,k=yi(bn,n),T=Va(bn,n),C=vu(n),I=I0(n),j=BR(n),[$,V]=S.useState(null),B=S.useRef(null),z=Ve(e,B,k.onContentChange),te=S.useRef(0),fe=S.useRef(""),me=S.useRef(0),ge=S.useRef(null),ve=S.useRef("right"),ye=S.useRef(0),we=E?gu:S.Fragment,K=E?{as:Sr,allowPinchZoom:!0}:void 0,ee=F=>{var H,se;const q=fe.current+F,N=j().filter(ce=>!ce.disabled),U=document.activeElement,Y=(H=N.find(ce=>ce.ref.current===U))==null?void 0:H.textValue,Z=N.map(ce=>ce.textValue),_e=aI(Z,q,Y),ne=(se=N.find(ce=>ce.textValue===_e))==null?void 0:se.ref.current;(function ce(xe){fe.current=xe,window.clearTimeout(te.current),xe!==""&&(te.current=window.setTimeout(()=>ce(""),1e3))})(q),ne&&setTimeout(()=>ne.focus())};S.useEffect(()=>()=>window.clearTimeout(te.current),[]),Ff();const O=S.useCallback(F=>{var N,U;return ve.current===((N=ge.current)==null?void 0:N.side)&&cI(F,(U=ge.current)==null?void 0:U.area)},[]);return d.jsx(KR,{scope:n,searchRef:fe,onItemEnter:S.useCallback(F=>{O(F)&&F.preventDefault()},[O]),onItemLeave:S.useCallback(F=>{var q;O(F)||((q=B.current)==null||q.focus(),V(null))},[O]),onTriggerLeave:S.useCallback(F=>{O(F)&&F.preventDefault()},[O]),pointerGraceTimerRef:me,onPointerGraceIntentChange:S.useCallback(F=>{ge.current=F},[]),children:d.jsx(we,{...K,children:d.jsx(ou,{asChild:!0,trapped:o,onMountAutoFocus:de(a,F=>{var q;F.preventDefault(),(q=B.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:d.jsx(iu,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:w,onDismiss:x,children:d.jsx(y0,{asChild:!0,...I,dir:T.dir,orientation:"vertical",loop:s,currentTabStopId:$,onCurrentTabStopIdChange:V,onEntryFocus:de(f,F=>{T.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(d0,{role:"menu","aria-orientation":"vertical","data-state":J0(k.open),"data-radix-menu-content":"",dir:T.dir,...C,..._,ref:z,style:{outline:"none",..._.style},onKeyDown:de(_.onKeyDown,F=>{const N=F.target.closest("[data-radix-menu-content]")===F.currentTarget,U=F.ctrlKey||F.altKey||F.metaKey,Y=F.key.length===1;N&&(F.key==="Tab"&&F.preventDefault(),!U&&Y&&ee(F.key));const Z=B.current;if(F.target!==Z||!UR.includes(F.key))return;F.preventDefault();const ne=j().filter(H=>!H.disabled).map(H=>H.ref.current);C0.includes(F.key)&&ne.reverse(),iI(ne)}),onBlur:de(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(te.current),fe.current="")}),onPointerMove:de(t.onPointerMove,Na(F=>{const q=F.target,N=ye.current!==F.clientX;if(F.currentTarget.contains(q)&&N){const U=F.clientX>ye.current?"right":"left";ve.current=U,ye.current=F.clientX}}))})})})})})})});j0.displayName=bn;var YR="MenuGroup",ep=S.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return d.jsx(Ne.div,{role:"group",...s,ref:e})});ep.displayName=YR;var XR="MenuLabel",O0=S.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return d.jsx(Ne.div,{...s,ref:e})});O0.displayName=XR;var $c="MenuItem",ny="menu.itemSelect",yu=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...o}=t,a=S.useRef(null),c=Va($c,t.__scopeMenu),h=Qf($c,t.__scopeMenu),f=Ve(e,a),m=S.useRef(!1),y=()=>{const g=a.current;if(!n&&g){const w=new CustomEvent(ny,{bubbles:!0,cancelable:!0});g.addEventListener(ny,x=>s==null?void 0:s(x),{once:!0}),Lw(g,w),w.defaultPrevented?m.current=!1:c.onClose()}};return d.jsx(D0,{...o,ref:f,disabled:n,onClick:de(t.onClick,y),onPointerDown:g=>{var w;(w=t.onPointerDown)==null||w.call(t,g),m.current=!0},onPointerUp:de(t.onPointerUp,g=>{var w;m.current||(w=g.currentTarget)==null||w.click()}),onKeyDown:de(t.onKeyDown,g=>{const w=h.searchRef.current!=="";n||w&&g.key===" "||rf.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});yu.displayName=$c;var D0=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...a}=t,c=Qf($c,n),h=I0(n),f=S.useRef(null),m=Ve(e,f),[y,g]=S.useState(!1),[w,x]=S.useState("");return S.useEffect(()=>{const E=f.current;E&&x((E.textContent??"").trim())},[a.children]),d.jsx(Ia.ItemSlot,{scope:n,disabled:s,textValue:o??w,children:d.jsx(w0,{asChild:!0,...h,focusable:!s,children:d.jsx(Ne.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:m,onPointerMove:de(t.onPointerMove,Na(E=>{s?c.onItemLeave(E):(c.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(t.onPointerLeave,Na(E=>c.onItemLeave(E))),onFocus:de(t.onFocus,()=>g(!0)),onBlur:de(t.onBlur,()=>g(!1))})})})}),QR="MenuCheckboxItem",M0=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...o}=t;return d.jsx(B0,{scope:t.__scopeMenu,checked:n,children:d.jsx(yu,{role:"menuitemcheckbox","aria-checked":Fc(n)?"mixed":n,...o,ref:e,"data-state":np(n),onSelect:de(o.onSelect,()=>s==null?void 0:s(Fc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});M0.displayName=QR;var L0="MenuRadioGroup",[ZR,eI]=vi(L0,{value:void 0,onValueChange:()=>{}}),U0=S.forwardRef((t,e)=>{const{value:n,onValueChange:s,...o}=t,a=Sn(s);return d.jsx(ZR,{scope:t.__scopeMenu,value:n,onValueChange:a,children:d.jsx(ep,{...o,ref:e})})});U0.displayName=L0;var $0="MenuRadioItem",F0=S.forwardRef((t,e)=>{const{value:n,...s}=t,o=eI($0,t.__scopeMenu),a=n===o.value;return d.jsx(B0,{scope:t.__scopeMenu,checked:a,children:d.jsx(yu,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":np(a),onSelect:de(s.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,n)},{checkForDefaultPrevented:!1})})})});F0.displayName=$0;var tp="MenuItemIndicator",[B0,tI]=vi(tp,{checked:!1}),z0=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...o}=t,a=tI(tp,n);return d.jsx(ir,{present:s||Fc(a.checked)||a.checked===!0,children:d.jsx(Ne.span,{...o,ref:e,"data-state":np(a.checked)})})});z0.displayName=tp;var nI="MenuSeparator",V0=S.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return d.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});V0.displayName=nI;var rI="MenuArrow",H0=S.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,o=vu(n);return d.jsx(h0,{...o,...s,ref:e})});H0.displayName=rI;var sI="MenuSub",[o4,W0]=vi(sI),va="MenuSubTrigger",q0=S.forwardRef((t,e)=>{const n=yi(va,t.__scopeMenu),s=Va(va,t.__scopeMenu),o=W0(va,t.__scopeMenu),a=Qf(va,t.__scopeMenu),c=S.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:f}=a,m={__scopeMenu:t.__scopeMenu},y=S.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return S.useEffect(()=>y,[y]),S.useEffect(()=>{const g=h.current;return()=>{window.clearTimeout(g),f(null)}},[h,f]),d.jsx(Yf,{asChild:!0,...m,children:d.jsx(D0,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":J0(n.open),...t,ref:ru(e,o.onTriggerChange),onClick:g=>{var w;(w=t.onClick)==null||w.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:de(t.onPointerMove,Na(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:de(t.onPointerLeave,Na(g=>{var x,E;y();const w=(x=n.content)==null?void 0:x.getBoundingClientRect();if(w){const _=(E=n.content)==null?void 0:E.dataset.side,k=_==="right",T=k?-5:5,C=w[k?"left":"right"],I=w[k?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:C,y:w.top},{x:I,y:w.top},{x:I,y:w.bottom},{x:C,y:w.bottom}],side:_}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:de(t.onKeyDown,g=>{var x;const w=a.searchRef.current!=="";t.disabled||w&&g.key===" "||$R[s.dir].includes(g.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),g.preventDefault())})})})});q0.displayName=va;var K0="MenuSubContent",G0=S.forwardRef((t,e)=>{const n=A0(bn,t.__scopeMenu),{forceMount:s=n.forceMount,...o}=t,a=yi(bn,t.__scopeMenu),c=Va(bn,t.__scopeMenu),h=W0(K0,t.__scopeMenu),f=S.useRef(null),m=Ve(e,f);return d.jsx(Ia.Provider,{scope:t.__scopeMenu,children:d.jsx(ir,{present:s||a.open,children:d.jsx(Ia.Slot,{scope:t.__scopeMenu,children:d.jsx(Zf,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;c.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:de(t.onFocusOutside,y=>{y.target!==h.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:de(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:de(t.onKeyDown,y=>{var x;const g=y.currentTarget.contains(y.target),w=FR[c.dir].includes(y.key);g&&w&&(a.onOpenChange(!1),(x=h.trigger)==null||x.focus(),y.preventDefault())})})})})})});G0.displayName=K0;function J0(t){return t?"open":"closed"}function Fc(t){return t==="indeterminate"}function np(t){return Fc(t)?"indeterminate":t?"checked":"unchecked"}function iI(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oI(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function aI(t,e,n){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=oI(t,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function lI(t,e){const{x:n,y:s}=t;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a].x,f=e[a].y,m=e[c].x,y=e[c].y;f>s!=y>s&&n<(m-h)*(s-f)/(y-f)+h&&(o=!o)}return o}function cI(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return lI(n,e)}function Na(t){return e=>e.pointerType==="mouse"?t(e):void 0}var uI=N0,dI=Yf,hI=P0,fI=j0,pI=ep,mI=O0,gI=yu,vI=M0,yI=U0,wI=F0,_I=z0,xI=V0,bI=H0,SI=q0,EI=G0,rp="DropdownMenu",[kI]=Rr(rp,[R0]),Vt=R0(),[TI,Y0]=kI(rp),X0=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:o,defaultOpen:a,onOpenChange:c,modal:h=!0}=t,f=Vt(e),m=S.useRef(null),[y=!1,g]=ci({prop:o,defaultProp:a,onChange:c});return d.jsx(TI,{scope:e,triggerId:Zn(),triggerRef:m,contentId:Zn(),open:y,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(w=>!w),[g]),modal:h,children:d.jsx(uI,{...f,open:y,onOpenChange:g,dir:s,modal:h,children:n})})};X0.displayName=rp;var Q0="DropdownMenuTrigger",Z0=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=t,a=Y0(Q0,n),c=Vt(n);return d.jsx(dI,{asChild:!0,...c,children:d.jsx(Ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:ru(e,a.triggerRef),onPointerDown:de(t.onPointerDown,h=>{!s&&h.button===0&&h.ctrlKey===!1&&(a.onOpenToggle(),a.open||h.preventDefault())}),onKeyDown:de(t.onKeyDown,h=>{s||(["Enter"," "].includes(h.key)&&a.onOpenToggle(),h.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});Z0.displayName=Q0;var CI="DropdownMenuPortal",e_=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Vt(e);return d.jsx(hI,{...s,...n})};e_.displayName=CI;var t_="DropdownMenuContent",n_=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Y0(t_,n),a=Vt(n),c=S.useRef(!1);return d.jsx(fI,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...s,ref:e,onCloseAutoFocus:de(t.onCloseAutoFocus,h=>{var f;c.current||(f=o.triggerRef.current)==null||f.focus(),c.current=!1,h.preventDefault()}),onInteractOutside:de(t.onInteractOutside,h=>{const f=h.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,y=f.button===2||m;(!o.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n_.displayName=t_;var RI="DropdownMenuGroup",II=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(pI,{...o,...s,ref:e})});II.displayName=RI;var NI="DropdownMenuLabel",r_=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(mI,{...o,...s,ref:e})});r_.displayName=NI;var AI="DropdownMenuItem",s_=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(gI,{...o,...s,ref:e})});s_.displayName=AI;var PI="DropdownMenuCheckboxItem",jI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(vI,{...o,...s,ref:e})});jI.displayName=PI;var OI="DropdownMenuRadioGroup",DI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(yI,{...o,...s,ref:e})});DI.displayName=OI;var MI="DropdownMenuRadioItem",LI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(wI,{...o,...s,ref:e})});LI.displayName=MI;var UI="DropdownMenuItemIndicator",$I=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(_I,{...o,...s,ref:e})});$I.displayName=UI;var FI="DropdownMenuSeparator",i_=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(xI,{...o,...s,ref:e})});i_.displayName=FI;var BI="DropdownMenuArrow",zI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(bI,{...o,...s,ref:e})});zI.displayName=BI;var VI="DropdownMenuSubTrigger",HI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(SI,{...o,...s,ref:e})});HI.displayName=VI;var WI="DropdownMenuSubContent",qI=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,o=Vt(n);return d.jsx(EI,{...o,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qI.displayName=WI;var KI=X0,GI=Z0,JI=e_,YI=n_,XI=r_,QI=s_,ZI=i_;function sf({...t}){return d.jsx(KI,{"data-slot":"dropdown-menu",...t})}function of({...t}){return d.jsx(GI,{"data-slot":"dropdown-menu-trigger",...t})}function af({className:t,sideOffset:e=4,...n}){return d.jsx(JI,{children:d.jsx(YI,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function gs({className:t,inset:e,variant:n="default",...s}){return d.jsx(QI,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Bc({className:t,inset:e,...n}){return d.jsx(XI,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ie("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function zc({className:t,...e}){return d.jsx(ZI,{"data-slot":"dropdown-menu-separator",className:Ie("bg-border -mx-1 my-1 h-px",t),...e})}var sp="Dialog",[o_]=Rr(sp),[eN,Bn]=o_(sp),a_=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,h=S.useRef(null),f=S.useRef(null),[m=!1,y]=ci({prop:s,defaultProp:o,onChange:a});return d.jsx(eN,{scope:e,triggerRef:h,contentRef:f,contentId:Zn(),titleId:Zn(),descriptionId:Zn(),open:m,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(g=>!g),[y]),modal:c,children:n})};a_.displayName=sp;var l_="DialogTrigger",c_=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Bn(l_,n),a=Ve(e,o.triggerRef);return d.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ap(o.open),...s,ref:a,onClick:de(t.onClick,o.onOpenToggle)})});c_.displayName=l_;var ip="DialogPortal",[tN,u_]=o_(ip,{forceMount:void 0}),d_=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,a=Bn(ip,e);return d.jsx(tN,{scope:e,forceMount:n,children:S.Children.map(s,c=>d.jsx(ir,{present:n||a.open,children:d.jsx(hu,{asChild:!0,container:o,children:c})}))})};d_.displayName=ip;var Vc="DialogOverlay",h_=S.forwardRef((t,e)=>{const n=u_(Vc,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=Bn(Vc,t.__scopeDialog);return a.modal?d.jsx(ir,{present:s||a.open,children:d.jsx(nN,{...o,ref:e})}):null});h_.displayName=Vc;var nN=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Bn(Vc,n);return d.jsx(gu,{as:Sr,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(Ne.div,{"data-state":ap(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),di="DialogContent",f_=S.forwardRef((t,e)=>{const n=u_(di,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=Bn(di,t.__scopeDialog);return d.jsx(ir,{present:s||a.open,children:a.modal?d.jsx(rN,{...o,ref:e}):d.jsx(sN,{...o,ref:e})})});f_.displayName=di;var rN=S.forwardRef((t,e)=>{const n=Bn(di,t.__scopeDialog),s=S.useRef(null),o=Ve(e,n.contentRef,s);return S.useEffect(()=>{const a=s.current;if(a)return Jf(a)},[]),d.jsx(p_,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:de(t.onFocusOutside,a=>a.preventDefault())})}),sN=S.forwardRef((t,e)=>{const n=Bn(di,t.__scopeDialog),s=S.useRef(!1),o=S.useRef(!1);return d.jsx(p_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=t.onCloseAutoFocus)==null||c.call(t,a),a.defaultPrevented||(s.current||(h=n.triggerRef.current)==null||h.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),p_=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=t,h=Bn(di,n),f=S.useRef(null),m=Ve(e,f);return Ff(),d.jsxs(d.Fragment,{children:[d.jsx(ou,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(iu,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":ap(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(iN,{titleId:h.titleId}),d.jsx(aN,{contentRef:f,descriptionId:h.descriptionId})]})]})}),op="DialogTitle",m_=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Bn(op,n);return d.jsx(Ne.h2,{id:o.titleId,...s,ref:e})});m_.displayName=op;var g_="DialogDescription",v_=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Bn(g_,n);return d.jsx(Ne.p,{id:o.descriptionId,...s,ref:e})});v_.displayName=g_;var y_="DialogClose",w_=S.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Bn(y_,n);return d.jsx(Ne.button,{type:"button",...s,ref:e,onClick:de(t.onClick,()=>o.onOpenChange(!1))})});w_.displayName=y_;function ap(t){return t?"open":"closed"}var __="DialogTitleWarning",[a4,x_]=X1(__,{contentName:di,titleName:op,docsSlug:"dialog"}),iN=({titleId:t})=>{const e=x_(__),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},oN="DialogDescriptionWarning",aN=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x_(oN).contentName}}.`;return S.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},b_=a_,S_=c_,E_=d_,k_=h_,T_=f_,C_=m_,R_=v_,I_=w_;function lN({...t}){return d.jsx(b_,{"data-slot":"sheet",...t})}function cN({...t}){return d.jsx(S_,{"data-slot":"sheet-trigger",...t})}function uN({...t}){return d.jsx(E_,{"data-slot":"sheet-portal",...t})}function dN({className:t,...e}){return d.jsx(k_,{"data-slot":"sheet-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function hN({className:t,children:e,side:n="right",...s}){return d.jsxs(uN,{children:[d.jsx(dN,{}),d.jsxs(T_,{"data-slot":"sheet-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,d.jsxs(I_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(bw,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fN({className:t,...e}){return d.jsx("div",{"data-slot":"sheet-header",className:Ie("flex flex-col gap-1.5 p-4",t),...e})}function pN({className:t,...e}){return d.jsx(C_,{"data-slot":"sheet-title",className:Ie("text-foreground font-semibold",t),...e})}function mN({className:t,...e}){return d.jsx(R_,{"data-slot":"sheet-description",className:Ie("text-muted-foreground text-sm",t),...e})}function gN({currentUser:t,currentView:e,onViewChange:n,onRoleChange:s,onLogout:o,cart:a,onRemoveFromCart:c}){const h=a.reduce((m,y)=>m+y.quantity,0),f=a.reduce((m,y)=>m+y.composition.price*y.quantity,0);return d.jsx("nav",{className:"bg-white shadow-md border-b",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-2 rounded-lg",children:d.jsx(Ln,{className:"size-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"font-semibold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Prime Media"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Choral Music Marketplace"})]})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[d.jsx(Ue,{variant:e==="marketplace"?"default":"ghost",onClick:()=>n("marketplace"),children:"Marketplace"}),d.jsxs(Ue,{variant:e==="learning"?"default":"ghost",onClick:()=>n("learning"),children:[d.jsx(Ln,{className:"size-4 mr-2"}),"Learn Music"]}),t.role==="composer"&&d.jsxs(Ue,{variant:e==="composer"?"default":"ghost",onClick:()=>n("composer"),children:[d.jsx(Sv,{className:"size-4 mr-2"}),"My Compositions"]}),t.role==="buyer"&&d.jsxs(Ue,{variant:e==="buyer"?"default":"ghost",onClick:()=>n("buyer"),children:[d.jsx(Sv,{className:"size-4 mr-2"}),"My Library"]}),t.role==="admin"&&d.jsxs(Ue,{variant:e==="admin"?"default":"ghost",onClick:()=>n("admin"),children:[d.jsx(Xk,{className:"size-4 mr-2"}),"Admin Panel"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(lN,{children:[d.jsx(cN,{asChild:!0,children:d.jsxs(Ue,{variant:"outline",size:"icon",className:"relative",children:[d.jsx(_w,{className:"size-5"}),h>0&&d.jsx(co,{className:"absolute -top-2 -right-2 size-6 flex items-center justify-center p-0",children:h})]})}),d.jsxs(hN,{children:[d.jsxs(fN,{children:[d.jsx(pN,{children:"Shopping Cart"}),d.jsx(mN,{children:h===0?"Your cart is empty":`${h} item(s) in cart`})]}),d.jsxs("div",{className:"mt-6 space-y-4",children:[a.map(m=>d.jsxs("div",{className:"flex items-start justify-between border-b pb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium",children:m.composition.title}),d.jsx("p",{className:"text-sm text-gray-500",children:m.composition.composerName}),d.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",m.composition.price.toFixed(2)]})]}),d.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>c(m.composition.id),children:"Remove"})]},m.composition.id)),a.length>0&&d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"font-semibold",children:"Total:"}),d.jsxs("span",{className:"text-xl font-bold",children:["$",f.toFixed(2)]})]}),d.jsx(Ue,{className:"w-full",onClick:()=>n("buyer"),children:"Proceed to Checkout"})]})]})]})]}),d.jsxs(sf,{children:[d.jsx(of,{asChild:!0,children:d.jsx(Ue,{variant:"outline",size:"icon",children:d.jsx(o1,{className:"size-5"})})}),d.jsxs(af,{align:"end",className:"w-56",children:[d.jsx(Bc,{children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:t.name}),d.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.role})]})}),d.jsx(zc,{}),d.jsx(Bc,{className:"text-xs text-gray-500",children:"Switch Role (Demo)"}),d.jsx(gs,{onClick:()=>s("buyer"),children:"Switch to Buyer"}),d.jsx(gs,{onClick:()=>s("composer"),children:"Switch to Composer"}),d.jsx(gs,{onClick:()=>s("admin"),children:"Switch to Admin"}),d.jsx(zc,{}),d.jsxs(gs,{onClick:o,className:"text-red-600",children:[d.jsx(Bk,{className:"size-4 mr-2"}),"Logout"]})]})]})]})]})})})}function ni({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function ry(t,[e,n]){return Math.min(n,Math.max(e,t))}function N_(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vN="VisuallyHidden",A_=S.forwardRef((t,e)=>d.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));A_.displayName=vN;var yN=[" ","Enter","ArrowUp","ArrowDown"],wN=[" ","Enter"],Ha="Select",[wu,_u,_N]=$f(Ha),[ko]=Rr(Ha,[_N,du]),xu=du(),[xN,Ss]=ko(Ha),[bN,SN]=ko(Ha),P_=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:m,name:y,autoComplete:g,disabled:w,required:x,form:E}=t,_=xu(e),[k,T]=S.useState(null),[C,I]=S.useState(null),[j,$]=S.useState(!1),V=su(m),[B=!1,z]=ci({prop:s,defaultProp:o,onChange:a}),[te,fe]=ci({prop:c,defaultProp:h,onChange:f}),me=S.useRef(null),ge=k?E||!!k.closest("form"):!0,[ve,ye]=S.useState(new Set),we=Array.from(ve).map(K=>K.props.value).join(";");return d.jsx(c0,{..._,children:d.jsxs(xN,{required:x,scope:e,trigger:k,onTriggerChange:T,valueNode:C,onValueNodeChange:I,valueNodeHasChildren:j,onValueNodeHasChildrenChange:$,contentId:Zn(),value:te,onValueChange:fe,open:B,onOpenChange:z,dir:V,triggerPointerDownPosRef:me,disabled:w,children:[d.jsx(wu.Provider,{scope:e,children:d.jsx(bN,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{ye(ee=>new Set(ee).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{ye(ee=>{const O=new Set(ee);return O.delete(K),O})},[]),children:n})}),ge?d.jsxs(tx,{"aria-hidden":!0,required:x,tabIndex:-1,name:y,autoComplete:g,value:te,onChange:K=>fe(K.target.value),disabled:w,form:E,children:[te===void 0?d.jsx("option",{value:""}):null,Array.from(ve)]},we):null]})})};P_.displayName=Ha;var j_="SelectTrigger",O_=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...o}=t,a=xu(n),c=Ss(j_,n),h=c.disabled||s,f=Ve(e,c.onTriggerChange),m=_u(n),y=S.useRef("touch"),[g,w,x]=nx(_=>{const k=m().filter(I=>!I.disabled),T=k.find(I=>I.value===c.value),C=rx(k,_,T);C!==void 0&&c.onValueChange(C.value)}),E=_=>{h||(c.onOpenChange(!0),x()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return d.jsx(u0,{asChild:!0,...a,children:d.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":ex(c.value)?"":void 0,...o,ref:f,onClick:de(o.onClick,_=>{_.currentTarget.focus(),y.current!=="mouse"&&E(_)}),onPointerDown:de(o.onPointerDown,_=>{y.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(E(_),_.preventDefault())}),onKeyDown:de(o.onKeyDown,_=>{const k=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(k&&_.key===" ")&&yN.includes(_.key)&&(E(),_.preventDefault())})})})});O_.displayName=j_;var D_="SelectValue",M_=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,children:a,placeholder:c="",...h}=t,f=Ss(D_,n),{onValueNodeHasChildrenChange:m}=f,y=a!==void 0,g=Ve(e,f.onValueNodeChange);return Bt(()=>{m(y)},[m,y]),d.jsx(Ne.span,{...h,ref:g,style:{pointerEvents:"none"},children:ex(f.value)?d.jsx(d.Fragment,{children:c}):a})});M_.displayName=D_;var EN="SelectIcon",L_=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...o}=t;return d.jsx(Ne.span,{"aria-hidden":!0,...o,ref:e,children:s||""})});L_.displayName=EN;var kN="SelectPortal",U_=t=>d.jsx(hu,{asChild:!0,...t});U_.displayName=kN;var hi="SelectContent",$_=S.forwardRef((t,e)=>{const n=Ss(hi,t.__scopeSelect),[s,o]=S.useState();if(Bt(()=>{o(new DocumentFragment)},[]),!n.open){const a=s;return a?Fa.createPortal(d.jsx(F_,{scope:t.__scopeSelect,children:d.jsx(wu.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),a):null}return d.jsx(B_,{...t,ref:e})});$_.displayName=hi;var jn=10,[F_,Es]=ko(hi),TN="SelectContentImpl",B_=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:w,collisionPadding:x,sticky:E,hideWhenDetached:_,avoidCollisions:k,...T}=t,C=Ss(hi,n),[I,j]=S.useState(null),[$,V]=S.useState(null),B=Ve(e,H=>j(H)),[z,te]=S.useState(null),[fe,me]=S.useState(null),ge=_u(n),[ve,ye]=S.useState(!1),we=S.useRef(!1);S.useEffect(()=>{if(I)return Jf(I)},[I]),Ff();const K=S.useCallback(H=>{const[se,...ce]=ge().map(Pe=>Pe.ref.current),[xe]=ce.slice(-1),Ae=document.activeElement;for(const Pe of H)if(Pe===Ae||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===se&&$&&($.scrollTop=0),Pe===xe&&$&&($.scrollTop=$.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Ae))return},[ge,$]),ee=S.useCallback(()=>K([z,I]),[K,z,I]);S.useEffect(()=>{ve&&ee()},[ve,ee]);const{onOpenChange:O,triggerPointerDownPosRef:F}=C;S.useEffect(()=>{if(I){let H={x:0,y:0};const se=xe=>{var Ae,Pe;H={x:Math.abs(Math.round(xe.pageX)-(((Ae=F.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Pe=F.current)==null?void 0:Pe.y)??0))}},ce=xe=>{H.x<=10&&H.y<=10?xe.preventDefault():I.contains(xe.target)||O(!1),document.removeEventListener("pointermove",se),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ce,{capture:!0})}}},[I,O,F]),S.useEffect(()=>{const H=()=>O(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[O]);const[q,N]=nx(H=>{const se=ge().filter(Ae=>!Ae.disabled),ce=se.find(Ae=>Ae.ref.current===document.activeElement),xe=rx(se,H,ce);xe&&setTimeout(()=>xe.ref.current.focus())}),U=S.useCallback((H,se,ce)=>{const xe=!we.current&&!ce;(C.value!==void 0&&C.value===se||xe)&&(te(H),xe&&(we.current=!0))},[C.value]),Y=S.useCallback(()=>I==null?void 0:I.focus(),[I]),Z=S.useCallback((H,se,ce)=>{const xe=!we.current&&!ce;(C.value!==void 0&&C.value===se||xe)&&me(H)},[C.value]),_e=s==="popper"?lf:z_,ne=_e===lf?{side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:w,collisionPadding:x,sticky:E,hideWhenDetached:_,avoidCollisions:k}:{};return d.jsx(F_,{scope:n,content:I,viewport:$,onViewportChange:V,itemRefCallback:U,selectedItem:z,onItemLeave:Y,itemTextRefCallback:Z,focusSelectedItem:ee,selectedItemText:fe,position:s,isPositioned:ve,searchRef:q,children:d.jsx(gu,{as:Sr,allowPinchZoom:!0,children:d.jsx(ou,{asChild:!0,trapped:C.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:de(o,H=>{var se;(se=C.trigger)==null||se.focus({preventScroll:!0}),H.preventDefault()}),children:d.jsx(iu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:d.jsx(_e,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:H=>H.preventDefault(),...T,...ne,onPlaced:()=>ye(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:de(T.onKeyDown,H=>{const se=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!se&&H.key.length===1&&N(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let xe=ge().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(H.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Ae=H.target,Pe=xe.indexOf(Ae);xe=xe.slice(Pe+1)}setTimeout(()=>K(xe)),H.preventDefault()}})})})})})})});B_.displayName=TN;var CN="SelectItemAlignedPosition",z_=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...o}=t,a=Ss(hi,n),c=Es(hi,n),[h,f]=S.useState(null),[m,y]=S.useState(null),g=Ve(e,B=>y(B)),w=_u(n),x=S.useRef(!1),E=S.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:T,focusSelectedItem:C}=c,I=S.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&_&&k&&T){const B=a.trigger.getBoundingClientRect(),z=m.getBoundingClientRect(),te=a.valueNode.getBoundingClientRect(),fe=T.getBoundingClientRect();if(a.dir!=="rtl"){const Ae=fe.left-z.left,Pe=te.left-Ae,ut=B.left-Pe,_t=B.width+ut,Vn=Math.max(_t,z.width),En=window.innerWidth-jn,Lt=ry(Pe,[jn,Math.max(jn,En-Vn)]);h.style.minWidth=_t+"px",h.style.left=Lt+"px"}else{const Ae=z.right-fe.right,Pe=window.innerWidth-te.right-Ae,ut=window.innerWidth-B.right-Pe,_t=B.width+ut,Vn=Math.max(_t,z.width),En=window.innerWidth-jn,Lt=ry(Pe,[jn,Math.max(jn,En-Vn)]);h.style.minWidth=_t+"px",h.style.right=Lt+"px"}const me=w(),ge=window.innerHeight-jn*2,ve=_.scrollHeight,ye=window.getComputedStyle(m),we=parseInt(ye.borderTopWidth,10),K=parseInt(ye.paddingTop,10),ee=parseInt(ye.borderBottomWidth,10),O=parseInt(ye.paddingBottom,10),F=we+K+ve+O+ee,q=Math.min(k.offsetHeight*5,F),N=window.getComputedStyle(_),U=parseInt(N.paddingTop,10),Y=parseInt(N.paddingBottom,10),Z=B.top+B.height/2-jn,_e=ge-Z,ne=k.offsetHeight/2,H=k.offsetTop+ne,se=we+K+H,ce=F-se;if(se<=Z){const Ae=me.length>0&&k===me[me.length-1].ref.current;h.style.bottom="0px";const Pe=m.clientHeight-_.offsetTop-_.offsetHeight,ut=Math.max(_e,ne+(Ae?Y:0)+Pe+ee),_t=se+ut;h.style.height=_t+"px"}else{const Ae=me.length>0&&k===me[0].ref.current;h.style.top="0px";const ut=Math.max(Z,we+_.offsetTop+(Ae?U:0)+ne)+ce;h.style.height=ut+"px",_.scrollTop=se-Z+_.offsetTop}h.style.margin=`${jn}px 0`,h.style.minHeight=q+"px",h.style.maxHeight=ge+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[w,a.trigger,a.valueNode,h,m,_,k,T,a.dir,s]);Bt(()=>I(),[I]);const[j,$]=S.useState();Bt(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const V=S.useCallback(B=>{B&&E.current===!0&&(I(),C==null||C(),E.current=!1)},[I,C]);return d.jsx(IN,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:x,onScrollButtonChange:V,children:d.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:d.jsx(Ne.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});z_.displayName=CN;var RN="SelectPopperPosition",lf=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=jn,...a}=t,c=xu(n);return d.jsx(d0,{...c,...a,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lf.displayName=RN;var[IN,lp]=ko(hi,{}),cf="SelectViewport",V_=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...o}=t,a=Es(cf,n),c=lp(cf,n),h=Ve(e,a.onViewportChange),f=S.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(wu.Slot,{scope:n,children:d.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:de(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=c;if(w!=null&&w.current&&g){const x=Math.abs(f.current-y.scrollTop);if(x>0){const E=window.innerHeight-jn*2,_=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),T=Math.max(_,k);if(T<E){const C=T+x,I=Math.min(E,C),j=C-I;g.style.height=I+"px",g.style.bottom==="0px"&&(y.scrollTop=j>0?j:0,g.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});V_.displayName=cf;var H_="SelectGroup",[NN,AN]=ko(H_),PN=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=Zn();return d.jsx(NN,{scope:n,id:o,children:d.jsx(Ne.div,{role:"group","aria-labelledby":o,...s,ref:e})})});PN.displayName=H_;var W_="SelectLabel",jN=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=AN(W_,n);return d.jsx(Ne.div,{id:o.id,...s,ref:e})});jN.displayName=W_;var Hc="SelectItem",[ON,q_]=ko(Hc),K_=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:a,...c}=t,h=Ss(Hc,n),f=Es(Hc,n),m=h.value===s,[y,g]=S.useState(a??""),[w,x]=S.useState(!1),E=Ve(e,C=>{var I;return(I=f.itemRefCallback)==null?void 0:I.call(f,C,s,o)}),_=Zn(),k=S.useRef("touch"),T=()=>{o||(h.onValueChange(s),h.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(ON,{scope:n,value:s,disabled:o,textId:_,isSelected:m,onItemTextChange:S.useCallback(C=>{g(I=>I||((C==null?void 0:C.textContent)??"").trim())},[]),children:d.jsx(wu.ItemSlot,{scope:n,value:s,disabled:o,textValue:y,children:d.jsx(Ne.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:E,onFocus:de(c.onFocus,()=>x(!0)),onBlur:de(c.onBlur,()=>x(!1)),onClick:de(c.onClick,()=>{k.current!=="mouse"&&T()}),onPointerUp:de(c.onPointerUp,()=>{k.current==="mouse"&&T()}),onPointerDown:de(c.onPointerDown,C=>{k.current=C.pointerType}),onPointerMove:de(c.onPointerMove,C=>{var I;k.current=C.pointerType,o?(I=f.onItemLeave)==null||I.call(f):k.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(c.onPointerLeave,C=>{var I;C.currentTarget===document.activeElement&&((I=f.onItemLeave)==null||I.call(f))}),onKeyDown:de(c.onKeyDown,C=>{var j;((j=f.searchRef)==null?void 0:j.current)!==""&&C.key===" "||(wN.includes(C.key)&&T(),C.key===" "&&C.preventDefault())})})})})});K_.displayName=Hc;var ya="SelectItemText",G_=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,...a}=t,c=Ss(ya,n),h=Es(ya,n),f=q_(ya,n),m=SN(ya,n),[y,g]=S.useState(null),w=Ve(e,T=>g(T),f.onItemTextChange,T=>{var C;return(C=h.itemTextRefCallback)==null?void 0:C.call(h,T,f.value,f.disabled)}),x=y==null?void 0:y.textContent,E=S.useMemo(()=>d.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=m;return Bt(()=>(_(E),()=>k(E)),[_,k,E]),d.jsxs(d.Fragment,{children:[d.jsx(Ne.span,{id:f.textId,...a,ref:w}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Fa.createPortal(a.children,c.valueNode):null]})});G_.displayName=ya;var J_="SelectItemIndicator",Y_=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return q_(J_,n).isSelected?d.jsx(Ne.span,{"aria-hidden":!0,...s,ref:e}):null});Y_.displayName=J_;var uf="SelectScrollUpButton",X_=S.forwardRef((t,e)=>{const n=Es(uf,t.__scopeSelect),s=lp(uf,t.__scopeSelect),[o,a]=S.useState(!1),c=Ve(e,s.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollTop>0;a(m)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?d.jsx(Z_,{...t,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});X_.displayName=uf;var df="SelectScrollDownButton",Q_=S.forwardRef((t,e)=>{const n=Es(df,t.__scopeSelect),s=lp(df,t.__scopeSelect),[o,a]=S.useState(!1),c=Ve(e,s.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;a(y)};const f=n.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?d.jsx(Z_,{...t,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=n;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});Q_.displayName=df;var Z_=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=t,a=Es("SelectScrollButton",n),c=S.useRef(null),h=_u(n),f=S.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),Bt(()=>{var y;const m=h().find(g=>g.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),d.jsx(Ne.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:de(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:de(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:de(o.onPointerLeave,()=>{f()})})}),DN="SelectSeparator",MN=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return d.jsx(Ne.div,{"aria-hidden":!0,...s,ref:e})});MN.displayName=DN;var hf="SelectArrow",LN=S.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=xu(n),a=Ss(hf,n),c=Es(hf,n);return a.open&&c.position==="popper"?d.jsx(h0,{...o,...s,ref:e}):null});LN.displayName=hf;function ex(t){return t===""||t===void 0}var tx=S.forwardRef((t,e)=>{const{value:n,...s}=t,o=S.useRef(null),a=Ve(e,o),c=N_(n);return S.useEffect(()=>{const h=o.current,f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==n&&y){const g=new Event("change",{bubbles:!0});y.call(h,n),h.dispatchEvent(g)}},[c,n]),d.jsx(A_,{asChild:!0,children:d.jsx("select",{...s,ref:a,defaultValue:n})})});tx.displayName="BubbleSelect";function nx(t){const e=Sn(t),n=S.useRef(""),s=S.useRef(0),o=S.useCallback(c=>{const h=n.current+c;e(h),(function f(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,a]}function rx(t,e,n){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=UN(t,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function UN(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var $N=P_,FN=O_,BN=M_,zN=L_,VN=U_,HN=$_,WN=V_,qN=K_,KN=G_,GN=Y_,JN=X_,YN=Q_;function si({...t}){return d.jsx($N,{"data-slot":"select",...t})}function ii({...t}){return d.jsx(BN,{"data-slot":"select-value",...t})}function oi({className:t,size:e="default",children:n,...s}){return d.jsxs(FN,{"data-slot":"select-trigger","data-size":e,className:Ie("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,d.jsx(zN,{asChild:!0,children:d.jsx(yw,{className:"size-4 opacity-50"})})]})}function ai({className:t,children:e,position:n="popper",...s}){return d.jsx(VN,{children:d.jsxs(HN,{"data-slot":"select-content",className:Ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[d.jsx(XN,{}),d.jsx(WN,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(QN,{})]})})}function Be({className:t,children:e,...n}){return d.jsxs(qN,{"data-slot":"select-item",className:Ie("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(GN,{children:d.jsx(vw,{className:"size-4"})})}),d.jsx(KN,{children:e})]})}function XN({className:t,...e}){return d.jsx(JN,{"data-slot":"select-scroll-up-button",className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(yk,{className:"size-4"})})}function QN({className:t,...e}){return d.jsx(YN,{"data-slot":"select-scroll-down-button",className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(yw,{className:"size-4"})})}function et({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function ot({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function at({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",t),...e})}function yr({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",t),...e})}function lt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",t),...e})}function ZN({className:t,...e}){return d.jsx("div",{"data-slot":"card-footer",className:Ie("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}function eA({composition:t,onAddToCart:e,showActions:n=!0}){const s=o=>{switch(o){case"Easy":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d.jsxs(et,{className:"hover:shadow-lg transition-shadow",children:[d.jsxs(ot,{children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx(Wk,{className:"size-8 text-blue-600"}),d.jsx(co,{className:s(t.difficulty),children:t.difficulty})]}),d.jsx(at,{className:"text-xl",children:t.title}),d.jsxs("p",{className:"text-sm text-gray-600",children:["by ",t.composerName]})]}),d.jsxs(lt,{className:"space-y-3",children:[d.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Lf,{className:"size-4"}),d.jsx("span",{children:t.voiceParts.join(", ")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(xk,{className:"size-4"}),d.jsx("span",{children:t.duration})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Mk,{className:"size-4"}),d.jsxs("span",{children:[t.language,"  ",t.accompaniment]})]})]})]}),d.jsxs(ZN,{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",t.price.toFixed(2)]})}),n&&d.jsxs(Ue,{onClick:()=>e(t),children:[d.jsx(_w,{className:"size-4 mr-2"}),"Add to Cart"]})]})]})}const ls=[{id:"1",title:"Ave Maria",composerId:"2",composerName:"Sarah Johnson",price:29.99,description:"A beautiful setting of the traditional Ave Maria for SATB choir with piano accompaniment.",voiceParts:["Soprano","Alto","Tenor","Bass"],difficulty:"Intermediate",duration:"4:30",language:"Latin",accompaniment:"Piano",dateAdded:"2026-01-15"},{id:"2",title:"Lux Aeterna",composerId:"3",composerName:"Michael Chen",price:34.99,description:"An ethereal choral work exploring themes of eternal light. Perfect for concert performances.",voiceParts:["Soprano","Alto","Tenor","Bass"],difficulty:"Advanced",duration:"6:15",language:"Latin",accompaniment:"A cappella",dateAdded:"2026-01-10"},{id:"3",title:"Morning Has Broken",composerId:"2",composerName:"Sarah Johnson",price:24.99,description:"A joyful arrangement of this beloved hymn for three-part choir.",voiceParts:["Soprano","Alto","Bass"],difficulty:"Easy",duration:"3:45",language:"English",accompaniment:"Organ",dateAdded:"2026-01-12"},{id:"4",title:"O Magnum Mysterium",composerId:"4",composerName:"Emily Rodriguez",price:39.99,description:"A contemporary take on this Christmas classic with rich harmonies and dynamic contrasts.",voiceParts:["Soprano I","Soprano II","Alto","Tenor","Bass"],difficulty:"Advanced",duration:"5:20",language:"Latin",accompaniment:"A cappella",dateAdded:"2026-01-08"},{id:"5",title:"Sing We Now of Christmas",composerId:"3",composerName:"Michael Chen",price:19.99,description:"A festive arrangement perfect for community choirs and church groups.",voiceParts:["Soprano","Alto","Tenor","Bass"],difficulty:"Easy",duration:"3:00",language:"English",accompaniment:"Piano",dateAdded:"2026-01-14"},{id:"6",title:"The River Sings",composerId:"4",composerName:"Emily Rodriguez",price:44.99,description:"An original composition inspired by nature, featuring flowing melodic lines and water imagery.",voiceParts:["Soprano","Alto","Tenor","Bass"],difficulty:"Intermediate",duration:"7:10",language:"English",accompaniment:"String Quartet",dateAdded:"2026-01-05"}],qs=[{id:"1",name:"John Doe",email:"john@example.com",role:"buyer"},{id:"2",name:"Sarah Johnson",email:"sarah@example.com",role:"composer"},{id:"3",name:"Michael Chen",email:"michael@example.com",role:"composer"},{id:"4",name:"Emily Rodriguez",email:"emily@example.com",role:"composer"},{id:"5",name:"Admin User",email:"admin@example.com",role:"admin"},{id:"6",name:"Jane Smith",email:"jane@example.com",role:"buyer"},{id:"7",name:"Robert Wilson",email:"robert@example.com",role:"buyer"}],cs=[{id:"p1",compositionId:"1",buyerId:"1",purchaseDate:"2026-01-16",price:29.99},{id:"p2",compositionId:"3",buyerId:"1",purchaseDate:"2026-01-17",price:24.99},{id:"p3",compositionId:"2",buyerId:"6",purchaseDate:"2026-01-15",price:34.99},{id:"p4",compositionId:"4",buyerId:"6",purchaseDate:"2026-01-14",price:39.99},{id:"p5",compositionId:"5",buyerId:"7",purchaseDate:"2026-01-18",price:19.99}];function tA({currentUser:t,onAddToCart:e}){const[n,s]=S.useState(""),[o,a]=S.useState("all"),[c,h]=S.useState("all"),[f,m]=S.useState("all"),y=ls.filter(g=>{const w=g.title.toLowerCase().includes(n.toLowerCase())||g.composerName.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),x=o==="all"||g.difficulty===o,E=c==="all"||g.language===c,_=f==="all"||g.accompaniment===f;return w&&x&&E&&_});return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Discover Choral Music"}),d.jsx("p",{className:"text-gray-600",children:"Browse and purchase high-quality choral compositions from talented composers worldwide"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border mb-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"lg:col-span-2 relative",children:[d.jsx(Jk,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),d.jsx(ni,{placeholder:"Search compositions...",value:n,onChange:g=>s(g.target.value),className:"pl-10"})]}),d.jsxs(si,{value:o,onValueChange:a,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Difficulty"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"all",children:"All Difficulties"}),d.jsx(Be,{value:"Easy",children:"Easy"}),d.jsx(Be,{value:"Intermediate",children:"Intermediate"}),d.jsx(Be,{value:"Advanced",children:"Advanced"})]})]}),d.jsxs(si,{value:c,onValueChange:h,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Language"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"all",children:"All Languages"}),d.jsx(Be,{value:"English",children:"English"}),d.jsx(Be,{value:"Latin",children:"Latin"}),d.jsx(Be,{value:"German",children:"German"}),d.jsx(Be,{value:"French",children:"French"})]})]}),d.jsxs(si,{value:f,onValueChange:m,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Accompaniment"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"all",children:"All Types"}),d.jsx(Be,{value:"A cappella",children:"A cappella"}),d.jsx(Be,{value:"Piano",children:"Piano"}),d.jsx(Be,{value:"Organ",children:"Organ"}),d.jsx(Be,{value:"String Quartet",children:"String Quartet"})]})]})]}),(n||o!=="all"||c!=="all"||f!=="all")&&d.jsx("div",{className:"mt-4",children:d.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>{s(""),a("all"),h("all"),m("all")},children:[d.jsx(Nk,{className:"size-4 mr-2"}),"Clear Filters"]})})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{className:"text-gray-600",children:[y.length," composition",y.length!==1?"s":""," found"]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(g=>d.jsx(eA,{composition:g,onAddToCart:e},g.id))}),y.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-500",children:"No compositions found matching your criteria."}),d.jsx(Ue,{variant:"link",onClick:()=>{s(""),a("all"),h("all"),m("all")},children:"Clear all filters"})]})]})}function Xs({className:t,...e}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:Ie("w-full caption-bottom text-sm",t),...e})})}function Qs({className:t,...e}){return d.jsx("thead",{"data-slot":"table-header",className:Ie("[&_tr]:border-b",t),...e})}function Zs({className:t,...e}){return d.jsx("tbody",{"data-slot":"table-body",className:Ie("[&_tr:last-child]:border-0",t),...e})}function Yt({className:t,...e}){return d.jsx("tr",{"data-slot":"table-row",className:Ie("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function De({className:t,...e}){return d.jsx("th",{"data-slot":"table-head",className:Ie("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Me({className:t,...e}){return d.jsx("td",{"data-slot":"table-cell",className:Ie("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function nA({...t}){return d.jsx(b_,{"data-slot":"dialog",...t})}function rA({...t}){return d.jsx(S_,{"data-slot":"dialog-trigger",...t})}function sA({...t}){return d.jsx(E_,{"data-slot":"dialog-portal",...t})}function iA({className:t,...e}){return d.jsx(k_,{"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function oA({className:t,children:e,...n}){return d.jsxs(sA,{"data-slot":"dialog-portal",children:[d.jsx(iA,{}),d.jsxs(T_,{"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,d.jsxs(I_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(bw,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function aA({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",t),...e})}function lA({className:t,...e}){return d.jsx(C_,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",t),...e})}function cA({className:t,...e}){return d.jsx(R_,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",t),...e})}var uA="Label",sx=S.forwardRef((t,e)=>d.jsx(Ne.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sx.displayName=uA;var dA=sx;function _n({className:t,...e}){return d.jsx(dA,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function hA({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var cp="Checkbox",[fA]=Rr(cp),[pA,mA]=fA(cp),ix=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:a,required:c,disabled:h,value:f="on",onCheckedChange:m,form:y,...g}=t,[w,x]=S.useState(null),E=Ve(e,j=>x(j)),_=S.useRef(!1),k=w?y||!!w.closest("form"):!0,[T=!1,C]=ci({prop:o,defaultProp:a,onChange:m}),I=S.useRef(T);return S.useEffect(()=>{const j=w==null?void 0:w.form;if(j){const $=()=>C(I.current);return j.addEventListener("reset",$),()=>j.removeEventListener("reset",$)}},[w,C]),d.jsxs(pA,{scope:n,state:T,disabled:h,children:[d.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":vs(T)?"mixed":T,"aria-required":c,"data-state":lx(T),"data-disabled":h?"":void 0,disabled:h,value:f,...g,ref:E,onKeyDown:de(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:de(t.onClick,j=>{C($=>vs($)?!0:!$),k&&(_.current=j.isPropagationStopped(),_.current||j.stopPropagation())})}),k&&d.jsx(gA,{control:w,bubbles:!_.current,name:s,value:f,checked:T,required:c,disabled:h,form:y,style:{transform:"translateX(-100%)"},defaultChecked:vs(a)?!1:a})]})});ix.displayName=cp;var ox="CheckboxIndicator",ax=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...o}=t,a=mA(ox,n);return d.jsx(ir,{present:s||vs(a.state)||a.state===!0,children:d.jsx(Ne.span,{"data-state":lx(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});ax.displayName=ox;var gA=t=>{const{control:e,checked:n,bubbles:s=!0,defaultChecked:o,...a}=t,c=S.useRef(null),h=N_(n),f=Zw(e);S.useEffect(()=>{const y=c.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&x){const E=new Event("click",{bubbles:s});y.indeterminate=vs(n),x.call(y,vs(n)?!1:n),y.dispatchEvent(E)}},[h,n,s]);const m=S.useRef(vs(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??m.current,...a,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vs(t){return t==="indeterminate"}function lx(t){return vs(t)?"indeterminate":t?"checked":"unchecked"}var vA=ix,yA=ax;function wA({className:t,...e}){return d.jsx(vA,{"data-slot":"checkbox",className:Ie("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(yA,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:d.jsx(vw,{className:"size-3.5"})})})}const _A=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xA=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,h=c?t[o+1]:0,f=o+2<t.length,m=f?t[o+2]:0,y=a>>2,g=(a&3)<<4|h>>4;let w=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(w=64)),s.push(n[y],n[g],n[w],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const g=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||m==null||g==null)throw new bA;const w=a<<2|h>>4;if(s.push(w),m!==64){const x=h<<4&240|m>>2;if(s.push(x),g!==64){const E=m<<6&192|g;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(t){const e=cx(t);return ux.encodeByteArray(e,!0)},Wc=function(t){return SA(t).replace(/\./g,"")},dx=function(t){try{return ux.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=()=>EA().__FIREBASE_DEFAULTS__,TA=()=>{if(typeof process>"u"||typeof sy>"u")return;const t=sy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dx(t[1]);return e&&JSON.parse(e)},up=()=>{try{return _A()||kA()||TA()||CA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hx=t=>{var e,n;return(n=(e=up())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RA=t=>{const e=hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fx=()=>{var t;return(t=up())==null?void 0:t.config},px=t=>{var e;return(e=up())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IA=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(c)),""].join(".")}const ba={};function AA(){const t={prod:[],emulator:[]};for(const e of Object.keys(ba))ba[e]?t.emulator.push(e):t.prod.push(e);return t}function PA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iy=!1;function gx(t,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||ba[t]===e||ba[t]||iy)return;ba[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",a=AA().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iy=!0,c()},w}function y(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=PA(s),x=n("text"),E=document.getElementById(x)||document.createElement("span"),_=n("learnmore"),k=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),C=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const I=w.element;h(I),y(k,_);const j=m();f(C,T),I.append(C,E,k,j),document.body.appendChild(I)}a?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LA(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="FirebaseError";class Ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FA,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?BA(a,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ir(o,h,s)}}function BA(t,e){return t.replace(zA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zA=/\{\$([^}]+)}/g;function VA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],c=e[o];if(oy(a)&&oy(c)){if(!yo(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function oy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function _a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HA(t,e){const n=new WA(t,e);return n.subscribe.bind(n)}class WA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Th),o.error===void 0&&(o.error=Th),o.complete===void 0&&(o.complete=Th);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JA(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(t){return t===Js?void 0:t}function JA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const XA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},QA=He.INFO,ZA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},eP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=ZA[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vx{constructor(e){this.name=e,this._logLevel=QA,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const tP=(t,e)=>e.some(n=>t instanceof n);let ay,ly;function nP(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,ff=new WeakMap,wx=new WeakMap,Ch=new WeakMap,dp=new WeakMap;function sP(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(ys(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),dp.set(e,t),e}function iP(t){if(ff.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});ff.set(t,e)}let pf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ff.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oP(t){pf=t(pf)}function aP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Rh(this),e,...n);return wx.set(s,e.sort?e.sort():[e]),ys(s)}:rP().includes(t)?function(...e){return t.apply(Rh(this),e),ys(yx.get(this))}:function(...e){return ys(t.apply(Rh(this),e))}}function lP(t){return typeof t=="function"?aP(t):(t instanceof IDBTransaction&&iP(t),tP(t,nP())?new Proxy(t,pf):t)}function ys(t){if(t instanceof IDBRequest)return sP(t);if(Ch.has(t))return Ch.get(t);const e=lP(t);return e!==t&&(Ch.set(t,e),dp.set(e,t)),e}const Rh=t=>dp.get(t);function cP(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),h=ys(c);return s&&c.addEventListener("upgradeneeded",f=>{s(ys(c.result),f.oldVersion,f.newVersion,ys(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const uP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],Ih=new Map;function cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ih.get(e))return Ih.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uP.includes(n)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&f.done]))[0]};return Ih.set(e,a),a}oP(t=>({...t,get:(e,n,s)=>cy(e,n)||t.get(e,n,s),has:(e,n)=>!!cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mf="@firebase/app",uy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new vx("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",vP="@firebase/app-check-compat",yP="@firebase/app-check",wP="@firebase/auth",_P="@firebase/auth-compat",xP="@firebase/database",bP="@firebase/data-connect",SP="@firebase/database-compat",EP="@firebase/functions",kP="@firebase/functions-compat",TP="@firebase/installations",CP="@firebase/installations-compat",RP="@firebase/messaging",IP="@firebase/messaging-compat",NP="@firebase/performance",AP="@firebase/performance-compat",PP="@firebase/remote-config",jP="@firebase/remote-config-compat",OP="@firebase/storage",DP="@firebase/storage-compat",MP="@firebase/firestore",LP="@firebase/ai",UP="@firebase/firestore-compat",$P="firebase",FP="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="[DEFAULT]",BP={[mf]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[yP]:"fire-app-check",[vP]:"fire-app-check-compat",[wP]:"fire-auth",[_P]:"fire-auth-compat",[xP]:"fire-rtdb",[bP]:"fire-data-connect",[SP]:"fire-rtdb-compat",[EP]:"fire-fn",[kP]:"fire-fn-compat",[TP]:"fire-iid",[CP]:"fire-iid-compat",[RP]:"fire-fcm",[IP]:"fire-fcm-compat",[NP]:"fire-perf",[AP]:"fire-perf-compat",[PP]:"fire-rc",[jP]:"fire-rc-compat",[OP]:"fire-gcs",[DP]:"fire-gcs-compat",[MP]:"fire-fst",[UP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,zP=new Map,vf=new Map;function dy(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wo(t){const e=t.name;if(vf.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,t);for(const n of qc.values())dy(n,t);for(const n of zP.values())dy(n,t);return!0}function hp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Wa("app","Firebase",VP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=FP;function _x(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:gf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(n||(n=fx()),!n)throw ws.create("no-options");const a=qc.get(o);if(a){if(yo(n,a.options)&&yo(s,a.config))return a;throw ws.create("duplicate-app",{appName:o})}const c=new YA(o);for(const f of vf.values())c.addComponent(f);const h=new HP(n,s,c);return qc.set(o,h),h}function xx(t=gf){const e=qc.get(t);if(!e&&t===gf&&fx())return _x();if(!e)throw ws.create("no-app",{appName:t});return e}function _s(t,e,n){let s=BP[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(c.join(" "));return}wo(new fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="firebase-heartbeat-database",qP=1,Aa="firebase-heartbeat-store";let Nh=null;function bx(){return Nh||(Nh=cP(WP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),Nh}async function KP(t){try{const n=(await bx()).transaction(Aa),s=await n.objectStore(Aa).get(Sx(t));return await n.done,s}catch(e){if(e instanceof Ir)Tr.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function hy(t,e){try{const s=(await bx()).transaction(Aa,"readwrite");await s.objectStore(Aa).put(e,Sx(t)),await s.done}catch(n){if(n instanceof Ir)Tr.warn(n.message);else{const s=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function Sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,JP=30;class YP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>JP){const c=ZP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fy(),{heartbeatsToSend:s,unsentEntries:o}=XP(this._heartbeatsCache.heartbeats),a=Wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Tr.warn(n),""}}}function fy(){return new Date().toISOString().substring(0,10)}function XP(t,e=GP){const n=[];let s=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),py(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),py(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function py(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}function ZP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){wo(new fi("platform-logger",e=>new hP(e),"PRIVATE")),wo(new fi("heartbeat",e=>new YP(e),"PRIVATE")),_s(mf,uy,t),_s(mf,uy,"esm2020"),_s("fire-js","")}ej("");var tj="firebase",nj="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(tj,nj,"app");function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rj=Ex,kx=new Wa("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new vx("@firebase/auth");function sj(t,...e){Kc.logLevel<=He.WARN&&Kc.warn(`Auth (${Co}): ${t}`,...e)}function Ac(t,...e){Kc.logLevel<=He.ERROR&&Kc.error(`Auth (${Co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw fp(t,...e)}function tr(t,...e){return fp(t,...e)}function Tx(t,e,n){const s={...rj(),[e]:n};return new Wa("auth","Firebase",s).create(e,{appName:t.name})}function xr(t){return Tx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return kx.create(t,...e)}function Te(t,e,...n){if(!t)throw fp(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Cr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ij(){return my()==="http:"||my()==="https:"}function my(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ij()||DA()||"connection"in navigator)?navigator.onLine:!0}function aj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=jA()||MA()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uj=new Ka(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ts(t,e,n,s,o={}){return Rx(t,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const h=qa({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...a};return OA()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&To(t.emulatorConfig.host)&&(m.credentials="include"),Cx.fetch()(await Ix(t,t.config.apiHost,n,h),m)})}async function Rx(t,e,n){t._canInitEmulator=!1;const s={...lj,...e};try{const o=new hj(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw wc(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw wc(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw wc(t,"user-disabled",c);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Tx(t,y,m);Fn(t,y)}}catch(o){if(o instanceof Ir)throw o;Fn(t,"network-request-failed",{message:String(o)})}}async function Ga(t,e,n,s,o={}){const a=await Ts(t,e,n,s,o);return"mfaPendingCredential"in a&&Fn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ix(t,e,n,s){const o=`${e}${n}?${s}`,a=t,c=a.config.emulator?pp(t.config,o):`${t.config.apiScheme}://${o}`;return cj.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function dj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),uj.get())})}}function wc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=tr(t,e,s);return o.customData._tokenResponse=n,o}function gy(t){return t!==void 0&&t.enterprise!==void 0}class fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pj(t,e){return Ts(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function Gc(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gj(t,e=!1){const n=zn(t),s=await n.getIdToken(e),o=mp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:Sa(Ah(o.auth_time)),issuedAtTime:Sa(Ah(o.iat)),expirationTime:Sa(Ah(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ah(t){return Number(t)*1e3}function mp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=dx(n);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vy(t){const e=mp(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ir&&vj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sa(this.lastLoginAt),this.creationTime=Sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){var g;const e=t.auth,n=await t.getIdToken(),s=await Pa(t,Gc(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=(g=o.providerUserInfo)!=null&&g.length?Nx(o.providerUserInfo):[],c=_j(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new wf(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function wj(t){const e=zn(t);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _j(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Nx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){const n=await Rx(t,{},async()=>{const s=qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await Ix(t,o,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return t.emulatorConfig&&To(t.emulatorConfig.host)&&(f.credentials="include"),Cx.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bj(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=vy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:a}=await xj(e,n);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:a}=n,c=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gj(this,e)}reload(){return wj(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Jc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Pa(this,mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:x,providerData:E,stsTokenManager:_}=n;Te(g&&_,e,"internal-error");const k=fo.fromJSON(this.name,_);Te(typeof g=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof x=="boolean",e,"internal-error"),ss(a,e.name),ss(c,e.name),ss(h,e.name),ss(f,e.name),ss(m,e.name),ss(y,e.name);const T=new Mn({uid:g,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:y});return E&&Array.isArray(E)&&(T.providerData=E.map(C=>({...C}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const a=new Mn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Nx(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new fo;h.updateFromIdToken(s);const f=new Mn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function _r(t){Cr(t instanceof Function,"Expected a class definition");let e=yy.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ax.type="NONE";const wy=Ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Pc("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gc(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(_r(wy),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||_r(wy);const c=Pc(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(c);if(y){let g;if(typeof y=="string"){const w=await Gc(e,{idToken:y}).catch(()=>{});if(!w)break;g=await Mn._fromGetAccountInfoResponse(e,w,y)}else g=Mn._fromJSON(e,y);m!==a&&(h=g),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new po(a,e,s):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new po(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lx(e))return"Blackberry";if(Ux(e))return"Webos";if(jx(e))return"Safari";if((e.includes("chrome/")||Ox(e))&&!e.includes("edge/"))return"Chrome";if(Mx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Px(t=zt()){return/firefox\//i.test(t)}function jx(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ox(t=zt()){return/crios\//i.test(t)}function Dx(t=zt()){return/iemobile/i.test(t)}function Mx(t=zt()){return/android/i.test(t)}function Lx(t=zt()){return/blackberry/i.test(t)}function Ux(t=zt()){return/webos/i.test(t)}function gp(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sj(t=zt()){var e;return gp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ej(){return LA()&&document.documentMode===10}function $x(t=zt()){return gp(t)||Mx(t)||Ux(t)||Lx(t)||/windows phone/i.test(t)||Dx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e=[]){let n;switch(t){case"Browser":n=_y(zt());break;case"Worker":n=`${_y(zt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=6;class Rj{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Cj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gc(this,{idToken:e}),s=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(a=this.redirectUser)==null?void 0:a._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(xr(this));const n=e?zn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tj(this),n=new Rj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,o);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wi(t){return zn(t)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nj(t){bu=t}function Bx(t){return bu.loadJS(t)}function Aj(){return bu.recaptchaEnterpriseScript}function Pj(){return bu.gapiScript}function jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Oj{constructor(){this.enterprise=new Dj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Dj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Mj="recaptcha-enterprise",zx="NO_RECAPTCHA";class Lj{constructor(e){this.type=Mj,this.auth=wi(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{pj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new fj(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;gy(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(zx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Oj().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(h=>{if(!n&&gy(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Aj();f.length!==0&&(f+=h),Bx(f).then(()=>{o(h,a,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function by(t,e,n,s=!1,o=!1){const a=new Lj(t);let c;if(o)c=zx;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function _f(t,e,n,s,o){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await by(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await by(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){const n=hp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(yo(a,e??{}))return o;Fn(o,"already-initialized")}return n.initialize({options:e})}function $j(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Fj(t,e,n){const s=wi(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=Vx(e),{host:c,port:h}=Bj(e),f=h===null?"":`:${h}`,m={url:`${a}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(yo(m,s.config.emulator)&&yo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,To(c)?(mx(`${a}//${c}${f}`),gx("Auth",!0)):zj()}function Vx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bj(t){const e=Vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:Sy(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:Sy(c)}}}function Sy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function Vj(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(t,e){return Ga(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function qj(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends vp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ja(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ja(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _f(e,n,"signInWithPassword",Hj);case"emailLink":return Wj(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _f(e,s,"signUpPassword",Vj);case"emailLink":return qj(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return Ga(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="http://localhost";class pi extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...a}=n;if(!s||!o)return null;const c=new pi(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:Kj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jj(t){const e=wa(_a(t)).link,n=e?wa(_a(e)).deep_link_id:null,s=wa(_a(t)).deep_link_id;return(s?wa(_a(s)).link:null)||s||n||e||t}class yp{constructor(e){const n=wa(_a(e)),s=n.apiKey??null,o=n.oobCode??null,a=Gj(n.mode??null);Te(s&&o&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Jj(e);try{return new yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yp.parseLink(n);return Te(s,"argument-error"),ja._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Hx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ja{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ja{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Ja{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return Ga(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const a=await Mn._fromIdTokenResponse(e,s,o),c=Ey(s);return new mi({user:a,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Ey(s);return new mi({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Ey(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Ir{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Yc(e,n,s,o)}}function Wx(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(t,a,e,s):a})}async function Xj(t,e,n=!1){const s=await Pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e,n=!1){const{auth:s}=t;if(xn(s.app))return Promise.reject(xr(s));const o="reauthenticate";try{const a=await Pa(t,Wx(s,o,e,t),n);Te(a.idToken,s,"internal-error");const c=mp(a.idToken);Te(c,s,"internal-error");const{sub:h}=c;return Te(t.uid===h,s,"user-mismatch"),mi._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e,n=!1){if(xn(t.app))return Promise.reject(xr(t));const s="signIn",o=await Wx(t,s,e),a=await mi._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(a.user),a}async function Zj(t,e){return qx(wi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t){const e=wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ky(t,e,n){if(xn(t.app))return Promise.reject(xr(t));const s=wi(t),c=await _f(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yj).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Kx(t),f}),h=await mi._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function Ty(t,e,n){return xn(t.app)?Promise.reject(xr(t)):Zj(zn(t),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Kx(t),s})}function eO(t,e,n,s){return zn(t).onIdTokenChanged(e,n,s)}function tO(t,e,n){return zn(t).beforeAuthStateChanged(e,n)}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1e3,rO=10;class Jx extends Gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$x(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);Ej()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jx.type="LOCAL";const sO=Jx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Xx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Su(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async m=>m(n.origin,a)),f=await iO(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Su.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const m=wp("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(g){const w=g;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(w.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function aO(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function lO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uO(){return Qx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",dO=1,Qc="firebaseLocalStorage",eb="fbase_key";class Ya{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eu(t,e){return t.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function hO(){const t=indexedDB.deleteDatabase(Zx);return new Ya(t).toPromise()}function xf(){const t=indexedDB.open(Zx,dO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Qc,{keyPath:eb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Qc)?e(s):(s.close(),await hO(),e(await xf()))})})}async function Cy(t,e,n){const s=Eu(t,!0).put({[eb]:e,value:n});return new Ya(s).toPromise()}async function fO(t,e){const n=Eu(t,!1).get(e),s=await new Ya(n).toPromise();return s===void 0?null:s.value}function Ry(t,e){const n=Eu(t,!0).delete(e);return new Ya(n).toPromise()}const pO=800,mO=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>mO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(uO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await lO(),!this.activeServiceWorker)return;this.sender=new oO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xf();return await Cy(e,Xc,"1"),await Ry(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ry(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Eu(o,!1).getAll();return new Ya(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const gO=tb;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e){return e?_r(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yO(t){return qx(t.auth,new _p(t),t.bypassAuthState)}function wO(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Qj(n,new _p(t),t.bypassAuthState)}async function _O(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Xj(n,new _p(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yO;case"linkViaPopup":case"linkViaRedirect":return _O;case"reauthViaPopup":case"reauthViaRedirect":return wO;default:Fn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Ka(2e3,1e4);class io extends nb{constructor(e,n,s,o,a){super(e,n,o,a),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xO.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="pendingRedirect",jc=new Map;class SO extends nb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const s=await EO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EO(t,e){const n=CO(e),s=TO(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kO(t,e){jc.set(t._key(),e)}function TO(t){return _r(t._redirectPersistence)}function CO(t){return Pc(bO,t.config.apiKey,t.name)}async function RO(t,e,n=!1){if(xn(t.app))return Promise.reject(xr(t));const s=wi(t),o=vO(s,e),c=await new SO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=600*1e3;class NO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rb(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(e))}saveEventToCache(e){this.cachedEventUids.add(Iy(e)),this.lastProcessedEventTime=Date.now()}}function Iy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OO=/^https?/;async function DO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(MO(n))return}catch{}Fn(t,"unauthorized-domain")}function MO(t){const e=yf(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!OO.test(n))return!1;if(jO.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Ka(3e4,6e4);function Ny(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UO(t){return new Promise((e,n)=>{var o,a,c;function s(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),n(tr(t,"network-request-failed"))},timeout:LO.get()})}if((a=(o=nr().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((c=nr().gapi)!=null&&c.load)s();else{const h=jj("iframefcb");return nr()[h]=()=>{gapi.load?s():n(tr(t,"network-request-failed"))},Bx(`${Pj()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function $O(t){return Oc=Oc||UO(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Ka(5e3,15e3),BO="__/auth/iframe",zO="emulator/auth/iframe",VO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pp(e,zO):`https://${t.config.authDomain}/${BO}`,s={apiKey:e.apiKey,appName:t.name,v:Co},o=HO.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${qa(s).slice(1)}`}async function qO(t){const e=await $O(t),n=nr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:WO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VO,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=tr(t,"network-request-failed"),h=nr().setTimeout(()=>{a(c)},FO.get());function f(){nr().clearTimeout(h),o(s)}s.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GO=500,JO=600,YO="_blank",XO="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(t,e,n,s=GO,o=JO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f={...KO,width:s.toString(),height:o.toString(),top:a,left:c},m=zt().toLowerCase();n&&(h=Ox(m)?YO:n),Px(m)&&(e=e||XO,f.scrollbars="yes");const y=Object.entries(f).reduce((w,[x,E])=>`${w}${x}=${E},`,"");if(Sj(m)&&h!=="_self")return ZO(e||"",h),new Ay(null);const g=window.open(e||"",h,y);Te(g,t,"popup-blocked");try{g.focus()}catch{}return new Ay(g)}function ZO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="__/auth/handler",t2="emulator/auth/handler",n2=encodeURIComponent("fac");async function Py(t,e,n,s,o,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(e instanceof Hx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",VA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))c[y]=g}if(e instanceof Ja){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),m=f?`#${n2}=${encodeURIComponent(f)}`:"";return`${r2(t)}?${qa(h).slice(1)}${m}`}function r2({config:t}){return t.emulator?pp(t,t2):`https://${t.authDomain}/${e2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="webStorageSupport";class s2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xx,this._completeRedirectFn=RO,this._overrideRedirectResult=kO}async _openPopup(e,n,s,o){var c;Cr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const a=await Py(e,n,s,yf(),o);return QO(e,a,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const a=await Py(e,n,s,yf(),o);return aO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(Cr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qO(e),s=new NO(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ph,{type:Ph},o=>{var c;const a=(c=o==null?void 0:o[0])==null?void 0:c[Ph];a!==void 0&&n(!!a),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $x()||jx()||gp()}}const i2=s2;var jy="@firebase/auth",Oy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(t){wo(new fi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fx(t)},m=new Ij(s,o,a,f);return $j(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wo(new fi("auth-internal",e=>{const n=wi(e.getProvider("auth").getImmediate());return(s=>new o2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(jy,Oy,a2(t)),_s(jy,Oy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=300,u2=px("authIdTokenMaxAge")||c2;let Dy=null;const d2=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>u2)return;const o=n==null?void 0:n.token;Dy!==o&&(Dy=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function h2(t=xx()){const e=hp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Uj(t,{popupRedirectResolver:i2,persistence:[gO,sO,Xx]}),s=px("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=d2(a.toString());tO(n,c,()=>c(n.currentUser)),eO(n,h=>c(h))}}const o=hx("auth");return o&&Fj(n,`http://${o}`),n}function f2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Nj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const a=tr("internal-error");a.customData=o,n(a)},s.type="text/javascript",s.charset="UTF-8",f2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebasestorage.googleapis.com",ib="storageBucket",p2=120*1e3,m2=600*1e3,g2=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ct=class ob extends Ir{constructor(e,n,s=0){super(jh(e),`Firebase Storage: ${n} (${jh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ob.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function jh(t){return"storage/"+t}function xp(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(Je.UNKNOWN,t)}function v2(t){return new ct(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function y2(t){return new ct(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(Je.UNAUTHENTICATED,t)}function _2(){return new ct(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x2(t){return new ct(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ab(){return new ct(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lb(){return new ct(Je.CANCELED,"User canceled the upload/download.")}function b2(t){return new ct(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function S2(t){return new ct(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E2(){return new ct(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ib+"' property when initializing the app?")}function cb(){return new ct(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function k2(){return new ct(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function T2(){return new ct(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C2(t){return new ct(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bf(t){return new ct(Je.INVALID_ARGUMENT,t)}function ub(){return new ct(Je.APP_DELETED,"The Firebase app was deleted.")}function R2(t){return new ct(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ea(t,e){return new ct(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ga(t){throw new ct(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(s.path==="")return s;throw S2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function a(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function m(j){j.path_=decodeURIComponent(j.path)}const y="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${y}/b/${o}/o${w}`,"i"),E={bucket:1,path:3},_=n===sb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",T=new RegExp(`^https?://${_}/${o}/${k}`,"i"),I=[{regex:h,indices:f,postModify:a},{regex:x,indices:E,postModify:m},{regex:T,indices:{bucket:1,path:2},postModify:m}];for(let j=0;j<I.length;j++){const $=I[j],V=$.regex.exec(e);if(V){const B=V[$.indices.bucket];let z=V[$.indices.path];z||(z=""),s=new cn(B,z),$.postModify(s);break}}if(s==null)throw b2(e);return s}}class I2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e,n){let s=1,o=null,a=null,c=!1,h=0;function f(){return h===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function g(k){o=setTimeout(()=>{o=null,t(x,f())},k)}function w(){a&&clearTimeout(a)}function x(k,...T){if(m){w();return}if(k){w(),y.call(null,k,...T);return}if(f()||c){w(),y.call(null,k,...T);return}s<64&&(s*=2);let I;h===1?(h=2,I=0):I=(s+Math.random())*1e3,g(I)}let E=!1;function _(k){E||(E=!0,w(),!m&&(o!==null?(k||(h=2),clearTimeout(o),g(0)):k||(h=1)))}return g(0),a=setTimeout(()=>{c=!0,_(!0)},n),_}function A2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){return t!==void 0}function j2(t){return typeof t=="function"}function O2(t){return typeof t=="object"&&!Array.isArray(t)}function ku(t){return typeof t=="string"||t instanceof String}function My(t){return bp()&&t instanceof Blob}function bp(){return typeof Blob<"u"}function Ly(t,e,n,s){if(s<e)throw bf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw bf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function db(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(li||(li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,s,o,a,c,h,f,m,y,g,w=!0,x=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=g,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,_)=>{this.resolve_=E,this.reject_=_,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===li.NO_ERROR,f=a.getStatus();if(!h||hb(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===li.ABORT;s(!1,new _c(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new _c(m,a))})},n=(s,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());P2(f)?a(f):a()}catch(f){c(f)}else if(h!==null){const f=xp();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?ub():lb();c(f)}else{const f=ab();c(f)}};this.canceled_?n(!1,new _c(!1,null,!0)):this.backoffId_=N2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function M2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function F2(t,e,n,s,o,a,c=!0,h=!1){const f=db(t.urlParams),m=t.url+f,y=Object.assign({},t.headers);return U2(y,e),M2(y,n),L2(y,a),$2(y,s),new D2(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z2(...t){const e=B2();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(bp())return new Blob(t);throw new ct(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){if(typeof atob>"u")throw C2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Oh{constructor(e,n){this.data=e,this.contentType=n||null}}function W2(t,e){switch(t){case Qn.RAW:return new Oh(fb(e));case Qn.BASE64:case Qn.BASE64URL:return new Oh(pb(t,e));case Qn.DATA_URL:return new Oh(K2(e),G2(e))}throw xp()}function fb(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=s,c=t.charCodeAt(++n);s=65536|(a&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function q2(t){let e;try{e=decodeURIComponent(t)}catch{throw Ea(Qn.DATA_URL,"Malformed data URL.")}return fb(e)}function pb(t,e){switch(t){case Qn.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Ea(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Ea(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H2(e)}catch(o){throw o.message.includes("polyfill")?o:Ea(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class mb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ea(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=J2(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function K2(t){const e=new mb(t);return e.base64?pb(Qn.BASE64,e.rest):q2(e.rest)}function G2(t){return new mb(t).contentType}function J2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){let s=0,o="";My(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(My(this.data_)){const s=this.data_,o=V2(s,e,n);return o===null?null:new ps(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ps(s,!0)}}static getBlob(...e){if(bp()){const n=e.map(s=>s instanceof ps?s.data_:s);return new ps(z2.apply(null,n))}else{const n=e.map(c=>ku(c)?W2(Qn.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let a=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new ps(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){let e;try{e=JSON.parse(t)}catch{return null}return O2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function X2(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function vb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){return e}class Ft{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Q2}}let xc=null;function Z2(t){return!ku(t)||t.length<2?t:vb(t)}function yb(){if(xc)return xc;const t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(a,c){return Z2(c)}const n=new Ft("name");n.xform=e,t.push(n);function s(a,c){return c!==void 0?Number(c):c}const o=new Ft("size");return o.xform=s,t.push(o),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),xc=t,xc}function eD(t,e){function n(){const s=t.bucket,o=t.fullPath,a=new cn(s,o);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function tD(t,e,n){const s={};s.type="file";const o=n.length;for(let a=0;a<o;a++){const c=n[a];s[c.local]=c.xform(s,e[c.server])}return eD(s,t),s}function wb(t,e,n){const s=gb(e);return s===null?null:tD(t,s,n)}function nD(t,e,n,s){const o=gb(e);if(o===null||!ku(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(m=>{const y=t.bucket,g=t.fullPath,w="/b/"+c(y)+"/o/"+c(g),x=Xa(w,n,s),E=db({alt:"media",token:m});return x+E})[0]}function _b(t,e){const n={},s=e.length;for(let o=0;o<s;o++){const a=e[o];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Io{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){if(!t)throw xp()}function Sp(t,e){function n(s,o){const a=wb(t,o,e);return br(a!==null),a}return n}function rD(t,e){function n(s,o){const a=wb(t,o,e);return br(a!==null),nD(a,o,t.host,t._protocol)}return n}function Qa(t){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=_2():o=w2():n.getStatus()===402?o=y2(t.bucket):n.getStatus()===403?o=x2(t.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function xb(t){const e=Qa(t);function n(s,o){let a=e(s,o);return s.getStatus()===404&&(a=v2(t.path)),a.serverResponse=o.serverResponse,a}return n}function sD(t,e,n){const s=e.fullServerUrl(),o=Xa(s,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,h=new Io(o,a,Sp(t,n),c);return h.errorHandler=xb(e),h}function iD(t,e,n){const s=e.fullServerUrl(),o=Xa(s,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,h=new Io(o,a,rD(t,n),c);return h.errorHandler=xb(e),h}function oD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function bb(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=oD(null,e)),s}function aD(t,e,n,s,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let I="";for(let j=0;j<2;j++)I=I+Math.random().toString().slice(2);return I}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const m=bb(e,s,o),y=_b(m,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+f+"--",x=ps.getBlob(g,s,w);if(x===null)throw cb();const E={name:m.fullPath},_=Xa(a,t.host,t._protocol),k="POST",T=t.maxUploadRetryTime,C=new Io(_,k,Sp(t,n),T);return C.urlParams=E,C.headers=c,C.body=x.uploadData(),C.errorHandler=Qa(e),C}class Zc{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Ep(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{br(!1)}return br(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lD(t,e,n,s,o){const a=e.bucketOnlyServerUrl(),c=bb(e,s,o),h={name:c.fullPath},f=Xa(a,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},g=_b(c,n),w=t.maxUploadRetryTime;function x(_){Ep(_);let k;try{k=_.getResponseHeader("X-Goog-Upload-URL")}catch{br(!1)}return br(ku(k)),k}const E=new Io(f,m,x,w);return E.urlParams=h,E.headers=y,E.body=g,E.errorHandler=Qa(e),E}function cD(t,e,n,s){const o={"X-Goog-Upload-Command":"query"};function a(m){const y=Ep(m,["active","final"]);let g=null;try{g=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{br(!1)}g||br(!1);const w=Number(g);return br(!isNaN(w)),new Zc(w,s.size(),y==="final")}const c="POST",h=t.maxUploadRetryTime,f=new Io(n,c,a,h);return f.headers=o,f.errorHandler=Qa(e),f}const Uy=256*1024;function uD(t,e,n,s,o,a,c,h){const f=new Zc(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=s.size()),s.size()!==f.total)throw k2();const m=f.total-f.current;let y=m;o>0&&(y=Math.min(y,o));const g=f.current,w=g+y;let x="";y===0?x="finalize":m===y?x="upload, finalize":x="upload";const E={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${f.current}`},_=s.slice(g,w);if(_===null)throw cb();function k(j,$){const V=Ep(j,["active","final"]),B=f.current+y,z=s.size();let te;return V==="final"?te=Sp(e,a)(j,$):te=null,new Zc(B,z,V==="final",te)}const T="POST",C=e.maxUploadRetryTime,I=new Io(n,T,k,C);return I.headers=E,I.body=_.uploadData(),I.progressCallback=h||null,I.errorHandler=Qa(t),I}const Qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dh(t){switch(t){case"running":case"pausing":case"canceling":return Qt.RUNNING;case"paused":return Qt.PAUSED;case"success":return Qt.SUCCESS;case"canceled":return Qt.CANCELED;case"error":return Qt.ERROR;default:return Qt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dD=class{constructor(e,n,s){if(j2(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class hD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,a){if(this.sent_)throw ga("cannot .send() more than once");if(To(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ga("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ga("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ga("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ga("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fD extends hD{initXhr(){this.xhr_.responseType="text"}}function to(){return new fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=yb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(hb(o.status,[]))if(a)o=ab();else{this.sleepTime=Math.max(this.sleepTime*2,g2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=lD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,to,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=cD(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,to,n,s);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Uy*this._chunkMultiplier,n=new Zc(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,a)=>{let c;try{c=uD(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(c,to,o,a,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Uy*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=sD(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,to,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=aD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,to,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Dh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const a=new dD(n||void 0,s||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Dh(this._state)){case Qt.SUCCESS:Gi(this._resolve.bind(null,this.snapshot))();break;case Qt.CANCELED:case Qt.ERROR:const n=this._reject;Gi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Dh(this._state)){case Qt.RUNNING:case Qt.PAUSED:e.next&&Gi(e.next.bind(e,this.snapshot))();break;case Qt.SUCCESS:e.complete&&Gi(e.complete.bind(e))();break;case Qt.CANCELED:case Qt.ERROR:e.error&&Gi(e.error.bind(e,this._error))();break;default:e.error&&Gi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gi(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vb(this._location.path)}get storage(){return this._service}get parent(){const e=Y2(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new gi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R2(e)}}function mD(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pD(t,new ps(e),n)}function gD(t){t._throwIfRoot("getDownloadURL");const e=iD(t.storage,t._location,yb());return t.storage.makeRequestWithTokens(e,to).then(n=>{if(n===null)throw T2();return n})}function vD(t,e){const n=X2(t._location.path,e),s=new cn(t._location.bucket,n);return new gi(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){return/^[A-Za-z]+:\/\//.test(t)}function wD(t,e){return new gi(t,e)}function Sb(t,e){if(t instanceof kp){const n=t;if(n._bucket==null)throw E2();const s=new gi(n,n._bucket);return e!=null?Sb(s,e):s}else return e!==void 0?vD(t,e):t}function _D(t,e){if(e&&yD(e)){if(t instanceof kp)return wD(t,e);throw bf("To use ref(service, url), the first argument must be a Storage instance.")}else return Sb(t,e)}function $y(t,e){const n=e==null?void 0:e[ib];return n==null?null:cn.makeFromBucketSpec(n,t)}function xD(t,e,n,s={}){t.host=`${e}:${n}`;const o=To(e);o&&(mx(`https://${t.host}/b`),gx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:NA(a,t.app.options.projectId))}class kp{constructor(e,n,s,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=sb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p2,this._maxUploadRetryTime=m2,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=$y(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=$y(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ly("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ly("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gi(this,e)}_makeRequest(e,n,s,o,a=!0){if(this._deleted)return new I2(ub());{const c=F2(e,this._appId,s,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Fy="@firebase/storage",By="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="storage";function bD(t,e,n){return t=zn(t),mD(t,e,n)}function SD(t){return t=zn(t),gD(t)}function ED(t,e){return t=zn(t),_D(t,e)}function kD(t=xx(),e){t=zn(t);const s=hp(t,Eb).getImmediate({identifier:e}),o=RA("storage");return o&&TD(s,...o),s}function TD(t,e,n,s={}){xD(t,e,n,s)}function CD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new kp(n,s,o,e,Co)}function RD(){wo(new fi(Eb,CD,"PUBLIC").setMultipleInstances(!0)),_s(Fy,By,""),_s(Fy,By,"esm2020")}RD();const ID={apiKey:"AIzaSyCwI4aE5-p-NYm60p97IG0aKijccPI0sxI",authDomain:"prime-media-7216b.firebaseapp.com",projectId:"prime-media-7216b",storageBucket:"prime-media-7216b.firebasestorage.app",messagingSenderId:"497607749297",appId:"1:497607749297:web:d113e9a79fd1799f803c90",measurementId:"G-NFG3EB5Q7F"},kb=_x(ID),bc=h2(kb),ND=kD(kb);function AD(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const PD=t=>{switch(t){case"success":return DD;case"info":return LD;case"warning":return MD;case"error":return UD;default:return null}},jD=Array(12).fill(0),OD=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},jD.map((n,s)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),DD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$D=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FD=()=>{const[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Sf=1;class BD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Sf++,c=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:s}),{...f,...e,id:a,dismissible:h,title:s}):f):this.addToast({title:s,...o,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,c;const h=o.then(async m=>{if(c=["resolve",m],Q.isValidElement(m))a=!1,this.create({id:s,type:"default",message:m});else if(VD(m)&&!m.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,E=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...E})}else if(m instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(m):n.error,w=typeof n.description=="function"?await n.description(m):n.description,E=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...E})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(m):n.success,w=typeof n.description=="function"?await n.description(m):n.description,E=typeof g=="object"&&!Q.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:w,...E})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){a=!1;const y=typeof n.error=="function"?await n.error(m):n.error,g=typeof n.description=="function"?await n.description(m):n.description,x=typeof y=="object"&&!Q.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:g,...x})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,y)=>h.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,n)=>{const s=(n==null?void 0:n.id)||Sf++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xt=new BD,zD=(t,e)=>{const n=(e==null?void 0:e.id)||Sf++;return Xt.addToast({title:t,...e,id:n}),n},VD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",HD=zD,WD=()=>Xt.toasts,qD=()=>Xt.getActiveToasts(),wt=Object.assign(HD,{success:Xt.success,info:Xt.info,warning:Xt.warning,error:Xt.error,custom:Xt.custom,message:Xt.message,promise:Xt.promise,dismiss:Xt.dismiss,loading:Xt.loading},{getHistory:WD,getToasts:qD});AD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sc(t){return t.label!==void 0}const KD=3,GD="24px",JD="16px",zy=4e3,YD=356,XD=14,QD=45,ZD=200;function Jn(...t){return t.filter(Boolean).join(" ")}function eM(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const tM=t=>{var e,n,s,o,a,c,h,f,m;const{invert:y,toast:g,unstyled:w,interacting:x,setHeights:E,visibleToasts:_,heights:k,index:T,toasts:C,expanded:I,removeToast:j,defaultRichColors:$,closeButton:V,style:B,cancelButtonStyle:z,actionButtonStyle:te,className:fe="",descriptionClassName:me="",duration:ge,position:ve,gap:ye,expandByDefault:we,classNames:K,icons:ee,closeButtonAriaLabel:O="Close toast"}=t,[F,q]=Q.useState(null),[N,U]=Q.useState(null),[Y,Z]=Q.useState(!1),[_e,ne]=Q.useState(!1),[H,se]=Q.useState(!1),[ce,xe]=Q.useState(!1),[Ae,Pe]=Q.useState(!1),[ut,_t]=Q.useState(0),[Vn,En]=Q.useState(0),Lt=Q.useRef(g.duration||ge||zy),Cs=Q.useRef(null),xt=Q.useRef(null),Rs=T===0,Ar=T+1<=_,Tt=g.type,or=g.dismissible!==!1,el=g.className||"",tl=g.descriptionClassName||"",Is=Q.useMemo(()=>k.findIndex(Re=>Re.toastId===g.id)||0,[k,g.id]),No=Q.useMemo(()=>{var Re;return(Re=g.closeButton)!=null?Re:V},[g.closeButton,V]),Ns=Q.useMemo(()=>g.duration||ge||zy,[g.duration,ge]),_i=Q.useRef(0),dn=Q.useRef(0),Pr=Q.useRef(0),jr=Q.useRef(null),[nl,rl]=ve.split("-"),sl=Q.useMemo(()=>k.reduce((Re,rt,pt)=>pt>=Is?Re:Re+rt.height,0),[k,Is]),xi=FD(),Ao=g.invert||y,As=Tt==="loading";dn.current=Q.useMemo(()=>Is*ye+sl,[Is,sl]),Q.useEffect(()=>{Lt.current=Ns},[Ns]),Q.useEffect(()=>{Z(!0)},[]),Q.useEffect(()=>{const Re=xt.current;if(Re){const rt=Re.getBoundingClientRect().height;return En(rt),E(pt=>[{toastId:g.id,height:rt,position:g.position},...pt]),()=>E(pt=>pt.filter(Pt=>Pt.toastId!==g.id))}},[E,g.id]),Q.useLayoutEffect(()=>{if(!Y)return;const Re=xt.current,rt=Re.style.height;Re.style.height="auto";const pt=Re.getBoundingClientRect().height;Re.style.height=rt,En(pt),E(Pt=>Pt.find(dt=>dt.toastId===g.id)?Pt.map(dt=>dt.toastId===g.id?{...dt,height:pt}:dt):[{toastId:g.id,height:pt,position:g.position},...Pt])},[Y,g.title,g.description,E,g.id]);const hn=Q.useCallback(()=>{ne(!0),_t(dn.current),E(Re=>Re.filter(rt=>rt.toastId!==g.id)),setTimeout(()=>{j(g)},ZD)},[g,j,E,dn]);Q.useEffect(()=>{if(g.promise&&Tt==="loading"||g.duration===1/0||g.type==="loading")return;let Re;return I||x||xi?(()=>{if(Pr.current<_i.current){const Pt=new Date().getTime()-_i.current;Lt.current=Lt.current-Pt}Pr.current=new Date().getTime()})():(()=>{Lt.current!==1/0&&(_i.current=new Date().getTime(),Re=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),hn()},Lt.current))})(),()=>clearTimeout(Re)},[I,x,g,Tt,xi,hn]),Q.useEffect(()=>{g.delete&&hn()},[hn,g.delete]);function Po(){var Re;if(ee!=null&&ee.loading){var rt;return Q.createElement("div",{className:Jn(K==null?void 0:K.loader,g==null||(rt=g.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":Tt==="loading"},ee.loading)}return Q.createElement(OD,{className:Jn(K==null?void 0:K.loader,g==null||(Re=g.classNames)==null?void 0:Re.loader),visible:Tt==="loading"})}const Or=g.icon||(ee==null?void 0:ee[Tt])||PD(Tt);var ar,jo;return Q.createElement("li",{tabIndex:0,ref:xt,className:Jn(fe,el,K==null?void 0:K.toast,g==null||(e=g.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Tt],g==null||(n=g.classNames)==null?void 0:n[Tt]),"data-sonner-toast":"","data-rich-colors":(ar=g.richColors)!=null?ar:$,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":Ae,"data-removed":_e,"data-visible":Ar,"data-y-position":nl,"data-x-position":rl,"data-index":T,"data-front":Rs,"data-swiping":H,"data-dismissible":or,"data-type":Tt,"data-invert":Ao,"data-swipe-out":ce,"data-swipe-direction":N,"data-expanded":!!(I||we&&Y),style:{"--index":T,"--toasts-before":T,"--z-index":C.length-T,"--offset":`${_e?ut:dn.current}px`,"--initial-height":we?"auto":`${Vn}px`,...B,...g.style},onDragEnd:()=>{se(!1),q(null),jr.current=null},onPointerDown:Re=>{As||!or||(Cs.current=new Date,_t(dn.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(se(!0),jr.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,rt,pt;if(ce||!or)return;jr.current=null;const Pt=Number(((Re=xt.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dr=Number(((rt=xt.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((pt=Cs.current)==null?void 0:pt.getTime()),bt=F==="x"?Pt:Dr,Mr=Math.abs(bt)/dt;if(Math.abs(bt)>=QD||Mr>.11){_t(dn.current),g.onDismiss==null||g.onDismiss.call(g,g),U(F==="x"?Pt>0?"right":"left":Dr>0?"down":"up"),hn(),xe(!0);return}else{var Ct,Zt;(Ct=xt.current)==null||Ct.style.setProperty("--swipe-amount-x","0px"),(Zt=xt.current)==null||Zt.style.setProperty("--swipe-amount-y","0px")}Pe(!1),se(!1),q(null)},onPointerMove:Re=>{var rt,pt,Pt;if(!jr.current||!or||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const dt=Re.clientY-jr.current.y,bt=Re.clientX-jr.current.x;var Mr;const Ct=(Mr=t.swipeDirections)!=null?Mr:eM(ve);!F&&(Math.abs(bt)>1||Math.abs(dt)>1)&&q(Math.abs(bt)>Math.abs(dt)?"x":"y");let Zt={x:0,y:0};const Lr=fn=>1/(1.5+Math.abs(fn)/20);if(F==="y"){if(Ct.includes("top")||Ct.includes("bottom"))if(Ct.includes("top")&&dt<0||Ct.includes("bottom")&&dt>0)Zt.y=dt;else{const fn=dt*Lr(dt);Zt.y=Math.abs(fn)<Math.abs(dt)?fn:dt}}else if(F==="x"&&(Ct.includes("left")||Ct.includes("right")))if(Ct.includes("left")&&bt<0||Ct.includes("right")&&bt>0)Zt.x=bt;else{const fn=bt*Lr(bt);Zt.x=Math.abs(fn)<Math.abs(bt)?fn:bt}(Math.abs(Zt.x)>0||Math.abs(Zt.y)>0)&&Pe(!0),(pt=xt.current)==null||pt.style.setProperty("--swipe-amount-x",`${Zt.x}px`),(Pt=xt.current)==null||Pt.style.setProperty("--swipe-amount-y",`${Zt.y}px`)}},No&&!g.jsx&&Tt!=="loading"?Q.createElement("button",{"aria-label":O,"data-disabled":As,"data-close-button":!0,onClick:As||!or?()=>{}:()=>{hn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Jn(K==null?void 0:K.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(jo=ee==null?void 0:ee.close)!=null?jo:$D):null,(Tt||g.icon||g.promise)&&g.icon!==null&&((ee==null?void 0:ee[Tt])!==null||g.icon)?Q.createElement("div",{"data-icon":"",className:Jn(K==null?void 0:K.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Po():null,g.type!=="loading"?Or:null):null,Q.createElement("div",{"data-content":"",className:Jn(K==null?void 0:K.content,g==null||(a=g.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:Jn(K==null?void 0:K.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Q.createElement("div",{"data-description":"",className:Jn(me,tl,K==null?void 0:K.description,g==null||(h=g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),Q.isValidElement(g.cancel)?g.cancel:g.cancel&&Sc(g.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||z,onClick:Re=>{Sc(g.cancel)&&or&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Re),hn())},className:Jn(K==null?void 0:K.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,Q.isValidElement(g.action)?g.action:g.action&&Sc(g.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||te,onClick:Re=>{Sc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Re),!Re.defaultPrevented&&hn())},className:Jn(K==null?void 0:K.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Vy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nM(t,e){const n={};return[t,e].forEach((s,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",h=a?JD:GD;function f(m){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?n[`${c}-${m}`]=h:n[`${c}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):f(h)}),n}const rM=Q.forwardRef(function(e,n){const{invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:h,className:f,offset:m,mobileOffset:y,theme:g="light",richColors:w,duration:x,style:E,visibleToasts:_=KD,toastOptions:k,dir:T=Vy(),gap:C=XD,icons:I,containerAriaLabel:j="Notifications"}=e,[$,V]=Q.useState([]),B=Q.useMemo(()=>Array.from(new Set([o].concat($.filter(N=>N.position).map(N=>N.position)))),[$,o]),[z,te]=Q.useState([]),[fe,me]=Q.useState(!1),[ge,ve]=Q.useState(!1),[ye,we]=Q.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Q.useRef(null),ee=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Q.useRef(null),F=Q.useRef(!1),q=Q.useCallback(N=>{V(U=>{var Y;return(Y=U.find(Z=>Z.id===N.id))!=null&&Y.delete||Xt.dismiss(N.id),U.filter(({id:Z})=>Z!==N.id)})},[]);return Q.useEffect(()=>Xt.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{V(U=>U.map(Y=>Y.id===N.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{Mw.flushSync(()=>{V(U=>{const Y=U.findIndex(Z=>Z.id===N.id);return Y!==-1?[...U.slice(0,Y),{...U[Y],...N},...U.slice(Y+1)]:[N,...U]})})})}),[$]),Q.useEffect(()=>{if(g!=="system"){we(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?we("dark"):we("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:U})=>{we(U?"dark":"light")})}catch{N.addListener(({matches:Y})=>{try{we(Y?"dark":"light")}catch(Z){console.error(Z)}})}},[g]),Q.useEffect(()=>{$.length<=1&&me(!1)},[$]),Q.useEffect(()=>{const N=U=>{var Y;if(a.every(ne=>U[ne]||U.code===ne)){var _e;me(!0),(_e=K.current)==null||_e.focus()}U.code==="Escape"&&(document.activeElement===K.current||(Y=K.current)!=null&&Y.contains(document.activeElement))&&me(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),Q.useEffect(()=>{if(K.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,F.current=!1)}},[K.current]),Q.createElement("section",{ref:n,"aria-label":`${j} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((N,U)=>{var Y;const[Z,_e]=N.split("-");return $.length?Q.createElement("ol",{key:N,dir:T==="auto"?Vy():T,tabIndex:-1,ref:K,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ye,"data-y-position":Z,"data-lifted":fe&&$.length>1&&!c,"data-x-position":_e,style:{"--front-toast-height":`${((Y=z[0])==null?void 0:Y.height)||0}px`,"--width":`${YD}px`,"--gap":`${C}px`,...E,...nM(m,y)},onBlur:ne=>{F.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(F.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||F.current||(F.current=!0,O.current=ne.relatedTarget)},onMouseEnter:()=>me(!0),onMouseMove:()=>me(!0),onMouseLeave:()=>{ge||me(!1)},onDragEnd:()=>me(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ve(!0)},onPointerUp:()=>ve(!1)},$.filter(ne=>!ne.position&&U===0||ne.position===N).map((ne,H)=>{var se,ce;return Q.createElement(tM,{key:ne.id,icons:I,index:H,toast:ne,defaultRichColors:w,duration:(se=k==null?void 0:k.duration)!=null?se:x,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:s,visibleToasts:_,closeButton:(ce=k==null?void 0:k.closeButton)!=null?ce:h,interacting:ge,position:N,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:q,toasts:$.filter(xe=>xe.position==ne.position),heights:z.filter(xe=>xe.position==ne.position),setHeights:te,expandByDefault:c,gap:C,expanded:fe,swipeDirections:e.swipeDirections})})):null}))});function sM({onClose:t}){const[e,n]=S.useState({title:"",price:"",description:"",difficulty:"",duration:"",language:"",accompaniment:"",voiceParts:[]}),[s,o]=S.useState(null),[a,c]=S.useState(0),[h,f]=S.useState(!1),[m,y]=S.useState(!1),g=["Soprano","Alto","Tenor","Bass","Soprano I","Soprano II"],w=_=>{n(k=>({...k,voiceParts:k.voiceParts.includes(_)?k.voiceParts.filter(T=>T!==_):[...k.voiceParts,_]}))},x=_=>{var T;const k=(T=_.target.files)==null?void 0:T[0];k&&k.type==="application/pdf"?(o(k),wt.success("PDF file selected successfully")):wt.error("Please select a valid PDF file")},E=async _=>{_.preventDefault(),f(!0);try{let k="";if(s){const T=ED(ND,`compositions/${Date.now()}_${s.name}`),C=bD(T,s);C.on("state_changed",I=>{const j=I.bytesTransferred/I.totalBytes*100;c(j)},I=>{console.error("Upload error:",I),wt.error("Failed to upload PDF file"),f(!1)},async()=>{k=await SD(C.snapshot.ref),console.log("Composition data:",{...e,pdfUrl:k}),wt.success("Composition uploaded successfully!"),y(!0),setTimeout(()=>{t()},1500)})}else setTimeout(()=>{f(!1),y(!0),setTimeout(()=>{t()},1500)},1500)}catch(k){console.error("Error uploading composition:",k),wt.error("Failed to upload composition"),f(!1)}};return m?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(ww,{className:"size-16 text-green-600 mb-4"}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Upload Successful!"}),d.jsx("p",{className:"text-gray-600",children:"Your composition has been added to the marketplace."})]}):d.jsxs("form",{onSubmit:E,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"title",children:"Composition Title *"}),d.jsx(ni,{id:"title",value:e.title,onChange:_=>n(k=>({...k,title:_.target.value})),placeholder:"e.g., Ave Maria",required:!0})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"description",children:"Description *"}),d.jsx(hA,{id:"description",value:e.description,onChange:_=>n(k=>({...k,description:_.target.value})),placeholder:"Describe your composition, its mood, suitable occasions...",rows:4,required:!0})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"price",children:"Price (USD) *"}),d.jsx(ni,{id:"price",type:"number",step:"0.01",min:"0",value:e.price,onChange:_=>n(k=>({...k,price:_.target.value})),placeholder:"29.99",required:!0})]}),d.jsxs("div",{children:[d.jsx(_n,{children:"Voice Parts *"}),d.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:g.map(_=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wA,{id:`voice-${_}`,checked:e.voiceParts.includes(_),onCheckedChange:()=>w(_)}),d.jsx("label",{htmlFor:`voice-${_}`,className:"text-sm cursor-pointer",children:_})]},_))})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"difficulty",children:"Difficulty Level *"}),d.jsxs(si,{value:e.difficulty,onValueChange:_=>n(k=>({...k,difficulty:_})),required:!0,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Select difficulty"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"Easy",children:"Easy"}),d.jsx(Be,{value:"Intermediate",children:"Intermediate"}),d.jsx(Be,{value:"Advanced",children:"Advanced"})]})]})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"duration",children:"Duration *"}),d.jsx(ni,{id:"duration",value:e.duration,onChange:_=>n(k=>({...k,duration:_.target.value})),placeholder:"e.g., 4:30",required:!0})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"language",children:"Language *"}),d.jsxs(si,{value:e.language,onValueChange:_=>n(k=>({...k,language:_})),required:!0,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Select language"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"English",children:"English"}),d.jsx(Be,{value:"Latin",children:"Latin"}),d.jsx(Be,{value:"German",children:"German"}),d.jsx(Be,{value:"French",children:"French"}),d.jsx(Be,{value:"Italian",children:"Italian"}),d.jsx(Be,{value:"Spanish",children:"Spanish"})]})]})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"accompaniment",children:"Accompaniment *"}),d.jsxs(si,{value:e.accompaniment,onValueChange:_=>n(k=>({...k,accompaniment:_})),required:!0,children:[d.jsx(oi,{children:d.jsx(ii,{placeholder:"Select accompaniment"})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"A cappella",children:"A cappella"}),d.jsx(Be,{value:"Piano",children:"Piano"}),d.jsx(Be,{value:"Organ",children:"Organ"}),d.jsx(Be,{value:"String Quartet",children:"String Quartet"}),d.jsx(Be,{value:"Orchestra",children:"Orchestra"})]})]})]}),d.jsxs("div",{children:[d.jsxs(_n,{htmlFor:"file",children:["PDF Score ",a>0&&a<100&&`(${Math.round(a)}%)`]}),d.jsxs("div",{className:"mt-2",children:[d.jsx(ni,{id:"file",type:"file",accept:"application/pdf",onChange:x,className:"cursor-pointer"}),s&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",s.name]}),a>0&&a<100&&d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${a}%`}})})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx(Ue,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:h,children:"Cancel"}),d.jsx(Ue,{type:"submit",disabled:h,className:"flex-1",children:h?"Uploading...":"Upload Composition"})]})]})}function iM({currentUser:t}){const[e,n]=S.useState(!1),s=ls.filter(f=>f.composerId===t.id),o=cs.filter(f=>s.some(m=>m.id===f.compositionId)),a=o.reduce((f,m)=>f+m.price,0),c=o.length,h=s.map(f=>{const m=cs.filter(g=>g.compositionId===f.id),y=m.reduce((g,w)=>g+w.price,0);return{...f,salesCount:m.length,revenue:y}});return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Composer Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Manage your compositions and track your sales"})]}),d.jsxs(nA,{open:e,onOpenChange:n,children:[d.jsx(rA,{asChild:!0,children:d.jsxs(Ue,{size:"lg",children:[d.jsx(Ev,{className:"size-5 mr-2"}),"Upload New Composition"]})}),d.jsxs(oA,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs(aA,{children:[d.jsx(lA,{children:"Upload New Composition"}),d.jsx(cA,{children:"Add a new choral composition to the marketplace"})]}),d.jsx(sM,{onClose:()=>n(!1)})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),d.jsx(Mf,{className:"size-5 text-green-600"})]}),d.jsxs(lt,{children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$",a.toFixed(2)]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From ",c," sales"]})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Published Works"}),d.jsx(Ln,{className:"size-5 text-blue-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:s.length}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active compositions"})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Avg Price"}),d.jsx(xw,{className:"size-5 text-purple-600"})]}),d.jsxs(lt,{children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$",s.length>0?(s.reduce((f,m)=>f+m.price,0)/s.length).toFixed(2):"0.00"]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average listing price"})]})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"My Compositions"}),d.jsx(yr,{children:"Manage and track performance of your published works"})]}),d.jsx(lt,{children:h.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Ln,{className:"size-12 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't uploaded any compositions yet."}),d.jsxs(Ue,{onClick:()=>n(!0),children:[d.jsx(Ev,{className:"size-4 mr-2"}),"Upload Your First Composition"]})]}):d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Title"}),d.jsx(De,{children:"Difficulty"}),d.jsx(De,{children:"Price"}),d.jsx(De,{className:"text-right",children:"Sales"}),d.jsx(De,{className:"text-right",children:"Revenue"}),d.jsx(De,{children:"Date Added"}),d.jsx(De,{className:"text-right",children:"Actions"})]})}),d.jsx(Zs,{children:h.map(f=>d.jsxs(Yt,{children:[d.jsx(Me,{children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:f.title}),d.jsx("p",{className:"text-sm text-gray-500",children:f.voiceParts.join(", ")})]})}),d.jsx(Me,{children:d.jsx(co,{variant:"outline",children:f.difficulty})}),d.jsxs(Me,{children:["$",f.price.toFixed(2)]}),d.jsx(Me,{className:"text-right",children:f.salesCount}),d.jsxs(Me,{className:"text-right font-medium",children:["$",f.revenue.toFixed(2)]}),d.jsx(Me,{children:new Date(f.dateAdded).toLocaleDateString()}),d.jsx(Me,{className:"text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx(Ue,{variant:"ghost",size:"icon",children:d.jsx(qh,{className:"size-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",children:d.jsx(t1,{className:"size-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",children:d.jsx(r1,{className:"size-4 text-red-600"})})]})})]},f.id))})]})})]})]})}var Tp="Tabs",[oM]=Rr(Tp,[pu]),Tb=pu(),[aM,Cp]=oM(Tp),Cb=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:h,activationMode:f="automatic",...m}=t,y=su(h),[g,w]=ci({prop:s,onChange:o,defaultProp:a});return d.jsx(aM,{scope:n,baseId:Zn(),value:g,onValueChange:w,orientation:c,dir:y,activationMode:f,children:d.jsx(Ne.div,{dir:y,"data-orientation":c,...m,ref:e})})});Cb.displayName=Tp;var Rb="TabsList",Ib=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,a=Cp(Rb,n),c=Tb(n);return d.jsx(y0,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:s,children:d.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});Ib.displayName=Rb;var Nb="TabsTrigger",Ab=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=t,c=Cp(Nb,n),h=Tb(n),f=Ob(c.baseId,s),m=Db(c.baseId,s),y=s===c.value;return d.jsx(w0,{asChild:!0,...h,focusable:!o,active:y,children:d.jsx(Ne.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:de(t.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:de(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:de(t.onFocus,()=>{const g=c.activationMode!=="manual";!y&&!o&&g&&c.onValueChange(s)})})})});Ab.displayName=Nb;var Pb="TabsContent",jb=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...c}=t,h=Cp(Pb,n),f=Ob(h.baseId,s),m=Db(h.baseId,s),y=s===h.value,g=S.useRef(y);return S.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),d.jsx(ir,{present:o||y,children:({present:w})=>d.jsx(Ne.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:m,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:w&&a})})});jb.displayName=Pb;function Ob(t,e){return`${t}-trigger-${e}`}function Db(t,e){return`${t}-content-${e}`}var lM=Cb,cM=Ib,uM=Ab,dM=jb;function Mb({className:t,...e}){return d.jsx(lM,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",t),...e})}function Lb({className:t,...e}){return d.jsx(cM,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function oo({className:t,...e}){return d.jsx(uM,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function ao({className:t,...e}){return d.jsx(dM,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",t),...e})}var hM="Separator",Hy="horizontal",fM=["horizontal","vertical"],Ub=S.forwardRef((t,e)=>{const{decorative:n,orientation:s=Hy,...o}=t,a=pM(s)?s:Hy,h=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Ne.div,{"data-orientation":a,...h,...o,ref:e})});Ub.displayName=hM;function pM(t){return fM.includes(t)}var mM=Ub;function gM({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return d.jsx(mM,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function vM({currentUser:t,cart:e,onClearCart:n}){const[s,o]=S.useState("library"),a=cs.filter(y=>y.buyerId===t.id),c=a.map(y=>{const g=ls.find(w=>w.id===y.compositionId);return{...y,composition:g}}),h=a.reduce((y,g)=>y+g.price,0),f=e.reduce((y,g)=>y+g.composition.price*g.quantity,0),m=()=>{wt.success("Purchase successful! Your compositions are now in your library."),n(),o("library")};return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Access your purchased music and manage your account"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"My Library"}),d.jsx(Ln,{className:"size-5 text-blue-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:c.length}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Compositions owned"})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),d.jsx(Mf,{className:"size-5 text-green-600"})]}),d.jsxs(lt,{children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$",h.toFixed(2)]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All-time purchases"})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Cart Items"}),d.jsx(kv,{className:"size-5 text-purple-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:e.length}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ready to checkout"})]})]})]}),d.jsxs(Mb,{value:s,onValueChange:o,children:[d.jsxs(Lb,{className:"grid w-full max-w-md grid-cols-2",children:[d.jsx(oo,{value:"library",children:"My Library"}),d.jsx(oo,{value:"checkout",children:"Checkout"})]}),d.jsx(ao,{value:"library",className:"mt-6",children:d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"Purchased Compositions"}),d.jsx(yr,{children:"Download and access your purchased music anytime"})]}),d.jsx(lt,{children:c.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Ln,{className:"size-12 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't purchased any compositions yet."}),d.jsx(Ue,{onClick:()=>window.location.reload(),children:"Browse Marketplace"})]}):d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Composition"}),d.jsx(De,{children:"Composer"}),d.jsx(De,{children:"Purchase Date"}),d.jsx(De,{children:"Price"}),d.jsx(De,{className:"text-right",children:"Actions"})]})}),d.jsx(Zs,{children:c.map(({composition:y,purchaseDate:g,price:w,id:x})=>d.jsxs(Yt,{children:[d.jsx(Me,{children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:y==null?void 0:y.title}),d.jsx("p",{className:"text-sm text-gray-500",children:y==null?void 0:y.voiceParts.join(", ")})]})}),d.jsx(Me,{children:y==null?void 0:y.composerName}),d.jsx(Me,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pk,{className:"size-4 text-gray-400"}),new Date(g).toLocaleDateString()]})}),d.jsxs(Me,{children:["$",w.toFixed(2)]}),d.jsx(Me,{className:"text-right",children:d.jsxs(Ue,{variant:"outline",size:"sm",children:[d.jsx(Tk,{className:"size-4 mr-2"}),"Download PDF"]})})]},x))})]})})]})}),d.jsx(ao,{value:"checkout",className:"mt-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"Shopping Cart"}),d.jsx(yr,{children:"Review your items before checkout"})]}),d.jsx(lt,{children:e.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(kv,{className:"size-12 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Your cart is empty"})]}):d.jsx("div",{className:"space-y-4",children:e.map(y=>d.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[d.jsx(Ln,{className:"size-10 text-blue-600"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium",children:y.composition.title}),d.jsx("p",{className:"text-sm text-gray-600",children:y.composition.composerName}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[y.composition.voiceParts.join(", "),"  ",y.composition.difficulty]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-semibold text-lg",children:["$",y.composition.price.toFixed(2)]})})]},y.composition.id))})})]})}),d.jsx("div",{children:d.jsxs(et,{children:[d.jsx(ot,{children:d.jsx(at,{children:"Order Summary"})}),d.jsxs(lt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Subtotal"}),d.jsxs("span",{children:["$",f.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Processing Fee"}),d.jsx("span",{children:"$0.00"})]}),d.jsx(gM,{}),d.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",f.toFixed(2)]})]})]}),d.jsxs(Ue,{className:"w-full",size:"lg",disabled:e.length===0,onClick:m,children:[d.jsx(Sk,{className:"size-5 mr-2"}),"Complete Purchase"]}),d.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:"Secure checkout  Instant download  Lifetime access"})]})]})})]})})]})]})}function yM(){const[t,e]=S.useState("overview"),n=qs.length,s=ls.length,o=cs.reduce((f,m)=>f+m.price,0),a=cs.length,c=qs.filter(f=>f.role==="composer").map(f=>{const m=ls.filter(w=>w.composerId===f.id),y=cs.filter(w=>m.some(x=>x.id===w.compositionId)),g=y.reduce((w,x)=>w+x.price,0);return{...f,compositionCount:m.length,salesCount:y.length,revenue:g}}),h=cs.sort((f,m)=>new Date(m.purchaseDate).getTime()-new Date(f.purchaseDate).getTime()).slice(0,10).map(f=>{const m=ls.find(g=>g.id===f.compositionId),y=qs.find(g=>g.id===f.buyerId);return{...f,composition:m,buyer:y}});return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Panel"}),d.jsx("p",{className:"text-gray-600",children:"Manage platform operations and monitor activity"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Users"}),d.jsx(Lf,{className:"size-5 text-blue-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:n}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[qs.filter(f=>f.role==="composer").length," composers,"," ",qs.filter(f=>f.role==="buyer").length," buyers"]})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Compositions"}),d.jsx(Ln,{className:"size-5 text-purple-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:s}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Published works"})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),d.jsx(Mf,{className:"size-5 text-green-600"})]}),d.jsxs(lt,{children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$",o.toFixed(2)]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Platform earnings"})]})]}),d.jsxs(et,{children:[d.jsxs(ot,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Transactions"}),d.jsx(xw,{className:"size-5 text-orange-600"})]}),d.jsxs(lt,{children:[d.jsx("div",{className:"text-3xl font-bold",children:a}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total sales"})]})]})]}),d.jsxs(Mb,{value:t,onValueChange:e,children:[d.jsxs(Lb,{className:"grid w-full max-w-2xl grid-cols-4",children:[d.jsx(oo,{value:"overview",children:"Overview"}),d.jsx(oo,{value:"users",children:"Users"}),d.jsx(oo,{value:"compositions",children:"Compositions"}),d.jsx(oo,{value:"transactions",children:"Transactions"})]}),d.jsxs(ao,{value:"overview",className:"mt-6 space-y-6",children:[d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"Top Composers"}),d.jsx(yr,{children:"Highest earning composers on the platform"})]}),d.jsx(lt,{children:d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Composer"}),d.jsx(De,{children:"Email"}),d.jsx(De,{className:"text-right",children:"Compositions"}),d.jsx(De,{className:"text-right",children:"Sales"}),d.jsx(De,{className:"text-right",children:"Revenue"})]})}),d.jsx(Zs,{children:c.sort((f,m)=>m.revenue-f.revenue).slice(0,5).map(f=>d.jsxs(Yt,{children:[d.jsx(Me,{className:"font-medium",children:f.name}),d.jsx(Me,{className:"text-gray-600",children:f.email}),d.jsx(Me,{className:"text-right",children:f.compositionCount}),d.jsx(Me,{className:"text-right",children:f.salesCount}),d.jsxs(Me,{className:"text-right font-semibold",children:["$",f.revenue.toFixed(2)]})]},f.id))})]})})]}),d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"Recent Transactions"}),d.jsx(yr,{children:"Latest purchases on the platform"})]}),d.jsx(lt,{children:d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Date"}),d.jsx(De,{children:"Buyer"}),d.jsx(De,{children:"Composition"}),d.jsx(De,{className:"text-right",children:"Amount"})]})}),d.jsx(Zs,{children:h.map(f=>{var m,y,g;return d.jsxs(Yt,{children:[d.jsx(Me,{children:new Date(f.purchaseDate).toLocaleDateString()}),d.jsx(Me,{children:(m=f.buyer)==null?void 0:m.name}),d.jsx(Me,{children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:(y=f.composition)==null?void 0:y.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:["by ",(g=f.composition)==null?void 0:g.composerName]})]})}),d.jsxs(Me,{className:"text-right font-semibold",children:["$",f.price.toFixed(2)]})]},f.id)})})]})})]})]}),d.jsx(ao,{value:"users",className:"mt-6",children:d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"All Users"}),d.jsx(yr,{children:"Manage platform users and their roles"})]}),d.jsx(lt,{children:d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Name"}),d.jsx(De,{children:"Email"}),d.jsx(De,{children:"Role"}),d.jsx(De,{children:"Status"}),d.jsx(De,{className:"text-right",children:"Actions"})]})}),d.jsx(Zs,{children:qs.map(f=>d.jsxs(Yt,{children:[d.jsx(Me,{className:"font-medium",children:f.name}),d.jsx(Me,{children:f.email}),d.jsx(Me,{children:d.jsx(co,{variant:"outline",className:"capitalize",children:f.role})}),d.jsx(Me,{children:d.jsxs(co,{className:"bg-green-100 text-green-800",children:[d.jsx(ww,{className:"size-3 mr-1"}),"Active"]})}),d.jsx(Me,{className:"text-right",children:d.jsxs(sf,{children:[d.jsx(of,{asChild:!0,children:d.jsx(Ue,{variant:"ghost",size:"icon",children:d.jsx(bv,{className:"size-4"})})}),d.jsxs(af,{align:"end",children:[d.jsx(Bc,{children:"Actions"}),d.jsxs(gs,{children:[d.jsx(qh,{className:"size-4 mr-2"}),"View Profile"]}),d.jsx(zc,{}),d.jsxs(gs,{className:"text-red-600",children:[d.jsx(_v,{className:"size-4 mr-2"}),"Suspend User"]})]})]})})]},f.id))})]})})]})}),d.jsx(ao,{value:"compositions",className:"mt-6",children:d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"All Compositions"}),d.jsx(yr,{children:"Manage and moderate published compositions"})]}),d.jsx(lt,{children:d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Title"}),d.jsx(De,{children:"Composer"}),d.jsx(De,{children:"Difficulty"}),d.jsx(De,{children:"Price"}),d.jsx(De,{children:"Date Added"}),d.jsx(De,{className:"text-right",children:"Actions"})]})}),d.jsx(Zs,{children:ls.map(f=>d.jsxs(Yt,{children:[d.jsx(Me,{children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:f.title}),d.jsx("p",{className:"text-sm text-gray-500",children:f.voiceParts.join(", ")})]})}),d.jsx(Me,{children:f.composerName}),d.jsx(Me,{children:d.jsx(co,{variant:"outline",children:f.difficulty})}),d.jsxs(Me,{children:["$",f.price.toFixed(2)]}),d.jsx(Me,{children:new Date(f.dateAdded).toLocaleDateString()}),d.jsx(Me,{className:"text-right",children:d.jsxs(sf,{children:[d.jsx(of,{asChild:!0,children:d.jsx(Ue,{variant:"ghost",size:"icon",children:d.jsx(bv,{className:"size-4"})})}),d.jsxs(af,{align:"end",children:[d.jsx(Bc,{children:"Actions"}),d.jsxs(gs,{children:[d.jsx(qh,{className:"size-4 mr-2"}),"View Details"]}),d.jsx(zc,{}),d.jsxs(gs,{className:"text-red-600",children:[d.jsx(_v,{className:"size-4 mr-2"}),"Remove Listing"]})]})]})})]},f.id))})]})})]})}),d.jsx(ao,{value:"transactions",className:"mt-6",children:d.jsxs(et,{children:[d.jsxs(ot,{children:[d.jsx(at,{children:"All Transactions"}),d.jsx(yr,{children:"Complete transaction history"})]}),d.jsx(lt,{children:d.jsxs(Xs,{children:[d.jsx(Qs,{children:d.jsxs(Yt,{children:[d.jsx(De,{children:"Transaction ID"}),d.jsx(De,{children:"Date"}),d.jsx(De,{children:"Buyer"}),d.jsx(De,{children:"Composition"}),d.jsx(De,{children:"Composer"}),d.jsx(De,{className:"text-right",children:"Amount"})]})}),d.jsx(Zs,{children:cs.sort((f,m)=>new Date(m.purchaseDate).getTime()-new Date(f.purchaseDate).getTime()).map(f=>{const m=ls.find(g=>g.id===f.compositionId),y=qs.find(g=>g.id===f.buyerId);return d.jsxs(Yt,{children:[d.jsx(Me,{className:"font-mono text-sm",children:f.id}),d.jsx(Me,{children:new Date(f.purchaseDate).toLocaleDateString()}),d.jsx(Me,{children:y==null?void 0:y.name}),d.jsx(Me,{className:"font-medium",children:m==null?void 0:m.title}),d.jsx(Me,{children:m==null?void 0:m.composerName}),d.jsxs(Me,{className:"text-right font-semibold",children:["$",f.price.toFixed(2)]})]},f.id)})})]})})]})})]})]})}const wM=()=>{const[t,e]=S.useState(null),n=[{id:"piano",name:"Piano",description:"Want to learn to play piano? Our Piano Lessons are open to everyone.",icon:d.jsx(Ok,{className:"w-12 h-12"}),level:"Beginner to Advanced"},{id:"guitar",name:"Guitar",description:"Learn to play the world's popular instrument with our guitar classes.",icon:d.jsx(Pk,{className:"w-12 h-12"}),level:"Beginner to Advanced"},{id:"vocal",name:"Vocal",description:"Prime Music Media offers a wide variety of vocal classes for all ages and skills.",icon:d.jsx(Vk,{className:"w-12 h-12"}),level:"All Levels"},{id:"trumpet",name:"Trumpet",description:"We offer extensive trumpet learning program at our music school.",icon:d.jsx(c1,{className:"w-12 h-12"}),level:"Beginner to Advanced"},{id:"music-theory",name:"Music Theory",description:"Master the fundamentals of music theory and composition.",icon:d.jsx(xv,{className:"w-12 h-12"}),level:"All Levels"},{id:"ensemble",name:"Ensemble",description:"Join our ensemble classes and perform with fellow musicians.",icon:d.jsx(Lf,{className:"w-12 h-12"}),level:"Intermediate to Advanced"}],s=[{title:"Expert Instructors",description:"Learn from experienced music professionals",icon:d.jsx(uk,{className:"w-8 h-8"})},{title:"Flexible Scheduling",description:"Classes available at times that work for you",icon:d.jsx(Ln,{className:"w-8 h-8"})},{title:"All Skill Levels",description:"From complete beginners to advanced musicians",icon:d.jsx(xv,{className:"w-8 h-8"})}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[d.jsx("section",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-20 px-4",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"space-y-6 text-center",children:[d.jsxs("h1",{className:"text-5xl md:text-6xl font-bold",children:["Music ",d.jsx("span",{className:"italic",children:"for"})," Everyone"]}),d.jsx("p",{className:"text-xl md:text-2xl text-purple-100",children:"Discover your inner talents and pick your instrument"}),d.jsx(Ue,{size:"lg",variant:"secondary",className:"text-lg",children:"Join Us Today"})]})})}),d.jsx("section",{className:"py-16 px-4 bg-white",children:d.jsx("div",{className:"container mx-auto max-w-6xl",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Welcome to Prime Music Media!"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We are a company that endeavors to create music accessibility for anyone anywhere. We register composers, arrangers and music trainers and make their works available to anyone out there seeking to access it."}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Music desired by anyone that did seem unavailable for any music trainer or music enthusiast for their groups to sing is now available on our side. Even the classical pieces from the renowned composers like Mozart are now available as we are in contact with their publishers."}),d.jsx(Ue,{variant:"default",size:"lg",children:"Read More"})]}),d.jsx("div",{className:"relative h-96 bg-gradient-to-br from-purple-200 to-indigo-200 rounded-lg overflow-hidden shadow-lg",children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx(Ln,{className:"w-32 h-32 text-purple-400 opacity-20"})})})]})})}),d.jsx("section",{className:"py-16 px-4 bg-gray-50",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-900",children:"Why Choose Prime Music Media?"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((o,a)=>d.jsxs(et,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"flex justify-center mb-4 text-purple-600",children:o.icon}),d.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:o.title}),d.jsx("p",{className:"text-gray-600",children:o.description})]},a))})]})}),d.jsx("section",{className:"py-16 px-4 bg-white",children:d.jsxs("div",{className:"container mx-auto max-w-6xl",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-gray-900",children:"Music Classes"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(o=>d.jsxs(et,{className:`p-8 cursor-pointer transition-all hover:shadow-lg hover:border-purple-400 ${t===o.id?"border-2 border-purple-600 bg-purple-50":""}`,onClick:()=>e(o.id),children:[d.jsx("div",{className:"flex justify-center mb-4 text-purple-600",children:o.icon}),d.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900 text-center",children:o.name}),d.jsx("p",{className:"text-gray-600 mb-4 text-center",children:o.description}),d.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:d.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:o.level})}),d.jsx(Ue,{variant:"outline",className:"w-full",onClick:a=>{a.stopPropagation()},children:"Learn More"})]},o.id))})]})}),d.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-purple-600 to-indigo-600",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center text-white space-y-6",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Ready to Start Your Musical Journey?"}),d.jsx("p",{className:"text-lg text-purple-100",children:"Join thousands of students learning music with Prime Music Media"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx(Ue,{size:"lg",variant:"secondary",children:"Enroll Now"}),d.jsx(Ue,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-purple-600",children:"Contact Us"})]})]})})]})},_M=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Rp extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class xM extends Rp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wy extends Rp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qy extends Rp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ef;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ef||(Ef={}));class bM{constructor(e,{headers:n={},customFetch:s,region:o=Ef.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=_M(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eR(this,arguments,void 0,function*(n,s={}){var o;let a,c;try{const{headers:h,method:f,body:m,signal:y,timeout:g}=s;let w={},{region:x}=s;x||(x=this.region);const E=new URL(`${this.url}/${n}`);x&&x!=="any"&&(w["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let _;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(w["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(w["Content-Type"]="application/json",_=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?_=JSON.stringify(m):_=m;let k=y;g&&(c=new AbortController,a=setTimeout(()=>c.abort(),g),y?(k=c.signal,y.addEventListener("abort",()=>c.abort())):k=c.signal);const T=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:_,signal:k}).catch($=>{throw new xM($)}),C=T.headers.get("x-relay-error");if(C&&C==="true")throw new Wy(T);if(!T.ok)throw new qy(T);let I=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return I==="application/json"?j=yield T.json():I==="application/octet-stream"||I==="application/pdf"?j=yield T.blob():I==="text/event-stream"?j=T:I==="multipart/form-data"?j=yield T.formData():j=yield T.text(),{data:j,error:null,response:T}}catch(h){return{data:null,error:h,response:h instanceof qy||h instanceof Wy?h.context:void 0}}finally{a&&clearTimeout(a)}})}}var SM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},EM=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let c=null,h=null,f=null,m=a.status,y=a.statusText;if(a.ok){var g,w;if(n.method!=="HEAD"){var x;const T=await a.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=T:h=JSON.parse(T))}const _=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(w=a.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");_&&k&&k.length>1&&(f=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var E;const _=await a.text();try{c=JSON.parse(_),Array.isArray(c)&&a.status===404&&(h=[],c=null,m=200,y="OK")}catch{a.status===404&&_===""?(m=204,y="No Content"):c={message:_}}if(c&&n.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&n.shouldThrowOnError)throw new SM(c)}return{error:c,data:h,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(a=>{var c;let h="";const f=a==null?void 0:a.cause;if(f){var m,y,g,w;const E=(m=f==null?void 0:f.message)!==null&&m!==void 0?m:"",_=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";h=`${(g=a==null?void 0:a.name)!==null&&g!==void 0?g:"FetchError"}: ${a==null?void 0:a.message}`,h+=`

Caused by: ${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"Error"}: ${E}`,_&&(h+=` (${_})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var x;h=(x=a==null?void 0:a.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},kM=class extends EM{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",c=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${h};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ky=new RegExp("[,()]");var no=class extends kM{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Ky.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Ky.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},TM=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",c),s&&f.append("Prefer",`count=${s}`),new no({method:o,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:a,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),n||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);a.searchParams.set("columns",f.join(","))}}return new no({method:o,url:a,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var a;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),s&&f.append("Prefer",`count=${s}`),o||f.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);h.searchParams.set("columns",y.join(","))}}return new no({method:c,url:h,headers:f,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new no({method:s,url:o,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new no({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},CM=class $b{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TM(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $b(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:a}={}){var c;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;const y=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(y)),g=s&&Object.values(n).some(y);g?(h="POST",m=n):s||o?(h=s?"HEAD":"GET",Object.entries(n).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{f.searchParams.append(x,E)})):(h="POST",m=n);const w=new Headers(this.headers);return g?w.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&w.set("Prefer",`count=${a}`),new no({method:h,url:f,headers:w,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class RM{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const IM="2.91.1",NM=`realtime-js/${IM}`,AM="1.0.0",Fb="2.0.0",Gy=Fb,kf=1e4,PM=1e3,jM=100;var as;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(as||(as={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Dn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dn||(Dn={}));var Tf;(function(t){t.websocket="websocket"})(Tf||(Tf={}));var ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ei||(ei={}));class OM{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var o,a;const c=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+c.length+m.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(x),_=0;E.setUint8(_++,this.KINDS.userBroadcastPush),E.setUint8(_++,f.length),E.setUint8(_++,h.length),E.setUint8(_++,c.length),E.setUint8(_++,m.length),E.setUint8(_++,g.length),E.setUint8(_++,n),Array.from(f,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(h,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(c,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(m,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(g,T=>E.setUint8(_++,T.charCodeAt(0)));var k=new Uint8Array(x.byteLength+s.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(s),x.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,c,h,f]=s;return n({join_ref:o,ref:a,topic:c,event:h,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const m=s.decode(e.slice(f,f+o));f=f+o;const y=s.decode(e.slice(f,f+a));f=f+a;const g=s.decode(e.slice(f,f+c));f=f+c;const w=e.slice(f,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,E={type:this.BROADCAST_EVENT,event:y,payload:x};return c>0&&(E.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class Bb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const Jy=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,c)=>(a[c]=DM(c,t,e,o),a),{}):{}},DM=(t,e,n,s)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,c=n[t];return a&&!s.includes(a)?zb(a,c):Cf(c)},zb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $M(e,n)}switch(t){case qe.bool:return MM(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return LM(e);case qe.json:case qe.jsonb:return UM(e);case qe.timestamp:return FM(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Cf(e);default:return Cf(e)}},Cf=t=>t,MM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$M=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>zb(e,h))}return t},FM=t=>typeof t=="string"?t.replace(" ","T"):t,Vb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mh{constructor(e,n,s={},o=kf){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Yy||(Yy={}));class ka{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ka.syncState(this.state,o,a,c),this.pendingDiffs.forEach(f=>{this.state=ka.syncDiff(this.state,f,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ka.syncDiff(this.state,o,a,c),h())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),c=this.transformState(n),h={},f={};return this.map(a,(m,y)=>{c[m]||(f[m]=y)}),this.map(c,(m,y)=>{const g=a[m];if(g){const w=y.map(k=>k.presence_ref),x=g.map(k=>k.presence_ref),E=y.filter(k=>x.indexOf(k.presence_ref)<0),_=g.filter(k=>w.indexOf(k.presence_ref)<0);E.length>0&&(h[m]=E),_.length>0&&(f[m]=_)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:f},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(h,f)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),y.length>0){const g=e[h].map(x=>x.presence_ref),w=y.filter(x=>g.indexOf(x.presence_ref)<0);e[h].unshift(...w)}s(h,y,f)}),this.map(c,(h,f)=>{let m=e[h];if(!m)return;const y=f.map(g=>g.presence_ref);m=m.filter(g=>y.indexOf(g.presence_ref)<0),e[h]=m,o(h,m,f),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xy||(Xy={}));var Ta;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ta||(Ta={}));var vr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class lo{constructor(e,n={config:{}},s){var o,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mh(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Bb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new ka(this),this.broadcastEndpointURL=Vb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(vr.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(vr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(E=_==null?void 0:_.length)!==null&&E!==void 0?E:0,T=[];for(let C=0;C<k;C++){const I=_[C],{filter:{event:j,schema:$,table:V,filter:B}}=I,z=x&&x[C];if(z&&z.event===j&&lo.isFilterValueEqual(z.schema,$)&&lo.isFilterValueEqual(z.table,V)&&lo.isFilterValueEqual(z.filter,B))T.push(Object.assign(Object.assign({},I),{id:z.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(vr.SUBSCRIBED);return}}).receive("error",x=>{this.state=yt.errored,e==null||e(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===yt.joined&&e===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,f;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Mh(this,Dn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mh(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:y}=Dn;if(s&&[h,f,m,y].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var E,_,k;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(_=x.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(x=>x.callback(w,s)):(a=this.bindings[c])===null||a===void 0||a.filter(x=>{var E,_,k,T,C,I,j,$;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const V=x.id,B=(E=x.filter)===null||E===void 0?void 0:E.event;return V&&((_=n.ids)===null||_===void 0?void 0:_.includes(V))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((T=x.filter)===null||T===void 0)&&T.table)||x.filter.table===((C=n.data)===null||C===void 0?void 0:C.table))}else{const V=(j=(I=x==null?void 0:x.filter)===null||I===void 0?void 0:I.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return V==="*"||V===(($=n==null?void 0:n.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:_,table:k,commit_timestamp:T,type:C,errors:I}=E;w=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:T,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(E))}x.callback(w,s)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&lo.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dn.close,{},e)}_onError(e){this._on(Dn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jy(e.columns,e.old_record)),n}}const Lh=()=>{},Ec={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BM=[1e3,2e3,5e3,1e4],zM=1e4,VM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HM{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kf,this.transport=null,this.heartbeatIntervalMs=Ec.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lh,this.ref=0,this.reconnectTimer=null,this.vsn=Gy,this.logger=Lh,this.conn=null,this.sendBuffer=[],this.serializer=new OM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Tf.websocket}`,this.httpEndpoint=Vb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RM.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case as.connecting:return ei.Connecting;case as.open:return ei.Open;case as.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new lo(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ec.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:a,ref:c}=n,h=c?`(${c})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${o} ${h}`.trim(),a),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===as.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===as.open||this.conn.readyState===as.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([VM],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:NM};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Dn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Bb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ec.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,c,h,f,m,y,g,w,x;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:kf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ec.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Lh,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Gy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(E=>BM[E-1]||zM),this.vsn){case AM:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((E,_)=>_(JSON.stringify(E))),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:((E,_)=>_(JSON.parse(E)));break;case Fb:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Oa=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WM(t,e,n){const s=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function qM(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function KM(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:a,headers:c}){const h=WM(t.baseUrl,s,o),f=await qM(t.auth),m=await e(h,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...c},body:a?JSON.stringify(a):void 0}),y=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),w=g&&y?JSON.parse(y):y;if(!m.ok){const x=g?w:void 0,E=x==null?void 0:x.error;throw new Oa((E==null?void 0:E.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:x})}return{status:m.status,headers:m.headers,data:w}}}}function kc(t){return t.join("")}var GM=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:kc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kc(t.namespace)}`}),!0}catch(e){if(e instanceof Oa&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Oa&&n.status===409)return;throw n}}};function Ji(t){return t.join("")}var JM=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ji(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Oa&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Oa&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},YM=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=KM({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new GM(this.client,e),this.tableOps=new JM(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Tu=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var XM=class extends Tu{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rf=class extends Tu{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Ip=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QM=()=>Response,If=t=>{if(Array.isArray(t))return t.map(n=>If(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=If(s)}),e},ZM=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eL=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function tL(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Da(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nL(t){var e=tL(t,"string");return Da(e)=="symbol"?e:e+""}function rL(t,e,n){return(e=nL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qy(Object(n),!0).forEach(function(s){rL(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Uh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sL=async(t,e,n)=>{t instanceof await QM()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const o=t.status||500,a=(s==null?void 0:s.statusCode)||o+"";e(new XM(Uh(s),o,a))}).catch(s=>{e(new Rf(Uh(s),s))}):e(new Rf(Uh(t),t))},iL=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(ZM(s)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),ke(ke({},o),n))};async function Za(t,e,n,s,o,a){return new Promise((c,h)=>{t(n,iL(e,s,o,a)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>sL(f,h,s))})}async function Ma(t,e,n,s){return Za(t,"GET",e,n,s)}async function On(t,e,n,s,o){return Za(t,"POST",e,s,o,n)}async function Nf(t,e,n,s,o){return Za(t,"PUT",e,s,o,n)}async function oL(t,e,n,s){return Za(t,"HEAD",e,ke(ke({},n),{},{noResolveJson:!0}),s)}async function Np(t,e,n,s,o){return Za(t,"DELETE",e,s,o,n)}var aL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}}};let Hb;Hb=Symbol.toStringTag;var lL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Hb]="BlobDownloadBuilder",this.promise=null}asStream(){return new aL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}}};const cL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uL=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Ip(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let a;const c=ke(ke({},Zy),s);let h=ke(ke({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),f&&a.append("metadata",o.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),f&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(f))):(a=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(h=ke(ke({},h),s.headers));const m=o._removeEmptyFolders(e),y=o._getFinalPath(m),g=await(t=="PUT"?Nf:On)(o.fetch,`${o.url}/object/${y}`,a,ke({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const a=o._removeEmptyFolders(t),c=o._getFinalPath(a),h=new URL(o.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let f;const m=ke({upsert:Zy.upsert},s),y=ke(ke({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:a,fullPath:(await Nf(o.fetch,h.toString(),f,{headers:y})).Key},error:null}}catch(f){if(o.shouldThrowOnError)throw f;if(Ze(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ke({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const a=await On(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(n.url+a.url),h=c.searchParams.get("token");if(!h)throw new Tu("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await On(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await On(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),a=await On(s.fetch,`${s.url}/object/sign/${o}`,ke({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${s.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await On(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>ke(ke({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),c=()=>Ma(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new lL(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:If(await Ma(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await oL(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ze(s)&&s instanceof Rf){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${h}`)}}}async remove(t){var e=this;try{return{data:await Np(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ke(ke(ke({},cL),e),{},{prefix:t||""});return{data:await On(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ke({},t);return{data:await On(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Wb="2.91.1",qb={"X-Client-Info":`storage-js/${Wb}`};var dL=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ke(ke({},qb),e),this.fetch=Ip(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Ma(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ma(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await On(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Nf(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Np(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},hL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},qb),e),this.fetch=Ip(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await On(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await Ma(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Np(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!eL(t))throw new Tu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new YM({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,a){const c=o[a];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(o,h),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}}}})}};const Ap={"X-Client-Info":`storage-js/${Wb}`,"Content-Type":"application/json"};var Kb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function an(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var $h=class extends Kb{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fL=class extends Kb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Pp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ew=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mL=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new $h(ew(a),s,c))}).catch(()=>{const a=s+"";e(new $h(o.statusText||`HTTP ${s} error`,s,a))});else{const a=s+"";e(new $h(o.statusText||`HTTP ${s} error`,s,a))}}else e(new fL(ew(t),t))},gL=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(pL(s)?(o.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,ke(ke({},o),n)):o};async function vL(t,e,n,s,o,a){return new Promise((c,h)=>{t(n,gL(e,s,o,a)).then(f=>{if(!f.ok)throw f;if(s!=null&&s.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>mL(f,h,s))})}async function ln(t,e,n,s,o){return vL(t,"POST",e,s,o,n)}var yL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},Ap),e),this.fetch=Pp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await ln(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await ln(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}}},wL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},Ap),e),this.fetch=Pp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ln(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ln(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ln(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}},_L=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ke(ke({},Ap),e),this.fetch=Pp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await ln(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ln(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}}},xL=class extends _L{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bL(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},bL=class extends yL{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new SL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},SL=class extends wL{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ke(ke({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},EL=class extends dL{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new uL(this.url,this.headers,t,this.fetch)}get vectors(){return new xL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hL(this.url+"/iceberg",this.headers,this.fetch)}};const Gb="2.91.1",ro=30*1e3,Af=3,Fh=Af*ro,kL="http://localhost:9999",TL="supabase.auth.token",CL={"X-Client-Info":`gotrue-js/${Gb}`},Pf="X-Supabase-Api-Version",Jb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IL=600*1e3;class La extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NL extends La{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function AL(t){return pe(t)&&t.name==="AuthApiError"}class ti extends La{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nr extends La{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class sn extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PL(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Yi extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tc extends Nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cc extends Nr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jL(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class tw extends Nr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class OL extends Nr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jf extends Nr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Bh(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class nw extends Nr{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Of extends Nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rw=` 	
\r=`.split(""),DL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rw.length;e+=1)t[rw[e].charCodeAt(0)]=-2;for(let e=0;e<eu.length;e+=1)t[eu[e].charCodeAt(0)]=e;return t})();function sw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(eu[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(eu[s]),e.queuedBits-=6}}function Yb(t,e,n){const s=DL[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iw(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{UL(c,s,n)};for(let c=0;c<t.length;c+=1)Yb(t.charCodeAt(c),o,a);return e.join("")}function ML(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LL(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}ML(s,e)}}function UL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function go(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Yb(t.charCodeAt(o),n,s);return new Uint8Array(e)}function $L(t){const e=[];return LL(t,n=>e.push(n)),new Uint8Array(e)}function ri(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>sw(o,n,s)),sw(null,n,s),e.join("")}function FL(t){return Math.round(Date.now()/1e3)+t}function BL(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Xb=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function zL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Qb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",so=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nt=async(t,e)=>{await t.removeItem(e)};class Cu{constructor(){this.promise=new Cu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cu.promiseConstructor=Promise;function zh(t){const e=t.split(".");if(e.length!==3)throw new Of("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!RL.test(e[s]))throw new Of("JWT not in base64url format");return{header:JSON.parse(iw(e[0])),payload:JSON.parse(iw(e[1])),signature:go(e[2]),raw:{header:e[0],payload:e[1]}}}async function HL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function WL(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){s(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function qL(t){return("0"+t.toString(16)).substr(-2)}function KL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,qL).join("")}async function GL(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function JL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await GL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xi(t,e,n=!1){const s=KL();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await so(t,`${e}-code-verifier`,o);const a=await JL(s);return[a,s===a?"plain":"s256"]}const YL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XL(t){const e=t.headers.get(Pf);if(!e||!e.match(YL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function QL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ZL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(t){if(!eU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tU(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function ow(t){return JSON.parse(JSON.stringify(t))}const Ys=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nU=[502,503,504];async function aw(t){var e;if(!VL(t))throw new jf(Ys(t),0);if(nU.includes(t.status))throw new jf(Ys(t),t.status);let n;try{n=await t.json()}catch(a){throw new ti(Ys(a),a)}let s;const o=XL(t);if(o&&o.getTime()>=Jb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new nw(Ys(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new sn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new nw(Ys(n),t.status,n.weak_password.reasons);throw new NL(Ys(n),t.status||500,s)}const rU=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function Ee(t,e,n,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[Pf]||(a[Pf]=Jb["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const c=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await sU(t,e,n+h,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function sU(t,e,n,s,o,a){const c=rU(e,s,o,a);let h;try{h=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new jf(Ys(f),0)}if(h.ok||await aw(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(f){await aw(f)}}function Pn(t){var e;let n=null;aU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=FL(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function lw(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ms(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iU(t){return{data:t,error:null}}function oU(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,c=Eo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function cw(t){return t}function aU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hh=["global","local","others"];class lU{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Qb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Hh[0]){if(Hh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hh.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ms})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Eo(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:oU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ms})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:cw});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);m[`${k}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(pe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Qi(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ms})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Qi(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ms})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Qi(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ms})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Qi(e.userId);try{const{data:n,error:s}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Qi(e.userId),Qi(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,a,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:cw});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);m[`${k}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(pe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function uw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Zi={debug:!!(globalThis&&Xb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cU extends Zb{}async function uU(t,e,n){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hU(t){return parseInt(t,16)}function fU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function pU(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:c,notBefore:h,requestId:f,resources:m,scheme:y,uri:g,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=eS(t.address),E=y?`${y}://${s}`:s,_=t.statement?`${t.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${g}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),f&&(T+=`
Request ID: ${f}`),m){let C=`
Resources:`;for(const I of m){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);C+=`
- ${I}`}T+=C}return`${k}
${T}`}class ft extends Error{constructor({message:e,code:n,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class tu extends ft{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mU({error:t,options:e}){var n,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(tS(c)){if(a.rp.id!==c)return new ft({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ft({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(tS(s)){if(n.rpId!==s)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vU{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yU=new vU;function wU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Eo(t,["challenge","user","excludeCredentials"]),a=go(e).buffer,c=Object.assign(Object.assign({},n),{id:go(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:a,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:go(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function _U(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Eo(t,["challenge","allowCredentials"]),o=go(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];a.allowCredentials[c]=Object.assign(Object.assign({},h),{id:go(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function xU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ri(new Uint8Array(t.response.attestationObject)),clientDataJSON:ri(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ri(new Uint8Array(o.authenticatorData)),clientDataJSON:ri(new Uint8Array(o.clientDataJSON)),signature:ri(new Uint8Array(o.signature)),userHandle:o.userHandle?ri(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dw(){var t,e;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",e)}:{data:null,error:new tu("Empty credential response",e)}}catch(e){return{data:null,error:mU({error:e,options:t})}}}async function EU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",e)}:{data:null,error:new tu("Empty credential response",e)}}catch(e){return{data:null,error:gU({error:e,options:t})}}}const kU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const c=o[a];if(c!==void 0)if(Array.isArray(c))s[a]=c;else if(n(c))s[a]=c;else if(e(c)){const h=s[a];e(h)?s[a]=nu(h,c):s[a]=nu(c)}else s[a]=c}return s}function CU(t,e){return nu(kU,t,e||{})}function RU(t,e){return nu(TU,t,e||{})}class IU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},a){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const f=o??yU.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=CU(c.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:g}=await SU({publicKey:m,signal:f});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const m=RU(c.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:g}=await EU(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ti("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new La("rpId is required for WebAuthn authentication")};try{if(!dw())return{data:null,error:new ti("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:a});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:s,credential_response:f.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ti("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new La("rpId is required for WebAuthn registration")};try{if(!dw())return{data:null,error:new ti("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:a});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ti("Unexpected error in register",c)}}}}dU();const NU={url:kL,storageKey:TL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hw(t,e,n){return await n()}const eo={};class Ua{get jwks(){var e,n;return(n=(e=eo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=eo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},NU),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Ua.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ua.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&At()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Qb(a.fetch),this.lock=a.lock||hw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&At()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=uU:this.lock=hw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Xb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=uw(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(At()&&(n=zL(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),At()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jL(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new ti("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Pn}),{data:c,error:h}=a;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:y,password:g,options:w}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await Xi(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:g,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:E},xform:Pn})}else if("phone"in e){const{phone:y,password:g,options:w}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Pn})}else throw new Tc("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:h}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lw})}else if("phone"in e){const{phone:a,password:c,options:h}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lw})}else throw new Tc("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new Yi;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,c,h,f,m,y,g,w;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:_,wallet:k,statement:T,options:C}=e;let I;if(At())if(typeof k=="object")I=k;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")I=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const j=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),$=await I.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=eS($[0]);let B=(s=C==null?void 0:C.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const te=await I.request({method:"eth_chainId"});B=hU(te)}const z={domain:j.host,address:V,statement:T,uri:j.href,version:"1",chainId:B,nonce:(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=C==null?void 0:C.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=C==null?void 0:C.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=pU(z),E=await I.request({method:"personal_sign",params:[fU(x),V]})}try{const{data:_,error:k}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Pn});if(k)throw k;if(!_||!_.session||!_.user){const T=new Yi;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:k})}catch(_){if(pe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,s,o,a,c,h,f,m,y,g,w,x;let E,_;if("message"in e)E=e.message,_=e.signature;else{const{chain:k,wallet:T,statement:C,options:I}=e;let j;if(At())if(typeof T=="object")j=T;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))j=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=T}const $=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const V=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),C?{statement:C}:null));let B;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")B=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)B=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)E=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),_=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(s=I==null?void 0:I.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((g=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const V=await j.signMessage(new TextEncoder().encode(E),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=V}}try{const{data:k,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ri(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pn});if(T)throw T;if(!k||!k.session||!k.user){const C=new Yi;return this._returnResult({data:{user:null,session:null},error:C})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(pe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new OL;const{data:a,error:c}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Pn});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const h=new Yi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:c}=e,h=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const y=new Yi;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,a,c;try{if("email"in e){const{email:h,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Xi(this.storage,this.storageKey));const{error:g}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Tc("You must provide either an email or phone number.")}catch(h){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Pn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,a,c;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Xi(this.storage,this.storageKey));const m=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:iU});return!((a=m.data)===null||a===void 0)&&a.url&&At()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new sn;const{error:o}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:c}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:c,error:h}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Tc("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Gs(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Vh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=tU(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ms}):await this._useSession(async n=>{var s,o,a;const{data:c,error:h}=n;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:ms})})}catch(n){if(pe(n))return PL(n)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new sn;const c=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Xi(this.storage,this.storageKey));const{data:m,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:ms});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:c}=zh(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!At())throw new Cc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tw("No code detected.");const{data:C,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:h,expires_at:f,token_type:m}=e;if(!a||!h||!c||!m)throw new Cc("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(h);let w=y+g;f&&(w=parseInt(f));const x=w-y;x*1e3<=ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const E=w-g;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:_,error:k}=await this._getUser(a);if(k)throw k;const T={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:w,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(AL(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=BL(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Xi(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var c,h,f,m,y;const{data:g,error:w}=a;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return At()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:c,provider:h,token:f,access_token:m,nonce:y}=e,g=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:f,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Pn}),{data:w,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Yi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)throw c;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await WL(async o=>(o>0&&await HL(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(o,a)=>{const c=200*Math.pow(2,o);return a&&Bh(a)&&Date.now()+c-s<ro})}catch(s){if(this._debug(n,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),At()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Gs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await so(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Vh()}else if(o&&!o.user&&!o.user){const c=await Gs(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Nt(this.storage,this.storageKey+"-user"),await so(this.storage,this.storageKey,o)):o.user=Vh()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fh;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Fh}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Bh(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Cu;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new sn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),pe(a)){const c={data:null,error:a};return Bh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await so(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=ow(o);await so(this.storage,this.storageKey,a)}else{const o=ow(n);await so(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ro);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ro}ms, refresh threshold is ${Af} ticks`),o<=Af&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,c]=await Xi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xU(e.webauthn.credential_response):bU(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:wU(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:_U(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zh(s.access_token);let c=null;a.aal&&(c=a.aal);let h=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=a.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new sn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new sn});const c=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new sn});const c=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new sn})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(h=>h.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+IL>o)return s;const{data:a,error:c}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});s=x.session.access_token}const{header:o,payload:a,signature:c,raw:{header:h,payload:f}}=zh(s);n!=null&&n.allowExpired||QL(a.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:o,signature:c},error:null}}const y=ZL(o.alg),g=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,c,$L(`${h}.${f}`)))throw new Of("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}}Ua.nextInstanceID={};const AU=Ua,PU="2.91.1";let xa="";typeof Deno<"u"?xa="deno":typeof document<"u"?xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xa="react-native":xa="node";const jU={"X-Client-Info":`supabase-js-${xa}/${PU}`},OU={headers:jU},DU={schema:"public"},MU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LU={};function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function UU(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if($a(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $U(t){var e=UU(t,"string");return $a(e)=="symbol"?e:e+""}function FU(t,e,n){return(e=$U(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(n),!0).forEach(function(s){FU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const BU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zU=()=>Headers,VU=(t,e,n)=>{const s=BU(n),o=zU();return async(a,c)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let m=new o(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(a,nt(nt({},c),{},{headers:m}))}};function HU(t){return t.endsWith("/")?t:t+"/"}function WU(t,e){var n,s;const{db:o,auth:a,realtime:c,global:h}=t,{db:f,auth:m,realtime:y,global:g}=e,w={db:nt(nt({},f),o),auth:nt(nt({},m),a),realtime:nt(nt({},y),c),storage:{},global:nt(nt(nt({},g),h),{},{headers:nt(nt({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function qU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var KU=class extends AU{constructor(t){super(t)}},GU=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const a=qU(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,h={db:DU,realtime:LU,auth:nt(nt({},MU),{},{storageKey:c}),global:OU},f=WU(n??{},h);if(this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=VU(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new CM(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new EL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new bM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:a,flowType:c,lock:h,debug:f,throwOnError:m},y,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KU({url:this.authUrl.href,headers:nt(nt({},w),y),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:c,lock:h,debug:f,throwOnError:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HM(this.realtimeUrl.href,nt(nt({},t),{},{params:nt(nt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const JU=(t,e,n)=>new GU(t,e,n);function YU(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}YU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XU="YOUR_SUPABASE_URL",QU="YOUR_SUPABASE_ANON_KEY",is=JU(XU,QU),Wh={async syncUser(t,e){try{const n=await t.getIdToken(),{data:s,error:o}=await is.from("users").select("*, user_roles(role_id, roles(name))").eq("firebase_uid",t.uid).single();if(o&&o.code!=="PGRST116")throw o;let a;if(s)a=s.id;else{const{data:f,error:m}=await is.from("users").insert({firebase_uid:t.uid,email:t.email,display_name:t.displayName,phone:t.phoneNumber,avatar_url:t.photoURL}).select().single();if(m)throw m;a=f.id;const{data:y,error:g}=await is.from("roles").select("id").eq("name",e).single();if(g)throw g;const{error:w}=await is.from("user_roles").insert({user_id:a,role_id:y.id});if(w)throw w;e==="buyer"?await is.from("buyers").insert({user_id:a}):e==="composer"&&await is.from("composers").insert({user_id:a})}const{data:c,error:h}=await is.from("users").select(`
          *,
          user_roles(
            role_id,
            roles(name)
          )
        `).eq("id",a).single();if(h)throw h;return{id:c.id,firebaseUid:c.firebase_uid,email:c.email,displayName:c.display_name,roles:c.user_roles.map(f=>f.roles.name)}}catch(n){throw console.error("Error syncing user:",n),n}},async logAudit(t,e,n){try{await is.from("audit_logs").insert({user_id:t,action:e,payload:n})}catch(s){console.error("Error logging audit:",s)}}};function ZU({onLogin:t}){const[e,n]=S.useState(""),[s,o]=S.useState(""),[a,c]=S.useState("buyer"),[h,f]=S.useState(!1),[m,y]=S.useState(!1),g=async x=>{if(x.preventDefault(),!e||!s){wt.error("Please enter email and password");return}if(s.length<6){wt.error("Password must be at least 6 characters");return}f(!0);try{let E;m?(E=(await ky(bc,e,s)).user,await Wh.syncUser(E,a),wt.success("Account created successfully!")):(E=(await Ty(bc,e,s)).user,await Wh.syncUser(E,a),wt.success("Logged in successfully!")),t(e,s,a)}catch(E){console.error("Authentication error:",E),E.code==="auth/user-not-found"?(wt.error("No account found with this email. Please sign up."),y(!0)):E.code==="auth/wrong-password"?wt.error("Incorrect password. Please try again."):E.code==="auth/email-already-in-use"?(wt.error("This email is already registered. Please sign in instead."),y(!1)):E.code==="auth/weak-password"?wt.error("Password is too weak. Please use at least 6 characters."):E.code==="auth/invalid-email"?wt.error("Invalid email address format."):wt.error(E.message||"Authentication failed. Please try again.")}finally{f(!1)}},w=async x=>{f(!0);const E={buyer:{email:"buyer@primemedia.com",password:"demo123"},composer:{email:"composer@primemedia.com",password:"demo123"},admin:{email:"admin@primemedia.com",password:"demo123"}},{email:_,password:k}=E[x];try{let T;try{T=(await Ty(bc,_,k)).user}catch(C){if(C.code==="auth/user-not-found")T=(await ky(bc,_,k)).user,wt.success(`Demo ${x} account created!`);else throw C}await Wh.syncUser(T,x),t(_,k,x),wt.success(`Logged in as ${x}`)}catch(T){console.error("Quick login error:",T),wt.error(T.message||"Quick login failed")}finally{f(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"text-center lg:text-left space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-4 rounded-2xl",children:d.jsx(Ln,{className:"size-12 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Prime Media"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Choral Music Marketplace"})]})]}),d.jsxs("div",{className:"space-y-4 mt-8",children:[d.jsx("h2",{className:"text-3xl font-semibold text-gray-800",children:"Welcome to the World's Leading Choral Platform"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Connect composers with choirs worldwide. Buy, sell, and discover exceptional choral compositions."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[d.jsx("h3",{className:"font-semibold text-blue-600 mb-2",children:"For Buyers"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Browse and purchase high-quality choral music"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[d.jsx("h3",{className:"font-semibold text-purple-600 mb-2",children:"For Composers"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Sell your compositions to a global audience"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[d.jsx("h3",{className:"font-semibold text-green-600 mb-2",children:"For Admins"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Manage and grow your music platform"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(et,{className:"shadow-xl",children:[d.jsxs(ot,{children:[d.jsx(at,{className:"text-2xl",children:m?"Create Account":"Sign In"}),d.jsx(yr,{children:m?"Create a new account to get started":"Enter your credentials to access your account"})]}),d.jsxs(lt,{children:[d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"role",children:m?"Select Your Role":"Login As"}),d.jsxs(si,{value:a,onValueChange:x=>c(x),children:[d.jsx(oi,{children:d.jsx(ii,{})}),d.jsxs(ai,{children:[d.jsx(Be,{value:"buyer",children:"Buyer"}),d.jsx(Be,{value:"composer",children:"Composer"}),d.jsx(Be,{value:"admin",children:"Admin"})]})]})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"email",children:"Email"}),d.jsx(ni,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:x=>n(x.target.value),required:!0,disabled:h})]}),d.jsxs("div",{children:[d.jsx(_n,{htmlFor:"password",children:"Password"}),d.jsx(ni,{id:"password",type:"password",placeholder:m?"At least 6 characters":"Enter your password",value:s,onChange:x=>o(x.target.value),required:!0,disabled:h,minLength:6})]}),d.jsxs(Ue,{type:"submit",className:"w-full",size:"lg",disabled:h,children:[d.jsx($k,{className:"size-5 mr-2"}),h?"Processing...":m?"Create Account":"Sign In"]})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{type:"button",onClick:()=>y(!m),className:"text-sm text-blue-600 hover:underline",disabled:h,children:m?"Already have an account? Sign in":"Don't have an account? Sign up"})}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Quick Access"})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[d.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>w("buyer"),disabled:h,children:"Buyer"}),d.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>w("composer"),disabled:h,children:"Composer"}),d.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>w("admin"),disabled:h,children:"Admin"})]})]})]})]}),d.jsx("p",{className:"text-center text-sm text-gray-500",children:m?d.jsxs(d.Fragment,{children:["By creating an account, you agree to our"," ",d.jsx("a",{href:"#",className:"text-blue-600 hover:underline font-medium",children:"Terms of Service"})]}):d.jsxs(d.Fragment,{children:["Need help?"," ",d.jsx("a",{href:"#",className:"text-blue-600 hover:underline font-medium",children:"Contact Support"})]})})]})]})})}var e4=(t,e,n,s,o,a,c,h)=>{let f=document.documentElement,m=["light","dark"];function y(x){(Array.isArray(t)?t:[t]).forEach(E=>{let _=E==="class",k=_&&a?o.map(T=>a[T]||T):o;_?(f.classList.remove(...k),f.classList.add(a&&a[x]?a[x]:x)):f.setAttribute(E,x)}),g(x)}function g(x){h&&m.includes(x)&&(f.style.colorScheme=x)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)y(s);else try{let x=localStorage.getItem(e)||n,E=c&&x==="system"?w():x;y(E)}catch{}},t4=S.createContext(void 0),n4={setTheme:t=>{},themes:[]},r4=()=>{var t;return(t=S.useContext(t4))!=null?t:n4};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:a,value:c,themes:h,nonce:f,scriptProps:m})=>{let y=JSON.stringify([n,e,a,t,h,c,s,o]).slice(1,-1);return S.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${e4.toString()})(${y})`}})});const s4=({...t})=>{const{theme:e="system"}=r4();return d.jsx(rM,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function i4(){const[t,e]=S.useState(!1),[n,s]=S.useState({id:"1",name:"John Doe",email:"john@example.com",role:"buyer"}),[o,a]=S.useState("marketplace"),[c,h]=S.useState([]),f=(_,k,T)=>{s({buyer:{id:"1",name:"John Doe",email:"buyer@primemedia.com",role:"buyer"},composer:{id:"2",name:"Sarah Johnson",email:"composer@primemedia.com",role:"composer"},admin:{id:"5",name:"Admin User",email:"admin@primemedia.com",role:"admin"}}[T]),e(!0),a(T==="composer"?"composer":T==="admin"?"admin":"marketplace")},m=()=>{e(!1),s({id:"1",name:"John Doe",email:"john@example.com",role:"buyer"}),a("marketplace"),h([])},y=_=>{h(k=>k.find(C=>C.composition.id===_.id)?k.map(C=>C.composition.id===_.id?{...C,quantity:C.quantity+1}:C):[...k,{composition:_,quantity:1}])},g=_=>{h(k=>k.filter(T=>T.composition.id!==_))},w=()=>{h([])},x=_=>{a(_)},E=_=>{s(k=>({...k,role:_})),a(_==="composer"?"composer":_==="admin"?"admin":"marketplace")};return t?d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(s4,{}),d.jsx(gN,{currentUser:n,currentView:o,onViewChange:x,onRoleChange:E,onLogout:m,cart:c,onRemoveFromCart:g}),d.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o==="marketplace"&&d.jsx(tA,{currentUser:n,onAddToCart:y}),o==="learning"&&d.jsx(wM,{}),o==="composer"&&n.role==="composer"&&d.jsx(iM,{currentUser:n}),o==="buyer"&&d.jsx(vM,{currentUser:n,cart:c,onClearCart:w}),o==="admin"&&n.role==="admin"&&d.jsx(yM,{})]})]}):d.jsx(ZU,{onLogin:f})}rk.createRoot(document.getElementById("root")).render(d.jsx(i4,{}));
